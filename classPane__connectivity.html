<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Rocstar: Pane_connectivity Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IRTriangles_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rocstar
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Rocstar multiphysics simulation application</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classPane__connectivity.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classPane__connectivity-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Pane_connectivity Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Pane_connectivity:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity__coll__graph.png" border="0" usemap="#Pane__connectivity_coll__map" alt="Collaboration graph"/></div>
<map name="Pane__connectivity_coll__map" id="Pane__connectivity_coll__map">
<area shape="rect" id="node2" href="classSimple__manifold__2.html" title="Provides a data structure accessing nodes, elements, and edges in a pane, in a manner similar to the ..." alt="" coords="287,397,417,427"/><area shape="rect" id="node6" title="STL class. " alt="" coords="373,101,464,131"/><area shape="rect" id="node18" href="classFacet__ID.html" title="The ID of a facet (edge in 2D and face in 3D) encodes an element ID and the local facet&#39;s ID internal..." alt="" coords="604,101,679,131"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34c3df6cc9f08abd55e2dd95ba9b880d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a34c3df6cc9f08abd55e2dd95ba9b880d">Pane_connectivity</a> (const COM::Attribute *mesh, MPI_Comm c=<a class="el" href="utilities_2RocfracPrep_2mpif_8h.html#afe544bcc89b1725a611755e7ed00f013">MPI_COMM_WORLD</a>)</td></tr>
<tr class="memdesc:a34c3df6cc9f08abd55e2dd95ba9b880d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructors.  <a href="#a34c3df6cc9f08abd55e2dd95ba9b880d">More...</a><br /></td></tr>
<tr class="separator:a34c3df6cc9f08abd55e2dd95ba9b880d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8feff4051a733e61cc0708373686d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#aef8feff4051a733e61cc0708373686d1">Pane_connectivity</a> (const <a class="el" href="classSimple__manifold__2.html">Simple_manifold_2</a> **mani2, MPI_Comm c=<a class="el" href="utilities_2RocfracPrep_2mpif_8h.html#afe544bcc89b1725a611755e7ed00f013">MPI_COMM_WORLD</a>)</td></tr>
<tr class="memdesc:aef8feff4051a733e61cc0708373686d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct from an array of <a class="el" href="classSimple__manifold__2.html" title="Provides a data structure accessing nodes, elements, and edges in a pane, in a manner similar to the ...">Simple_manifold_2</a>.  <a href="#aef8feff4051a733e61cc0708373686d1">More...</a><br /></td></tr>
<tr class="separator:aef8feff4051a733e61cc0708373686d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accaa2c156be9bda857170acdac72d29d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#accaa2c156be9bda857170acdac72d29d">compute_pconn</a> (COM::Attribute *pconn_n, COM::Attribute *pconn_f=NULL)  throw (int)</td></tr>
<tr class="memdesc:accaa2c156be9bda857170acdac72d29d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create b2v mapping for nodes and facets (edges or faces) correspondence.  <a href="#accaa2c156be9bda857170acdac72d29d">More...</a><br /></td></tr>
<tr class="separator:accaa2c156be9bda857170acdac72d29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a79dd23302bd865402082c0492af1b703"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a79dd23302bd865402082c0492af1b703">size_of_cpanes</a> (const COM::Attribute *pconn, const int *<a class="el" href="roccom__c_09_09_8h.html#ad5be5aa020e3cbcd2470a5c5a94ca9d5">pane_id</a>, int *npanes_total, int *npanes_ghost=NULL)</td></tr>
<tr class="memdesc:a79dd23302bd865402082c0492af1b703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of communicating panes.  <a href="#a79dd23302bd865402082c0492af1b703">More...</a><br /></td></tr>
<tr class="separator:a79dd23302bd865402082c0492af1b703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16faeac7ebc353ccba9073194fc1c00"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#ad16faeac7ebc353ccba9073194fc1c00">pconn_nblocks</a> (const COM::Attribute *pconn)</td></tr>
<tr class="memdesc:ad16faeac7ebc353ccba9073194fc1c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the number of pconn blocks for all panes.  <a href="#ad16faeac7ebc353ccba9073194fc1c00">More...</a><br /></td></tr>
<tr class="separator:ad16faeac7ebc353ccba9073194fc1c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a072f34ae1febfd3cbcb168a18e14207f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a072f34ae1febfd3cbcb168a18e14207f">pconn_offset</a> ()</td></tr>
<tr class="memdesc:a072f34ae1febfd3cbcb168a18e14207f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve an offset to avoid the number of communicating panes when reading a pconn attribute.  <a href="#a072f34ae1febfd3cbcb168a18e14207f">More...</a><br /></td></tr>
<tr class="separator:a072f34ae1febfd3cbcb168a18e14207f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3ce3d7870c99f55820f17ee847a9ab19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a3ce3d7870c99f55820f17ee847a9ab19">create_b2map</a> (COM::Attribute *pconn, bool for_facet)  throw (int)</td></tr>
<tr class="memdesc:a3ce3d7870c99f55820f17ee847a9ab19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create b2v mapping (pane connectivity) for nodes or edges and store the solution into the given Roccom <a class="el" href="classAttribute.html" title="An Attribute object is a data member of a window. ">Attribute</a>.  <a href="#a3ce3d7870c99f55820f17ee847a9ab19">More...</a><br /></td></tr>
<tr class="separator:a3ce3d7870c99f55820f17ee847a9ab19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a260d6d24c2db924f9048ea4267c55b56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a260d6d24c2db924f9048ea4267c55b56">create_b2map</a> (std::vector&lt; std::vector&lt; int &gt; &gt; &amp;b2, bool for_facet)  throw (int)</td></tr>
<tr class="memdesc:a260d6d24c2db924f9048ea4267c55b56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create b2v mapping (pane connectivity) for nodes or edges and store the results into a vector of vectors (with the same format as above).  <a href="#a260d6d24c2db924f9048ea4267c55b56">More...</a><br /></td></tr>
<tr class="separator:a260d6d24c2db924f9048ea4267c55b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675e82b5fc50f52bf4d2cea5a9964e47"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a675e82b5fc50f52bf4d2cea5a9964e47">get_local_boundary_nodes</a> (std::vector&lt; int &gt; &amp;nodes, std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;pnts, bool for_facet)  throw (int)</td></tr>
<tr class="memdesc:a675e82b5fc50f52bf4d2cea5a9964e47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the IDs and coordinates of boundary nodes of all local panes.  <a href="#a675e82b5fc50f52bf4d2cea5a9964e47">More...</a><br /></td></tr>
<tr class="separator:a675e82b5fc50f52bf4d2cea5a9964e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a70f323f098007f3ce0dbdae07fdce"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a77a70f323f098007f3ce0dbdae07fdce">collect_boundary_nodes</a> (std::vector&lt; int &gt; &amp;nodes, std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;pnts, bool for_facet)  throw (int)</td></tr>
<tr class="memdesc:a77a70f323f098007f3ce0dbdae07fdce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect the boundary nodes of all panes that are coincident with the boundary nodes of local panes.  <a href="#a77a70f323f098007f3ce0dbdae07fdce">More...</a><br /></td></tr>
<tr class="separator:a77a70f323f098007f3ce0dbdae07fdce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5051f8f3f33631ad5d99cec89ed72c62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a5051f8f3f33631ad5d99cec89ed72c62">determine_coisolated_nodes</a> (const COM::Pane &amp;pn, std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;pnts, const double tol, std::vector&lt; bool &gt; &amp;is_co, <a class="el" href="classKD__tree__3.html">KD_tree_3</a> *tree=NULL)  throw (int)</td></tr>
<tr class="separator:a5051f8f3f33631ad5d99cec89ed72c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ac7577e6e955fd494e10bdb2cce7c5cb3"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; const <br class="typebreak" />
COM::Pane * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#ac7577e6e955fd494e10bdb2cce7c5cb3">Pane_set</a></td></tr>
<tr class="separator:ac7577e6e955fd494e10bdb2cce7c5cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9a68dac690ed7c228041479cc8e68c1"><td class="memItemLeft" align="right" valign="top">typedef MAP::Point_3&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a></td></tr>
<tr class="separator:ab9a68dac690ed7c228041479cc8e68c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aba68e6fefe21bb9dd2165ff625a5162a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#aba68e6fefe21bb9dd2165ff625a5162a">collect_nodes</a> (const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;ns, std::vector&lt; int &gt; &amp;nodes, std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;pnts, bool for_facet)</td></tr>
<tr class="separator:aba68e6fefe21bb9dd2165ff625a5162a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa21832c2803ed8eae2093a2889302e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#aeaa21832c2803ed8eae2093a2889302e">collect_points</a> (const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;ns, std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;pnts)</td></tr>
<tr class="separator:aeaa21832c2803ed8eae2093a2889302e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7584795d2221a447306c6096b8c0e62e"><td class="memItemLeft" align="right" valign="top">const COM::Window *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a></td></tr>
<tr class="separator:a7584795d2221a447306c6096b8c0e62e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf474a8df0d92be8900ae031c4a6ed4e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classPane__connectivity.html#ac7577e6e955fd494e10bdb2cce7c5cb3">Pane_set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a></td></tr>
<tr class="separator:acf474a8df0d92be8900ae031c4a6ed4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88229c28356bb087fbe7e8e25534d21"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classSimple__manifold__2.html">Simple_manifold_2</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">_mani2</a></td></tr>
<tr class="separator:af88229c28356bb087fbe7e8e25534d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ef5bdcc1ff6ad4c46b80b59829c04a"><td class="memItemLeft" align="right" valign="top">MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a></td></tr>
<tr class="separator:a02ef5bdcc1ff6ad4c46b80b59829c04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a271eabc7b7aba562de4a4c345521c4f0"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a> =1</td></tr>
<tr class="separator:a271eabc7b7aba562de4a4c345521c4f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00046">46</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ac7577e6e955fd494e10bdb2cce7c5cb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;const COM::Pane*&gt; <a class="el" href="classPane__connectivity.html#ac7577e6e955fd494e10bdb2cce7c5cb3">Pane_set</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00047">47</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab9a68dac690ed7c228041479cc8e68c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef MAP::Point_3&lt;double&gt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00048">48</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a34c3df6cc9f08abd55e2dd95ba9b880d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPane__connectivity.html">Pane_connectivity</a> </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>c</em> = <code><a class="el" href="utilities_2RocfracPrep_2mpif_8h.html#afe544bcc89b1725a611755e7ed00f013">MPI_COMM_WORLD</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructors. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00072">72</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8h_source.html#l00127">_panes</a>, and <a class="el" href="Pane__connectivity_8h_source.html#l00126">_win</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  : <a class="code" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a>(mesh-&gt;window()), <a class="code" href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">_mani2</a>(NULL),</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>( <a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()?c:MPI_COMM_NULL) </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a>-&gt;panes( <span class="keyword">const_cast&lt;</span>std::vector&lt;const COM::Pane*&gt;&amp;<span class="keyword">&gt;</span>(<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="ttc" id="classPane__connectivity_html_acf474a8df0d92be8900ae031c4a6ed4e"><div class="ttname"><a href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">Pane_connectivity::_panes</a></div><div class="ttdeci">const Pane_set _panes</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00127">Pane_connectivity.h:127</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a02ef5bdcc1ff6ad4c46b80b59829c04a"><div class="ttname"><a href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">Pane_connectivity::_comm</a></div><div class="ttdeci">MPI_Comm _comm</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00129">Pane_connectivity.h:129</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a7584795d2221a447306c6096b8c0e62e"><div class="ttname"><a href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">Pane_connectivity::_win</a></div><div class="ttdeci">const COM::Window *const _win</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00126">Pane_connectivity.h:126</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
<div class="ttc" id="classPane__connectivity_html_af88229c28356bb087fbe7e8e25534d21"><div class="ttname"><a href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">Pane_connectivity::_mani2</a></div><div class="ttdeci">const Simple_manifold_2 ** _mani2</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00128">Pane_connectivity.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aef8feff4051a733e61cc0708373686d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPane__connectivity.html">Pane_connectivity</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimple__manifold__2.html">Simple_manifold_2</a> **&#160;</td>
          <td class="paramname"><em>mani2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>c</em> = <code><a class="el" href="utilities_2RocfracPrep_2mpif_8h.html#afe544bcc89b1725a611755e7ed00f013">MPI_COMM_WORLD</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct from an array of <a class="el" href="classSimple__manifold__2.html" title="Provides a data structure accessing nodes, elements, and edges in a pane, in a manner similar to the ...">Simple_manifold_2</a>. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00080">80</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8h_source.html#l00127">_panes</a>, and <a class="el" href="Pane__connectivity_8h_source.html#l00126">_win</a>.</p>
<div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  : <a class="code" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a>( mani2[0]-&gt;pane()-&gt;window()), <a class="code" href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">_mani2</a>(mani2),</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>( <a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()?c:MPI_COMM_NULL) </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a>-&gt;panes( <span class="keyword">const_cast&lt;</span>std::vector&lt;const COM::Pane*&gt;&amp;<span class="keyword">&gt;</span>(<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>));</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="ttc" id="classPane__connectivity_html_acf474a8df0d92be8900ae031c4a6ed4e"><div class="ttname"><a href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">Pane_connectivity::_panes</a></div><div class="ttdeci">const Pane_set _panes</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00127">Pane_connectivity.h:127</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a02ef5bdcc1ff6ad4c46b80b59829c04a"><div class="ttname"><a href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">Pane_connectivity::_comm</a></div><div class="ttdeci">MPI_Comm _comm</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00129">Pane_connectivity.h:129</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a7584795d2221a447306c6096b8c0e62e"><div class="ttname"><a href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">Pane_connectivity::_win</a></div><div class="ttdeci">const COM::Window *const _win</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00126">Pane_connectivity.h:126</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
<div class="ttc" id="classPane__connectivity_html_af88229c28356bb087fbe7e8e25534d21"><div class="ttname"><a href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">Pane_connectivity::_mani2</a></div><div class="ttdeci">const Simple_manifold_2 ** _mani2</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00128">Pane_connectivity.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a77a70f323f098007f3ce0dbdae07fdce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double collect_boundary_nodes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pnts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_facet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">int</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collect the boundary nodes of all panes that are coincident with the boundary nodes of local panes. </p>
<p>Also returns an estimated tolerance for window query.</p>
<p>The output nodes is in the following format: &lt;+/-pane_id&gt; &lt;n=#of nodes&gt; &lt;local_id 1&gt; ... &lt;local_id n&gt;=""&gt; &lt;+/-pane_id 2&gt; .... !repeat the above Note that for remote panes, the negative of pane ids are given. The local nodes are always listed first. For points, they are stored as minx miny minz maxx maxy maxz x1 y1 z1 x2 y2 z2 ... xn yn zn ! then repeats for other panes in consecutive order for all the boundary nodes. It returns an estimated tolerance for window query. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00433">433</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8C_source.html#l00379">collect_coincident_nodes()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, and <a class="el" href="Pane__connectivity_8C_source.html#l00334">make_kd_tree()</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                                                   {</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordtype">double</span> tol = <a class="code" href="classPane__connectivity.html#a675e82b5fc50f52bf4d2cea5a9964e47">get_local_boundary_nodes</a>( nodes, pnts, for_facet);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a> == MPI_COMM_NULL) <span class="keywordflow">return</span> tol;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordtype">int</span> comm_size, comm_rank;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  MPI_Comm_size( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;comm_size);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  MPI_Comm_rank( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;comm_rank);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">// Gather the size info</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordtype">int</span>  ns=nodes.size(); assert( pnts.size()==nodes.size());</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  std::vector&lt;int&gt; nss(  comm_size);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  MPI_Allgather( &amp;ns, 1, MPI_INT, &amp;nss[0], 1, MPI_INT, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  std::vector&lt;MPI_Request&gt; reqs; reqs.reserve( (comm_size-1)*2);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  std::vector&lt;int&gt;     l_nodes = nodes;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  std::vector&lt;Point_3&gt; l_pnts = pnts;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">// Now have each processor broadcast their </span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=1; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;comm_size; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> to_rank = (comm_rank+<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>)%comm_size;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    MPI_Request req;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    MPI_Isend( &amp;l_nodes[0], nodes.size(), MPI_INT, to_rank,</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;               101, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;req); reqs.push_back(req);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    MPI_Isend( &amp;l_pnts[0], 3*pnts.size(), MPI_DOUBLE, to_rank,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;               102, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;req); reqs.push_back(req);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classKD__tree__pntref__3.html">KD_tree_pntref_3</a> local_rtree;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  std::vector&lt; Point_3&gt; bbox;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  std::vector&lt; int&gt;     r_nodes, r_nodes_pre = nodes;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  std::vector&lt; Point_3&gt; r_pnts,  r_pnts_pre;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordtype">int</span> from_rank_pre = comm_rank;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=comm_size-1; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&gt;=1; --<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    MPI_Request l_reqs[2];</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    MPI_Status  l_stats[2];</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> from_rank = (comm_rank+<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>)%comm_size;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    r_nodes.resize( nss[from_rank]);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    r_pnts.resize( nss[from_rank]);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    MPI_Irecv( &amp;r_nodes[0], r_nodes.size(), MPI_INT, from_rank,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;               101, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;l_reqs[0]);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    MPI_Irecv( &amp;r_pnts[0], 3*r_pnts.size(), MPI_DOUBLE, from_rank,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;               102, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;l_reqs[1]);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">// Overlap computation with communication.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>==comm_size-1) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="Pane__connectivity_8C.html#a2f91c8aaf095a5aa24998ba4aae3e262">make_kd_tree</a>( r_nodes_pre, pnts, bbox, local_rtree);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      <a class="code" href="Pane__connectivity_8C.html#a66971bb35acc2d41596346f6278833a8">collect_coincident_nodes</a>( r_nodes_pre, r_pnts_pre, bbox, local_rtree,</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                                tol, nodes, pnts);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    MPI_Waitall( 2, l_reqs, l_stats);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    r_nodes_pre.swap( r_nodes); r_pnts_pre.swap( r_pnts);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    from_rank_pre = from_rank;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="Pane__connectivity_8C.html#a66971bb35acc2d41596346f6278833a8">collect_coincident_nodes</a>( r_nodes_pre, r_pnts_pre, bbox, </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                            local_rtree, tol, nodes, pnts);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  std::vector&lt;MPI_Status&gt; stat( reqs.size());</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">if</span> (reqs.size())</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    MPI_Waitall( reqs.size(), &amp;reqs[0], &amp;stat[0]);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">return</span> tol;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div>
<div class="ttc" id="classPane__connectivity_html_a02ef5bdcc1ff6ad4c46b80b59829c04a"><div class="ttname"><a href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">Pane_connectivity::_comm</a></div><div class="ttdeci">MPI_Comm _comm</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00129">Pane_connectivity.h:129</a></div></div>
<div class="ttc" id="classKD__tree__pntref__3_html"><div class="ttname"><a href="classKD__tree__pntref__3.html">KD_tree_pntref_3</a></div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00060">Pane_connectivity.C:60</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="Pane__connectivity_8C_html_a2f91c8aaf095a5aa24998ba4aae3e262"><div class="ttname"><a href="Pane__connectivity_8C.html#a2f91c8aaf095a5aa24998ba4aae3e262">make_kd_tree</a></div><div class="ttdeci">static void make_kd_tree(const std::vector&lt; int &gt; &amp;nodes, const std::vector&lt; Point_3&lt; Real &gt; &gt; &amp;pnts, std::vector&lt; Point_3&lt; Real &gt; &gt; &amp;bbox, KD_tree_pntref_3 &amp;ktree)</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00334">Pane_connectivity.C:334</a></div></div>
<div class="ttc" id="Pane__connectivity_8C_html_a66971bb35acc2d41596346f6278833a8"><div class="ttname"><a href="Pane__connectivity_8C.html#a66971bb35acc2d41596346f6278833a8">collect_coincident_nodes</a></div><div class="ttdeci">static void collect_coincident_nodes(const std::vector&lt; int &gt; &amp;r_nodes, const std::vector&lt; Point_3&lt; Real &gt; &gt; &amp;r_pnts, const std::vector&lt; Point_3&lt; Real &gt; &gt; &amp;bbox, KD_tree_pntref_3 &amp;ktree, double tol, std::vector&lt; int &gt; &amp;nodes, std::vector&lt; Point_3&lt; Real &gt; &gt; &amp;pnts)</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00379">Pane_connectivity.C:379</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a675e82b5fc50f52bf4d2cea5a9964e47"><div class="ttname"><a href="classPane__connectivity.html#a675e82b5fc50f52bf4d2cea5a9964e47">Pane_connectivity::get_local_boundary_nodes</a></div><div class="ttdeci">double get_local_boundary_nodes(std::vector&lt; int &gt; &amp;nodes, std::vector&lt; Point_3 &gt; &amp;pnts, bool for_facet)</div><div class="ttdoc">Obtains the IDs and coordinates of boundary nodes of all local panes. </div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00221">Pane_connectivity.C:221</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_a77a70f323f098007f3ce0dbdae07fdce_cgraph.png" border="0" usemap="#classPane__connectivity_a77a70f323f098007f3ce0dbdae07fdce_cgraph" alt=""/></div>
<map name="classPane__connectivity_a77a70f323f098007f3ce0dbdae07fdce_cgraph" id="classPane__connectivity_a77a70f323f098007f3ce0dbdae07fdce_cgraph">
<area shape="rect" id="node3" href="Pane__connectivity_8C.html#a66971bb35acc2d41596346f6278833a8" title="collect_coincident\l_nodes" alt="" coords="217,69,343,115"/><area shape="rect" id="node16" href="Pane__connectivity_8C.html#a2f91c8aaf095a5aa24998ba4aae3e262" title="make_kd_tree" alt="" coords="228,139,332,168"/><area shape="rect" id="node5" href="Pane__connectivity_8C.html#a6775cd6991b395d8b55b2ab0b8566e2e" title="intersect_bbox" alt="" coords="392,51,499,80"/><area shape="rect" id="node7" href="classPoint__3.html#a3bdf357b9d5503b2de25431eff70aa52" title="Point_3::x" alt="" coords="548,5,628,35"/><area shape="rect" id="node9" href="classPoint__3.html#a9d1baab38d1d918b84896b1dbefb83d5" title="Point_3::y" alt="" coords="548,64,628,93"/><area shape="rect" id="node11" href="classPoint__3.html#ac8aaef9a7e2811484a4000df39425d34" title="Point_3::z" alt="" coords="548,129,628,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba68e6fefe21bb9dd2165ff625a5162a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void collect_nodes </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pnts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_facet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00096">96</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8h_source.html#l00127">_panes</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="Simple__manifold__2_8h_source.html#l00057">Facet_ID::eid()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="RFLO__CalcGradDummySymm_8h_source.html#l00032">iend</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Simple__manifold__2_8h_source.html#l00059">Facet_ID::lid()</a>, <a class="el" href="Vector__n_8h_source.html#l00354">max()</a>, <a class="el" href="Vector__n_8h_source.html#l00346">min()</a>, and <a class="el" href="blastest_8C_source.html#l00080">s</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                               {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;ns.size(); ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) count+=ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// Collect the nodes</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  nodes.clear(); nodes.reserve( count+2*ns.size());</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  pnts.clear();  pnts.reserve( count+2*ns.size());</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>=<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    nodes.push_back( <a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;<span class="keywordtype">id</span>());</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    nodes.push_back( ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size());</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    nodes.insert( nodes.end(), ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin(), ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].end());</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    pnts.push_back( <a class="code" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a>(HUGE_VAL,HUGE_VAL,HUGE_VAL));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="classPoint__3.html">Point_3</a> &amp;bnd_min = pnts.back();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    pnts.push_back( <a class="code" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a>(-HUGE_VAL,-HUGE_VAL,-HUGE_VAL));</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="classPoint__3.html">Point_3</a> &amp;bnd_max = pnts.back();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keyword">const</span> COM::Attribute *attr = <a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> d = attr-&gt;size_of_components();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">for</span> (std::vector&lt;int&gt;::const_iterator it=ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin(), <a class="code" href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a>=ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].end();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;         it!=<a class="code" href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a>;++it) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <a class="code" href="classPoint__3.html">Point_3</a> p(0,0,0);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">if</span> ( !for_facet) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=*it-1;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;d; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;          p[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] = *(<span class="keyword">const</span> <span class="keywordtype">double</span>*)attr-&gt;get_addr( j, <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <a class="code" href="classFacet__ID.html">Facet_ID</a> eID=(<a class="code" href="classFacet__ID.html">Facet_ID</a>&amp;)(*it);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( <a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>], eID.<a class="code" href="classFacet__ID.html#a1dea367be190d5726e3aa6b8d0c47076">eid</a>());</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordtype">int</span> vdst=(ene[eID.<a class="code" href="classFacet__ID.html#ae7df635a2e18521c31e7da0b999b802b">lid</a>()+1==ene.size_of_edges()?0:eID.<a class="code" href="classFacet__ID.html#ae7df635a2e18521c31e7da0b999b802b">lid</a>()+1]);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="keywordtype">int</span> j1=ene[eID.<a class="code" href="classFacet__ID.html#ae7df635a2e18521c31e7da0b999b802b">lid</a>()]-1, j2=vdst-1;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;d; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;          p[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] = 0.5*(*(<span class="keyword">const</span> <span class="keywordtype">double</span>*)attr-&gt;get_addr( j1, <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) +</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                      *(<span class="keyword">const</span> <span class="keywordtype">double</span>*)attr-&gt;get_addr( j2, <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>));</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      pnts.push_back( p);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;3; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        bnd_min[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] = <a class="code" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">std::min</a>( bnd_min[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>], p[k]);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        bnd_max[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] = <a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>( bnd_max[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>], p[k]);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="ttc" id="classElement__node__enumerator_html"><div class="ttname"><a href="classElement__node__enumerator.html">Element_node_enumerator</a></div><div class="ttdoc">An adaptor for enumerating node IDs of an element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00043">Element_accessors.h:43</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="classPane__connectivity_html_acf474a8df0d92be8900ae031c4a6ed4e"><div class="ttname"><a href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">Pane_connectivity::_panes</a></div><div class="ttdeci">const Pane_set _panes</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00127">Pane_connectivity.h:127</a></div></div>
<div class="ttc" id="classPoint__3_html"><div class="ttname"><a href="classPoint__3.html">Point_3</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00147">mapbasic.h:147</a></div></div>
<div class="ttc" id="Vector__n_8h_html_a7dddfa733bea2c50f405764d775e636a"><div class="ttname"><a href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a></div><div class="ttdeci">Vector_n max(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00354">Vector_n.h:354</a></div></div>
<div class="ttc" id="classFacet__ID_html_ae7df635a2e18521c31e7da0b999b802b"><div class="ttname"><a href="classFacet__ID.html#ae7df635a2e18521c31e7da0b999b802b">Facet_ID::lid</a></div><div class="ttdeci">char lid() const </div><div class="ttdoc">Local edge ID of the halfedge within its element. </div><div class="ttdef"><b>Definition:</b> <a href="Simple__manifold__2_8h_source.html#l00059">Simple_manifold_2.h:59</a></div></div>
<div class="ttc" id="classFacet__ID_html_a1dea367be190d5726e3aa6b8d0c47076"><div class="ttname"><a href="classFacet__ID.html#a1dea367be190d5726e3aa6b8d0c47076">Facet_ID::eid</a></div><div class="ttdeci">int eid() const </div><div class="ttdoc">Element ID of the halfedge. </div><div class="ttdef"><b>Definition:</b> <a href="Simple__manifold__2_8h_source.html#l00057">Simple_manifold_2.h:57</a></div></div>
<div class="ttc" id="classPane__connectivity_html_ab9a68dac690ed7c228041479cc8e68c1"><div class="ttname"><a href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Pane_connectivity::Point_3</a></div><div class="ttdeci">MAP::Point_3&lt; double &gt; Point_3</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00048">Pane_connectivity.h:48</a></div></div>
<div class="ttc" id="RFLO__CalcGradDummySymm_8h_html_a6c91249b6e6bf8523fa46fbe209648e4"><div class="ttname"><a href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a></div><div class="ttdeci">**********************************************************************Rocstar Simulation Suite Illinois Rocstar LLC All rights reserved ****Illinois Rocstar LLC IL **www illinoisrocstar com **sales illinoisrocstar com WITHOUT WARRANTY OF ANY **EXPRESS OR INCLUDING BUT NOT LIMITED TO THE WARRANTIES **OF FITNESS FOR A PARTICULAR PURPOSE AND **NONINFRINGEMENT IN NO EVENT SHALL THE CONTRIBUTORS OR **COPYRIGHT HOLDERS BE LIABLE FOR ANY DAMAGES OR OTHER WHETHER IN AN ACTION OF TORT OR **Arising OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE **USE OR OTHER DEALINGS WITH THE SOFTWARE **********************************************************************INTERFACE SUBROUTINE knode iend</div><div class="ttdef"><b>Definition:</b> <a href="RFLO__CalcGradDummySymm_8h_source.html#l00032">RFLO_CalcGradDummySymm.h:32</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="Vector__n_8h_html_aa501d41ea25a24792164a12fd4784044"><div class="ttname"><a href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">min</a></div><div class="ttdeci">Vector_n min(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00346">Vector_n.h:346</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classFacet__ID_html"><div class="ttname"><a href="classFacet__ID.html">Facet_ID</a></div><div class="ttdoc">The ID of a facet (edge in 2D and face in 3D) encodes an element ID and the local facet&#39;s ID internal...</div><div class="ttdef"><b>Definition:</b> <a href="Simple__manifold__2_8h_source.html#l00049">Simple_manifold_2.h:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_aba68e6fefe21bb9dd2165ff625a5162a_cgraph.png" border="0" usemap="#classPane__connectivity_aba68e6fefe21bb9dd2165ff625a5162a_cgraph" alt=""/></div>
<map name="classPane__connectivity_aba68e6fefe21bb9dd2165ff625a5162a_cgraph" id="classPane__connectivity_aba68e6fefe21bb9dd2165ff625a5162a_cgraph">
<area shape="rect" id="node3" href="classFacet__ID.html#a1dea367be190d5726e3aa6b8d0c47076" title="Element ID of the halfedge. " alt="" coords="157,5,259,35"/><area shape="rect" id="node5" href="classFacet__ID.html#ae7df635a2e18521c31e7da0b999b802b" title="Local edge ID of the halfedge within its element. " alt="" coords="160,59,256,88"/><area shape="rect" id="node7" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="185,112,231,141"/><area shape="rect" id="node9" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044" title="min" alt="" coords="187,165,229,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeaa21832c2803ed8eae2093a2889302e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void collect_points </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pnts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00153">153</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8h_source.html#l00127">_panes</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="RFLO__CalcGradDummySymm_8h_source.html#l00032">iend</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, and <a class="el" href="blastest_8C_source.html#l00080">s</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                          {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;ns.size(); ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) count+=ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size();</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  pnts.clear();  pnts.reserve( count);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>=<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keyword">const</span> COM::Attribute *attr = <a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> d = attr-&gt;size_of_components();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">for</span> (std::vector&lt;int&gt;::const_iterator it=ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin(), <a class="code" href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a>=ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].end();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;         it!=<a class="code" href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a>;++it) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="classPoint__3.html">Point_3</a> p(0,0,0);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=*it-1;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;d; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        p[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] = *(<span class="keyword">const</span> <span class="keywordtype">double</span>*)attr-&gt;get_addr( j, <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      pnts.push_back( p);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="classPane__connectivity_html_acf474a8df0d92be8900ae031c4a6ed4e"><div class="ttname"><a href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">Pane_connectivity::_panes</a></div><div class="ttdeci">const Pane_set _panes</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00127">Pane_connectivity.h:127</a></div></div>
<div class="ttc" id="classPoint__3_html"><div class="ttname"><a href="classPoint__3.html">Point_3</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00147">mapbasic.h:147</a></div></div>
<div class="ttc" id="RFLO__CalcGradDummySymm_8h_html_a6c91249b6e6bf8523fa46fbe209648e4"><div class="ttname"><a href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a></div><div class="ttdeci">**********************************************************************Rocstar Simulation Suite Illinois Rocstar LLC All rights reserved ****Illinois Rocstar LLC IL **www illinoisrocstar com **sales illinoisrocstar com WITHOUT WARRANTY OF ANY **EXPRESS OR INCLUDING BUT NOT LIMITED TO THE WARRANTIES **OF FITNESS FOR A PARTICULAR PURPOSE AND **NONINFRINGEMENT IN NO EVENT SHALL THE CONTRIBUTORS OR **COPYRIGHT HOLDERS BE LIABLE FOR ANY DAMAGES OR OTHER WHETHER IN AN ACTION OF TORT OR **Arising OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE **USE OR OTHER DEALINGS WITH THE SOFTWARE **********************************************************************INTERFACE SUBROUTINE knode iend</div><div class="ttdef"><b>Definition:</b> <a href="RFLO__CalcGradDummySymm_8h_source.html#l00032">RFLO_CalcGradDummySymm.h:32</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="accaa2c156be9bda857170acdac72d29d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_pconn </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>pconn_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>pconn_f</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">int</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create b2v mapping for nodes and facets (edges or faces) correspondence. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00717">717</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>Referenced by <a class="el" href="Rocmap_8C_source.html#l00034">Rocmap::compute_pconn()</a>.</p>
<div class="fragment"><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                                                                         { </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordflow">if</span> ( pconn_n) <a class="code" href="classPane__connectivity.html#a3ce3d7870c99f55820f17ee847a9ab19">create_b2map</a>( pconn_n, <span class="keyword">false</span>); </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keywordflow">if</span> ( pconn_f) <a class="code" href="classPane__connectivity.html#a3ce3d7870c99f55820f17ee847a9ab19">create_b2map</a>( pconn_f, <span class="keyword">true</span>); </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
<div class="ttc" id="classPane__connectivity_html_a3ce3d7870c99f55820f17ee847a9ab19"><div class="ttname"><a href="classPane__connectivity.html#a3ce3d7870c99f55820f17ee847a9ab19">Pane_connectivity::create_b2map</a></div><div class="ttdeci">void create_b2map(COM::Attribute *pconn, bool for_facet)</div><div class="ttdoc">Create b2v mapping (pane connectivity) for nodes or edges and store the solution into the given Rocco...</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00676">Pane_connectivity.C:676</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_accaa2c156be9bda857170acdac72d29d_icgraph.png" border="0" usemap="#classPane__connectivity_accaa2c156be9bda857170acdac72d29d_icgraph" alt=""/></div>
<map name="classPane__connectivity_accaa2c156be9bda857170acdac72d29d_icgraph" id="classPane__connectivity_accaa2c156be9bda857170acdac72d29d_icgraph">
<area shape="rect" id="node3" href="classRocmap.html#a5c0ec42b1000f3d01b3f2b5438d4eb32" title="Compute pane connectivity map between shared nodes. " alt="" coords="168,112,339,141"/><area shape="rect" id="node5" href="classRocmap.html#aa4aab2663cc7cef9510e14b6cf12ec12" title="Loads Rocmap onto Roccom with a given module name. " alt="" coords="388,112,489,141"/><area shape="rect" id="node7" href="Rocmap_8C.html#a98b54bf7124d16ea02e9863ada55574f" title="Rocmap_load_module" alt="" coords="561,5,711,35"/><area shape="rect" id="node9" href="Rocmap_8C.html#a2fa2491d8ff629e655372d4a37a21b6b" title="rocmap_load_module" alt="" coords="564,59,708,88"/><area shape="rect" id="node11" href="Rocmap_8C.html#a741814e614967188ffab8357b03871c0" title="ROCMAP_LOAD_MODULE" alt="" coords="543,112,729,141"/><area shape="rect" id="node13" href="Rocmap_8C.html#ae4eabf51a6ef8d2d4e62e3c3f0d4d730" title="rocmap_load_module_" alt="" coords="560,165,712,195"/><area shape="rect" id="node15" href="Rocmap_8C.html#a849ab8b944ec8c331d0047cf8e022832" title="ROCMAP_LOAD_MODULE_" alt="" coords="539,219,733,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ce3d7870c99f55820f17ee847a9ab19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void create_b2map </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>pconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_facet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">int</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create b2v mapping (pane connectivity) for nodes or edges and store the solution into the given Roccom <a class="el" href="classAttribute.html" title="An Attribute object is a data member of a window. ">Attribute</a>. </p>
<p>Create b2v mapping for nodes.</p>
<p>The output is a vector of b2v mapping for the local panes (b2v[i] for panes[i]). Each mapping has the following format: &lt;remote_pane_id&gt; &lt;n=#of coincident nodes&gt; &lt;local_id 1&gt; ... &lt;local_id n&gt;=""&gt; &lt;remote_pane_id 2&gt; .... !repeat the above </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00676">676</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="roccom__c_09_09_8h_source.html#l00197">addr</a>, <a class="el" href="roccom__c_09_09_8h_source.html#l00197">cap</a>, <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="roccomf90_8h_source.html#l00020">copy</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, and <a class="el" href="Vector__n_8h_source.html#l00346">min()</a>.</p>
<div class="fragment"><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;{ </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  std::vector&lt; std::vector&lt;int&gt; &gt; b2v;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="classPane__connectivity.html#a3ce3d7870c99f55820f17ee847a9ab19">create_b2map</a>( b2v, for_facet); </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">// Loop through the panes to get the connectivity map for each pane.</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, n=b2v.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>!=n; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    COM::Attribute *attr;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    attr = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute( pconn-&gt;id()));</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordtype">int</span> size = b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size() + <a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    attr-&gt;set_size( size);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    </div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="roccom__c_09_09_8h.html#a6645934dd296da80019abb10b3b0155a">addr</a>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">// If not yet initialized, allocate memory for it.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> ( !attr-&gt;initialized())</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      addr = (<span class="keywordtype">int</span>*)attr-&gt;allocate( 1, size, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      addr = (<span class="keywordtype">int</span>*)attr-&gt;pointer();</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="roccom__c_09_09_8h.html#af81bdb7c5ef8fcb1ee2d291e170e369d">cap</a> = attr-&gt;capacity();</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordtype">int</span> cpanes = 0; <span class="comment">// number of communicating panes.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0,len=b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size();</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">for</span>(; j+1&lt;len; j+=2+(b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>])[j+1]){</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="comment">// Count all the panes in b2v</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      cpanes ++;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(j==len, <span class="stringliteral">&quot;Invalid communication map&quot;</span>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">// Make sure to output pconn in correct format</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a> &amp;&amp; cap &gt;= 1){</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      addr[0] = cpanes;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <a class="code" href="roccomf90_8h.html#a0653b06f40b5c2c18d0ae63a82f214b9">std::copy</a>(b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin(), b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin()+<a class="code" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">std::min</a>(size-1,cap-1), addr+1);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    }</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cap &gt;= 1)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <a class="code" href="roccomf90_8h.html#a0653b06f40b5c2c18d0ae63a82f214b9">std::copy</a>( b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin(), b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin()+<a class="code" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">std::min</a>(size,cap),addr);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;}</div>
<div class="ttc" id="classPane__connectivity_html_a3ce3d7870c99f55820f17ee847a9ab19"><div class="ttname"><a href="classPane__connectivity.html#a3ce3d7870c99f55820f17ee847a9ab19">Pane_connectivity::create_b2map</a></div><div class="ttdeci">void create_b2map(COM::Attribute *pconn, bool for_facet)</div><div class="ttdoc">Create b2v mapping (pane connectivity) for nodes or edges and store the solution into the given Rocco...</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00676">Pane_connectivity.C:676</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_a6645934dd296da80019abb10b3b0155a"><div class="ttname"><a href="roccom__c_09_09_8h.html#a6645934dd296da80019abb10b3b0155a">addr</a></div><div class="ttdeci">int void ** addr</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00197">roccom_c++.h:197</a></div></div>
<div class="ttc" id="classPane__connectivity_html_acf474a8df0d92be8900ae031c4a6ed4e"><div class="ttname"><a href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">Pane_connectivity::_panes</a></div><div class="ttdeci">const Pane_set _panes</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00127">Pane_connectivity.h:127</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a271eabc7b7aba562de4a4c345521c4f0"><div class="ttname"><a href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">Pane_connectivity::_pconn_offset</a></div><div class="ttdeci">static const int _pconn_offset</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00130">Pane_connectivity.h:130</a></div></div>
<div class="ttc" id="roccomf90_8h_html_a0653b06f40b5c2c18d0ae63a82f214b9"><div class="ttname"><a href="roccomf90_8h.html#a0653b06f40b5c2c18d0ae63a82f214b9">copy</a></div><div class="ttdeci">*********************************************************************Illinois Open Source License ****University of Illinois NCSA **Open Source License University of Illinois All rights reserved ****Developed free of to any person **obtaining a copy of this software and associated documentation to deal with the Software without including without limitation the rights to ** copy</div><div class="ttdef"><b>Definition:</b> <a href="roccomf90_8h_source.html#l00020">roccomf90.h:20</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_af81bdb7c5ef8fcb1ee2d291e170e369d"><div class="ttname"><a href="roccom__c_09_09_8h.html#af81bdb7c5ef8fcb1ee2d291e170e369d">cap</a></div><div class="ttdeci">int void int int cap</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00197">roccom_c++.h:197</a></div></div>
<div class="ttc" id="Vector__n_8h_html_aa501d41ea25a24792164a12fd4784044"><div class="ttname"><a href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">min</a></div><div class="ttdeci">Vector_n min(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00346">Vector_n.h:346</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_a3ce3d7870c99f55820f17ee847a9ab19_cgraph.png" border="0" usemap="#classPane__connectivity_a3ce3d7870c99f55820f17ee847a9ab19_cgraph" alt=""/></div>
<map name="classPane__connectivity_a3ce3d7870c99f55820f17ee847a9ab19_cgraph" id="classPane__connectivity_a3ce3d7870c99f55820f17ee847a9ab19_cgraph">
<area shape="rect" id="node3" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044" title="min" alt="" coords="157,5,200,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a260d6d24c2db924f9048ea4267c55b56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void create_b2map </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>b2v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_facet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">int</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create b2v mapping (pane connectivity) for nodes or edges and store the results into a vector of vectors (with the same format as above). </p>
<p>Create b2v mapping for nodes or edges.</p>
<p>The output is a vector of b2v mapping for the local panes (b2v[i] for panes[i]). Each mapping has the following format: &lt;remote_pane_id&gt; &lt;n=#of coincident nodes&gt; &lt;local_id 1&gt; ... &lt;local_id n&gt;=""&gt; &lt;remote_pane_id 2&gt; .... !repeat the above </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00513">513</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="number__utils_8h_source.html#l00130">NTS::abs()</a>, <a class="el" href="roccom__assertion_8h_source.html#l00062">COM_assertion</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="RFLO__CalcGradDummySymm_8h_source.html#l00032">iend</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="RFLO__CalcGradDummySymm_8h_source.html#l00032">jend</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Pane__connectivity_8C_source.html#l00334">make_kd_tree()</a>, <a class="el" href="PlaneNorm_8f90_source.html#l00211">offset()</a>, <a class="el" href="blastest_8C_source.html#l00080">s</a>, <a class="el" href="Point__3_8h_source.html#l00129">Point_3&lt; T &gt;::x()</a>, <a class="el" href="Point__3_8h_source.html#l00132">Point_3&lt; T &gt;::y()</a>, and <a class="el" href="Point__3_8h_source.html#l00135">Point_3&lt; T &gt;::z()</a>.</p>
<div class="fragment"><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                         {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keyword">typedef</span> std::map&lt; int, std::map&lt; int, std::vector&lt;pair_int&gt; &gt; &gt;  B2v_map;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  B2v_map b2v_map;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">//&lt; This is a mapping for pane_1--&gt;pane_2--&gt;node_1--&gt;node2, where</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">//&lt;   &lt;pane_1,node_1&gt; and &lt;pane_2,node_2&gt; are two coincident nodes.</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">//&lt;   Furthermore, pane_1 is always &lt;= pane_2; If pane_1&lt;=pane_2, then</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">//&lt;   node_1&lt;node_2.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// Create a mapping in b2v_map</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    std::vector&lt;int&gt;     nodes, panes;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    std::vector&lt;Point_3&gt; pnts;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">// Obtain the boundary nodes of all panes that are coincident with</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// the boundary nodes of local panes.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordtype">double</span> tol = <a class="code" href="classPane__connectivity.html#a77a70f323f098007f3ce0dbdae07fdce">collect_boundary_nodes</a>( nodes, pnts, for_facet);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    panes.resize( nodes.size());</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count=0; count&lt;nodes.size(); count+=nodes[count+1]+2) {</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      std::fill( &amp;panes[count], &amp;panes[count+nodes[count+1]+2], nodes[count]);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    std::vector&lt; Point_3&gt;  bbox;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <a class="code" href="classKD__tree__pntref__3.html">KD_tree_pntref_3</a> ktree;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <a class="code" href="Pane__connectivity_8C.html#a2f91c8aaf095a5aa24998ba4aae3e262">make_kd_tree</a>( nodes, pnts, bbox, ktree);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    std::vector&lt; bool&gt;  processed(nodes.size());</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    std::fill_n( processed.begin(), nodes.size(), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">while</span> (count&lt;nodes.size()) {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      <span class="keywordtype">int</span> paneid = nodes[count++]; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="comment">// If the pane is remote (i.e., paneid&lt;0), we stop processing the</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="comment">// array because the local ones are always before the remote ones.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      <span class="keywordflow">if</span> (paneid&lt;0) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, n=nodes[count++]; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;n; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++count) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="keywordflow">if</span> ( processed[count]) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keyword">const</span> <a class="code" href="classPoint__3.html">Point_3</a> &amp;p = pnts[count];</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <a class="code" href="classPoint__3__ref.html">Point_3_ref</a> lb(p.<a class="code" href="classPoint__3.html#a3bdf357b9d5503b2de25431eff70aa52">x</a>()-tol, p.<a class="code" href="classPoint__3.html#a9d1baab38d1d918b84896b1dbefb83d5">y</a>()-tol, p.<a class="code" href="classPoint__3.html#ac8aaef9a7e2811484a4000df39425d34">z</a>()-tol);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="classPoint__3__ref.html">Point_3_ref</a> ub(p.<a class="code" href="classPoint__3.html#a3bdf357b9d5503b2de25431eff70aa52">x</a>()+tol, p.<a class="code" href="classPoint__3.html#a9d1baab38d1d918b84896b1dbefb83d5">y</a>()+tol, p.<a class="code" href="classPoint__3.html#ac8aaef9a7e2811484a4000df39425d34">z</a>()+tol);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        KD_tree_pntref_3::Box <a class="code" href="Overlay__0d_8C.html#ae86d795d67166163dfc151fec77f9b84">box</a>( lb, ub, 3);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        std::vector&lt; Point_3_ref&gt;  outList; outList.reserve(4);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        ktree.search( std::back_inserter( outList), <a class="code" href="Overlay__0d_8C.html#ae86d795d67166163dfc151fec77f9b84">box</a>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        assert( !outList.empty());</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        std::vector&lt; Node_ID&gt; ids; ids.reserve( outList.size());</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">for</span> ( std::vector&lt; Point_3_ref&gt;::iterator </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=outList.begin(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>!=outList.end(); ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;          <span class="keywordtype">int</span> <a class="code" href="PlaneNorm_8f90.html#aff8c3fba8a8281aa23276c4e54edc470">offset</a>=<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>-&gt;offset();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;          processed[ <a class="code" href="PlaneNorm_8f90.html#aff8c3fba8a8281aa23276c4e54edc470">offset</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;          ids.push_back( <a class="code" href="Pane__connectivity_8C.html#a9ca1ec60c59801432f395d42919ca899">Node_ID</a>( panes[offset],nodes[offset]));</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        std::vector&lt; Node_ID &gt;::const_iterator id1=ids.begin();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">for</span> ( id1=ids.begin(); id1!=ids.end(); ++id1) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;          std::vector&lt; Node_ID &gt;::const_iterator id2=id1; ++id2;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;          <span class="keywordflow">for</span> ( ; id2!=ids.end(); ++id2) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">abs</a>(id1-&gt;first) &lt; <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">abs</a>(id2-&gt;first) || </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                 <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">abs</a>(id1-&gt;first) == <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">abs</a>(id2-&gt;first) &amp;&amp; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                 id1-&gt;second &lt; id2-&gt;second) </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;              b2v_map[id1-&gt;first][id2-&gt;first].</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                push_back(<a class="code" href="Pane__connectivity_8C.html#aafe3775a0e5aaba24e849ada25e57d45">pair_int</a>(id1-&gt;second, id2-&gt;second));</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;              b2v_map[id2-&gt;first][id1-&gt;first].</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                push_back(<a class="code" href="Pane__connectivity_8C.html#aafe3775a0e5aaba24e849ada25e57d45">pair_int</a>(id2-&gt;second, id1-&gt;second));</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;          }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordflow">catch</span> (<span class="keywordtype">int</span> ex) {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">throw</span> ex; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="comment">// Now copy from b2v_map into b2v_t</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  std::map&lt;int, std::vector&lt;int&gt; &gt; b2v_t;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  B2v_map::iterator <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, <a class="code" href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="keywordflow">for</span> ( i=b2v_map.begin(), iend=b2v_map.end(); i!=<a class="code" href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <span class="comment">// Try to catch branchcut.</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    std::map&lt;int,int&gt;  branchcut;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    B2v_map::mapped_type::iterator <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, <a class="code" href="RFLO__CalcGradDummySymm_8h.html#adba52a56916ad6ca9bc1c2f4b398c04b">jend</a>;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">for</span> ( j=i-&gt;second.begin(), jend=i-&gt;second.end(); j!=<a class="code" href="RFLO__CalcGradDummySymm_8h.html#adba52a56916ad6ca9bc1c2f4b398c04b">jend</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="comment">// Sort the ids in the group so that the mapping between the local </span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// boundary ids and the node ids is monotonically increasing on process.</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// with smaller rank. This is useful for correcting correspondence</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="comment">// across processors and is also useful for defining primary node as the </span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">// one with the smallest &lt;pane_id,node_id&gt; pair (for Rocface). When they</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// are ordered incrementally, the primary copy can be detected locally.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      std::sort( j-&gt;second.begin(), j-&gt;second.end());</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="keywordflow">if</span> ( i-&gt;first == j-&gt;first) {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="roccom__assertion_8h.html#a48e9fcdc26b762667afc6a0588a093f9">COM_assertion</a>( i-&gt;first&gt;0);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        std::vector&lt; int&gt; &amp;b2v_i = b2v_t[i-&gt;first];</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        b2v_i.push_back( j-&gt;first);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        b2v_i.push_back( j-&gt;second.size()*2);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        B2v_map::mapped_type::mapped_type::const_iterator <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>, kend;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">for</span> ( k=j-&gt;second.begin(), kend=j-&gt;second.end(); k!=kend; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;          b2v_i.push_back( k-&gt;first);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;          b2v_i.push_back( k-&gt;second);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;          branchcut[k-&gt;first] = k-&gt;second;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span> ( i-&gt;first&gt;0) { <span class="comment">// First pane is local</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;          std::vector&lt; int&gt; &amp;b2v_i = b2v_t[i-&gt;first];</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;          b2v_i.push_back( <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">std::abs</a>(j-&gt;first));</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          b2v_i.push_back( j-&gt;second.size());</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;          B2v_map::mapped_type::mapped_type::const_iterator <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>, kend;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;          <span class="keywordflow">for</span> ( k=j-&gt;second.begin(), kend=j-&gt;second.end(); k!=kend; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            b2v_i.push_back( k-&gt;first);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        }</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">if</span> ( j-&gt;first&gt;0) { <span class="comment">// Second pane is local</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          std::vector&lt; int&gt; &amp;b2v_j = b2v_t[j-&gt;first];</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          b2v_j.push_back( <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">std::abs</a>(i-&gt;first));</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;          b2v_j.push_back( j-&gt;second.size());</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;          </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;          B2v_map::mapped_type::mapped_type::const_iterator <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>, kend;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;          <span class="keywordflow">for</span> ( k=j-&gt;second.begin(), kend=j-&gt;second.end(); k!=kend; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            b2v_j.push_back( k-&gt;second);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">if</span> ( !branchcut.empty()) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a>-&gt;pane(i-&gt;first).is_structured())</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;\nRocmap Info: Got a branchcut in pane &quot;</span> </div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                  &lt;&lt; i-&gt;first &lt;&lt; <span class="stringliteral">&quot; of window &quot;</span> &lt;&lt; <a class="code" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a>-&gt;name() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;\nRocmap Warning: Got duplicate nodes within pane &quot;</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                  &lt;&lt; i-&gt;first &lt;&lt; <span class="stringliteral">&quot; of window &quot;</span> &lt;&lt; <a class="code" href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">_win</a>-&gt;name() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">while</span> ( !branchcut.empty()) {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;          std::map&lt;int,int&gt;::iterator it=branchcut.begin();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;          std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmap Warning: Duplicate nodes &quot;</span> &lt;&lt; it-&gt;first </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; std::endl;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;          branchcut.erase(it);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        }</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  b2v_map.clear();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// Copy from b2v_t into b2v</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  b2v.resize(<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size());</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  Pane_set::const_iterator it=<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.begin();</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0, <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>=<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size(); i&lt;<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    b2v[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].swap( b2v_t[(*it)-&gt;id()]);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;}</div>
<div class="ttc" id="Pane__connectivity_8C_html_a9ca1ec60c59801432f395d42919ca899"><div class="ttname"><a href="Pane__connectivity_8C.html#a9ca1ec60c59801432f395d42919ca899">Node_ID</a></div><div class="ttdeci">std::pair&lt; int, int &gt; Node_ID</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00069">Pane_connectivity.C:69</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_a48e9fcdc26b762667afc6a0588a093f9"><div class="ttname"><a href="roccom__assertion_8h.html#a48e9fcdc26b762667afc6a0588a093f9">COM_assertion</a></div><div class="ttdeci">#define COM_assertion(EX)</div><div class="ttdoc">Error checking utility similar to the assert macro of the C language. </div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00062">roccom_assertion.h:62</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="classPane__connectivity_html_acf474a8df0d92be8900ae031c4a6ed4e"><div class="ttname"><a href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">Pane_connectivity::_panes</a></div><div class="ttdeci">const Pane_set _panes</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00127">Pane_connectivity.h:127</a></div></div>
<div class="ttc" id="classPoint__3_html"><div class="ttname"><a href="classPoint__3.html">Point_3</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00147">mapbasic.h:147</a></div></div>
<div class="ttc" id="classPoint__3__ref_html"><div class="ttname"><a href="classPoint__3__ref.html">Point_3_ref</a></div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00037">Pane_connectivity.C:37</a></div></div>
<div class="ttc" id="Overlay__0d_8C_html_ae86d795d67166163dfc151fec77f9b84"><div class="ttname"><a href="Overlay__0d_8C.html#ae86d795d67166163dfc151fec77f9b84">box</a></div><div class="ttdeci">KD_tree::Box box</div><div class="ttdef"><b>Definition:</b> <a href="Overlay__0d_8C_source.html#l00047">Overlay_0d.C:47</a></div></div>
<div class="ttc" id="Pane__connectivity_8C_html_aafe3775a0e5aaba24e849ada25e57d45"><div class="ttname"><a href="Pane__connectivity_8C.html#aafe3775a0e5aaba24e849ada25e57d45">pair_int</a></div><div class="ttdeci">std::pair&lt; int, int &gt; pair_int</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00068">Pane_connectivity.C:68</a></div></div>
<div class="ttc" id="PlaneNorm_8f90_html_aff8c3fba8a8281aa23276c4e54edc470"><div class="ttname"><a href="PlaneNorm_8f90.html#aff8c3fba8a8281aa23276c4e54edc470">offset</a></div><div class="ttdeci">real *8 function offset(vNorm, x2, y2, z2)</div><div class="ttdef"><b>Definition:</b> <a href="PlaneNorm_8f90_source.html#l00211">PlaneNorm.f90:211</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a77a70f323f098007f3ce0dbdae07fdce"><div class="ttname"><a href="classPane__connectivity.html#a77a70f323f098007f3ce0dbdae07fdce">Pane_connectivity::collect_boundary_nodes</a></div><div class="ttdeci">double collect_boundary_nodes(std::vector&lt; int &gt; &amp;nodes, std::vector&lt; Point_3 &gt; &amp;pnts, bool for_facet)</div><div class="ttdoc">Collect the boundary nodes of all panes that are coincident with the boundary nodes of local panes...</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00433">Pane_connectivity.C:433</a></div></div>
<div class="ttc" id="classKD__tree__pntref__3_html"><div class="ttname"><a href="classKD__tree__pntref__3.html">KD_tree_pntref_3</a></div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00060">Pane_connectivity.C:60</a></div></div>
<div class="ttc" id="RFLO__CalcGradDummySymm_8h_html_a6c91249b6e6bf8523fa46fbe209648e4"><div class="ttname"><a href="RFLO__CalcGradDummySymm_8h.html#a6c91249b6e6bf8523fa46fbe209648e4">iend</a></div><div class="ttdeci">**********************************************************************Rocstar Simulation Suite Illinois Rocstar LLC All rights reserved ****Illinois Rocstar LLC IL **www illinoisrocstar com **sales illinoisrocstar com WITHOUT WARRANTY OF ANY **EXPRESS OR INCLUDING BUT NOT LIMITED TO THE WARRANTIES **OF FITNESS FOR A PARTICULAR PURPOSE AND **NONINFRINGEMENT IN NO EVENT SHALL THE CONTRIBUTORS OR **COPYRIGHT HOLDERS BE LIABLE FOR ANY DAMAGES OR OTHER WHETHER IN AN ACTION OF TORT OR **Arising OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE **USE OR OTHER DEALINGS WITH THE SOFTWARE **********************************************************************INTERFACE SUBROUTINE knode iend</div><div class="ttdef"><b>Definition:</b> <a href="RFLO__CalcGradDummySymm_8h_source.html#l00032">RFLO_CalcGradDummySymm.h:32</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a7584795d2221a447306c6096b8c0e62e"><div class="ttname"><a href="classPane__connectivity.html#a7584795d2221a447306c6096b8c0e62e">Pane_connectivity::_win</a></div><div class="ttdeci">const COM::Window *const _win</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00126">Pane_connectivity.h:126</a></div></div>
<div class="ttc" id="Pane__connectivity_8C_html_a2f91c8aaf095a5aa24998ba4aae3e262"><div class="ttname"><a href="Pane__connectivity_8C.html#a2f91c8aaf095a5aa24998ba4aae3e262">make_kd_tree</a></div><div class="ttdeci">static void make_kd_tree(const std::vector&lt; int &gt; &amp;nodes, const std::vector&lt; Point_3&lt; Real &gt; &gt; &amp;pnts, std::vector&lt; Point_3&lt; Real &gt; &gt; &amp;bbox, KD_tree_pntref_3 &amp;ktree)</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00334">Pane_connectivity.C:334</a></div></div>
<div class="ttc" id="classPoint__3_html_a3bdf357b9d5503b2de25431eff70aa52"><div class="ttname"><a href="classPoint__3.html#a3bdf357b9d5503b2de25431eff70aa52">Point_3::x</a></div><div class="ttdeci">FT x() const </div><div class="ttdef"><b>Definition:</b> <a href="Point__3_8h_source.html#l00129">Point_3.h:129</a></div></div>
<div class="ttc" id="classPoint__3_html_a9d1baab38d1d918b84896b1dbefb83d5"><div class="ttname"><a href="classPoint__3.html#a9d1baab38d1d918b84896b1dbefb83d5">Point_3::y</a></div><div class="ttdeci">FT y() const </div><div class="ttdef"><b>Definition:</b> <a href="Point__3_8h_source.html#l00132">Point_3.h:132</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="RFLO__CalcGradDummySymm_8h_html_adba52a56916ad6ca9bc1c2f4b398c04b"><div class="ttname"><a href="RFLO__CalcGradDummySymm_8h.html#adba52a56916ad6ca9bc1c2f4b398c04b">jend</a></div><div class="ttdeci">**********************************************************************Rocstar Simulation Suite Illinois Rocstar LLC All rights reserved ****Illinois Rocstar LLC IL **www illinoisrocstar com **sales illinoisrocstar com WITHOUT WARRANTY OF ANY **EXPRESS OR INCLUDING BUT NOT LIMITED TO THE WARRANTIES **OF FITNESS FOR A PARTICULAR PURPOSE AND **NONINFRINGEMENT IN NO EVENT SHALL THE CONTRIBUTORS OR **COPYRIGHT HOLDERS BE LIABLE FOR ANY DAMAGES OR OTHER WHETHER IN AN ACTION OF TORT OR **Arising OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE **USE OR OTHER DEALINGS WITH THE SOFTWARE **********************************************************************INTERFACE SUBROUTINE knode jend</div><div class="ttdef"><b>Definition:</b> <a href="RFLO__CalcGradDummySymm_8h_source.html#l00032">RFLO_CalcGradDummySymm.h:32</a></div></div>
<div class="ttc" id="namespaceNTS_html_a61aa0d7bc8a0439c1008dbb20e14c771"><div class="ttname"><a href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">NTS::abs</a></div><div class="ttdeci">NT abs(const NT &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="number__utils_8h_source.html#l00130">number_utils.h:130</a></div></div>
<div class="ttc" id="classPoint__3_html_ac8aaef9a7e2811484a4000df39425d34"><div class="ttname"><a href="classPoint__3.html#ac8aaef9a7e2811484a4000df39425d34">Point_3::z</a></div><div class="ttdeci">FT z() const </div><div class="ttdef"><b>Definition:</b> <a href="Point__3_8h_source.html#l00135">Point_3.h:135</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_a260d6d24c2db924f9048ea4267c55b56_cgraph.png" border="0" usemap="#classPane__connectivity_a260d6d24c2db924f9048ea4267c55b56_cgraph" alt=""/></div>
<map name="classPane__connectivity_a260d6d24c2db924f9048ea4267c55b56_cgraph" id="classPane__connectivity_a260d6d24c2db924f9048ea4267c55b56_cgraph">
<area shape="rect" id="node3" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771" title="NTS::abs" alt="" coords="171,5,248,35"/><area shape="rect" id="node5" href="Pane__connectivity_8C.html#a2f91c8aaf095a5aa24998ba4aae3e262" title="make_kd_tree" alt="" coords="157,59,261,88"/><area shape="rect" id="node7" href="PlaneNorm_8f90.html#aff8c3fba8a8281aa23276c4e54edc470" title="offset" alt="" coords="183,112,236,141"/><area shape="rect" id="node9" href="classPoint__3.html#a3bdf357b9d5503b2de25431eff70aa52" title="Point_3::x" alt="" coords="169,165,249,195"/><area shape="rect" id="node11" href="classPoint__3.html#a9d1baab38d1d918b84896b1dbefb83d5" title="Point_3::y" alt="" coords="169,219,249,248"/><area shape="rect" id="node13" href="classPoint__3.html#ac8aaef9a7e2811484a4000df39425d34" title="Point_3::z" alt="" coords="169,272,249,301"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5051f8f3f33631ad5d99cec89ed72c62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void determine_coisolated_nodes </td>
          <td>(</td>
          <td class="paramtype">const COM::Pane &amp;&#160;</td>
          <td class="paramname"><em>pn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pnts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>tol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; bool &gt; &amp;&#160;</td>
          <td class="paramname"><em>is_co</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classKD__tree__3.html">KD_tree_3</a> *&#160;</td>
          <td class="paramname"><em>tree</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">int</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00178">178</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Point__3_8h_source.html#l00129">Point_3&lt; T &gt;::x()</a>, <a class="el" href="Point__3_8h_source.html#l00132">Point_3&lt; T &gt;::y()</a>, and <a class="el" href="Point__3_8h_source.html#l00135">Point_3&lt; T &gt;::z()</a>.</p>
<div class="fragment"><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                                        {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordtype">int</span> n=pn.size_of_real_nodes();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  is_co.clear(); is_co.resize( n, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// Build a kd-tree from the points in pnts if not give at input</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="classKD__tree__3.html">KD_tree_3</a> ktree_local;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> ( tree == NULL) {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    ktree_local.build( pnts);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    tree = &amp;ktree_local;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// Define a temporary buffer for holding the matching points.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  std::vector&lt; Point_3&gt;  outList; outList.reserve(4);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// Loop through the nodes in the current pane to determine coisolated nodes</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keyword">const</span> COM::Attribute *attr = pn.attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> d = attr-&gt;size_of_components();</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;n; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classPoint__3.html">Point_3</a> q(0,0,0);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;d; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      q[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] = *(<span class="keyword">const</span> <span class="keywordtype">double</span>*)attr-&gt;get_addr( <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="classPoint__3.html">Point_3</a> lb(q.x()-tol, q.y()-tol, q.z()-tol);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="classPoint__3.html">Point_3</a> ub(q.x()+tol, q.y()+tol, q.z()+tol);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    KD_tree_3::Box <a class="code" href="Overlay__0d_8C.html#ae86d795d67166163dfc151fec77f9b84">box</a>( lb, ub, 3);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// If found match in the tree, then the current node is coisolated.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    outList.clear();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    tree-&gt;search( std::back_inserter( outList), <a class="code" href="Overlay__0d_8C.html#ae86d795d67166163dfc151fec77f9b84">box</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> ( outList.size()) is_co[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]=<span class="keyword">true</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="classPoint__3_html"><div class="ttname"><a href="classPoint__3.html">Point_3</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00147">mapbasic.h:147</a></div></div>
<div class="ttc" id="Overlay__0d_8C_html_ae86d795d67166163dfc151fec77f9b84"><div class="ttname"><a href="Overlay__0d_8C.html#ae86d795d67166163dfc151fec77f9b84">box</a></div><div class="ttdeci">KD_tree::Box box</div><div class="ttdef"><b>Definition:</b> <a href="Overlay__0d_8C_source.html#l00047">Overlay_0d.C:47</a></div></div>
<div class="ttc" id="classKD__tree__3_html"><div class="ttname"><a href="classKD__tree__3.html">KD_tree_3</a></div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00052">Pane_connectivity.C:52</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_a5051f8f3f33631ad5d99cec89ed72c62_cgraph.png" border="0" usemap="#classPane__connectivity_a5051f8f3f33631ad5d99cec89ed72c62_cgraph" alt=""/></div>
<map name="classPane__connectivity_a5051f8f3f33631ad5d99cec89ed72c62_cgraph" id="classPane__connectivity_a5051f8f3f33631ad5d99cec89ed72c62_cgraph">
<area shape="rect" id="node3" href="classPoint__3.html#a3bdf357b9d5503b2de25431eff70aa52" title="Point_3::x" alt="" coords="201,5,281,35"/><area shape="rect" id="node5" href="classPoint__3.html#a9d1baab38d1d918b84896b1dbefb83d5" title="Point_3::y" alt="" coords="201,59,281,88"/><area shape="rect" id="node7" href="classPoint__3.html#ac8aaef9a7e2811484a4000df39425d34" title="Point_3::z" alt="" coords="201,112,281,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a675e82b5fc50f52bf4d2cea5a9964e47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double get_local_boundary_nodes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classPane__connectivity.html#ab9a68dac690ed7c228041479cc8e68c1">Point_3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pnts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>for_facet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
        <tr>
          <td align="right">throw </td><td>(</td><td colspan="2">int</td>
        </tr>
        <tr>
          <td align="right"></td><td>)</td><td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtains the IDs and coordinates of boundary nodes of all local panes. </p>
<p>Also returns a tolerance for window query. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00221">221</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8C_source.html#l00087">convert_nodelist()</a>, <a class="el" href="Pane__boundary_8C_source.html#l00037">Pane_boundary::determine_border_nodes()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Vector__n_8h_source.html#l00346">min()</a>, <a class="el" href="Pane__boundary_8C_source.html#l00246">Pane_boundary::min_squared_edge_len()</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>, <a class="el" href="blastest_8C_source.html#l00080">s</a>, and <a class="el" href="double_8h_source.html#l00073">sqrt()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                                                     {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  std::vector&lt; std::vector&lt;int&gt; &gt;   ns(<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size());</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  std::vector&lt; std::vector&lt;int&gt; &gt;   iso_ns(<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size());</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordtype">double</span> sql = HUGE_VAL;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordtype">int</span> iso_local=0;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>=<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    std::vector&lt;bool&gt; is_border;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    std::vector&lt;bool&gt; is_isolated;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    std::vector&lt;Facet_ID&gt;  facets;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="classPane__boundary.html">Pane_boundary</a> pb = </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">_mani2</a> ? <a class="code" href="classPane__boundary.html">Pane_boundary</a>( <a class="code" href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">_mani2</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]) : Pane_boundary( <a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>[i]);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    pb.<a class="code" href="classPane__boundary.html#a2e082b0e846c99a3ba6669dadbd85645">determine_border_nodes</a>( is_border, is_isolated, &amp;facets);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    sql = <a class="code" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">std::min</a>( sql, pb.<a class="code" href="classPane__boundary.html#ab04332e40d091826d17a18726d61cc0d">min_squared_edge_len</a>( facets));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> ( !for_facet) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <a class="code" href="Pane__connectivity_8C.html#a7ef327542dfad5c26e90b0036ad93866">convert_nodelist</a>( is_border, ns[i]);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="Pane__connectivity_8C.html#a7ef327542dfad5c26e90b0036ad93866">convert_nodelist</a>( is_isolated, iso_ns[i]);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      iso_local += iso_ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size();</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].clear();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].insert( ns[i].end(), (<span class="keywordtype">int</span>*)&amp;*facets.begin(), (<span class="keywordtype">int</span>*)&amp;*facets.end());</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// Compute minimum squared edge length.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordtype">double</span> g_sql=sql;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a> != MPI_COMM_NULL)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    MPI_Allreduce( &amp;sql, &amp;g_sql, 1, MPI_DOUBLE, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">if</span> ( g_sql==HUGE_VAL) g_sql=0;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="keywordtype">double</span> tol = <a class="code" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">std::sqrt</a>( g_sql)*0.03;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> ( !for_facet) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    std::vector&lt;int&gt; iso_counts;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// Is there any isolated nodes?</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordtype">int</span> comm_size, comm_rank;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a> != MPI_COMM_NULL) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      MPI_Comm_size( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;comm_size);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      MPI_Comm_rank( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>, &amp;comm_rank);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      iso_counts.resize(comm_size);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      MPI_Allgather(&amp;iso_local, 1, MPI_INT, &amp;iso_counts[0], 1, MPI_INT, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      iso_local=0;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;comm_size; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) iso_local+=iso_counts[i];</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      comm_size=1; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      comm_rank=0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> ( iso_local) { <span class="comment">// Determine all nodes incident on isolated nodes.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <a class="code" href="classPane__connectivity.html#aeaa21832c2803ed8eae2093a2889302e">collect_points</a>( iso_ns, pnts);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="comment">// Collect all isolated nodes onto the processor</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      std::vector&lt; Point_3&gt; pnts_g( iso_local);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">if</span> ( <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a> != MPI_COMM_NULL) {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;comm_size; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;          iso_counts[i]*=3;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        std::vector&lt;int&gt; iso_disps(comm_size, 0);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;comm_size; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;          iso_disps[i]=iso_disps[i-1]+iso_counts[i-1];</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        MPI_Allgatherv( &amp;pnts[0], iso_counts[comm_rank], MPI_DOUBLE,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        &amp;pnts_g[0], &amp;iso_counts[0], &amp;iso_disps[0],</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        MPI_DOUBLE, <a class="code" href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">_comm</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        pnts_g = pnts;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">if</span> ( pnts_g.size()&gt;0) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="comment">// Build a kd-tree from the points in pnts_g</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="classKD__tree__3.html">KD_tree_3</a> ktree;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        ktree.build( pnts_g);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i=0, s=<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>.size(); i&lt;<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;          std::vector&lt;bool&gt; is_co;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          <a class="code" href="classPane__connectivity.html#a5051f8f3f33631ad5d99cec89ed72c62">determine_coisolated_nodes</a>( *<a class="code" href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">_panes</a>[i], pnts_g, tol, is_co, &amp;ktree);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;          <a class="code" href="Pane__connectivity_8C.html#a7ef327542dfad5c26e90b0036ad93866">convert_nodelist</a>( is_co, iso_ns[i]);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      }</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">// Merge the lists</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;ns.size(); ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      std::vector&lt;int&gt; &amp;nsi = ns[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      nsi.insert( ns[i].end(), iso_ns[i].begin(), iso_ns[i].end()); </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="comment">// sort and unique the entries in ns[i]</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      std::sort(nsi.begin(), nsi.end());</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      std::vector&lt;int&gt;::iterator new_end=std::unique(nsi.begin(), nsi.end());</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      nsi.erase( new_end, nsi.end());</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">// Copy the nodes from ns into nodes and pnts</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <a class="code" href="classPane__connectivity.html#aba68e6fefe21bb9dd2165ff625a5162a">collect_nodes</a>( ns, nodes, pnts, for_facet);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">return</span> tol;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div>
<div class="ttc" id="Pane__connectivity_8C_html_a7ef327542dfad5c26e90b0036ad93866"><div class="ttname"><a href="Pane__connectivity_8C.html#a7ef327542dfad5c26e90b0036ad93866">convert_nodelist</a></div><div class="ttdeci">static void convert_nodelist(const std::vector&lt; bool &gt; &amp;bs, std::vector&lt; int &gt; &amp;nodes)</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00087">Pane_connectivity.C:87</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a5051f8f3f33631ad5d99cec89ed72c62"><div class="ttname"><a href="classPane__connectivity.html#a5051f8f3f33631ad5d99cec89ed72c62">Pane_connectivity::determine_coisolated_nodes</a></div><div class="ttdeci">void determine_coisolated_nodes(const COM::Pane &amp;pn, std::vector&lt; Point_3 &gt; &amp;pnts, const double tol, std::vector&lt; bool &gt; &amp;is_co, KD_tree_3 *tree=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00178">Pane_connectivity.C:178</a></div></div>
<div class="ttc" id="classPane__connectivity_html_aba68e6fefe21bb9dd2165ff625a5162a"><div class="ttname"><a href="classPane__connectivity.html#aba68e6fefe21bb9dd2165ff625a5162a">Pane_connectivity::collect_nodes</a></div><div class="ttdeci">void collect_nodes(const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;ns, std::vector&lt; int &gt; &amp;nodes, std::vector&lt; Point_3 &gt; &amp;pnts, bool for_facet)</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00096">Pane_connectivity.C:96</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="classPane__connectivity_html_acf474a8df0d92be8900ae031c4a6ed4e"><div class="ttname"><a href="classPane__connectivity.html#acf474a8df0d92be8900ae031c4a6ed4e">Pane_connectivity::_panes</a></div><div class="ttdeci">const Pane_set _panes</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00127">Pane_connectivity.h:127</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a02ef5bdcc1ff6ad4c46b80b59829c04a"><div class="ttname"><a href="classPane__connectivity.html#a02ef5bdcc1ff6ad4c46b80b59829c04a">Pane_connectivity::_comm</a></div><div class="ttdeci">MPI_Comm _comm</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00129">Pane_connectivity.h:129</a></div></div>
<div class="ttc" id="classPane__boundary_html"><div class="ttname"><a href="classPane__boundary.html">Pane_boundary</a></div><div class="ttdef"><b>Definition:</b> <a href="Pane__boundary_8h_source.html#l00042">Pane_boundary.h:42</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="double_8h_html_ac12b3d29117dc72313c36cdb5a9d3e0e"><div class="ttname"><a href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">sqrt</a></div><div class="ttdeci">double sqrt(double d)</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00073">double.h:73</a></div></div>
<div class="ttc" id="classPane__connectivity_html_aeaa21832c2803ed8eae2093a2889302e"><div class="ttname"><a href="classPane__connectivity.html#aeaa21832c2803ed8eae2093a2889302e">Pane_connectivity::collect_points</a></div><div class="ttdeci">void collect_points(const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;ns, std::vector&lt; Point_3 &gt; &amp;pnts)</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00153">Pane_connectivity.C:153</a></div></div>
<div class="ttc" id="classPane__boundary_html_a2e082b0e846c99a3ba6669dadbd85645"><div class="ttname"><a href="classPane__boundary.html#a2e082b0e846c99a3ba6669dadbd85645">Pane_boundary::determine_border_nodes</a></div><div class="ttdeci">void determine_border_nodes(std::vector&lt; bool &gt; &amp;is_border, std::vector&lt; bool &gt; &amp;is_isolated, std::vector&lt; Facet_ID &gt; *b=NULL, int ghost_level=0)</div><div class="ttdoc">Determine the border nodes (excluding isolated nodes) </div><div class="ttdef"><b>Definition:</b> <a href="Pane__boundary_8C_source.html#l00037">Pane_boundary.C:37</a></div></div>
<div class="ttc" id="classKD__tree__3_html"><div class="ttname"><a href="classKD__tree__3.html">KD_tree_3</a></div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8C_source.html#l00052">Pane_connectivity.C:52</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="Vector__n_8h_html_aa501d41ea25a24792164a12fd4784044"><div class="ttname"><a href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">min</a></div><div class="ttdeci">Vector_n min(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00346">Vector_n.h:346</a></div></div>
<div class="ttc" id="classPane__boundary_html_ab04332e40d091826d17a18726d61cc0d"><div class="ttname"><a href="classPane__boundary.html#ab04332e40d091826d17a18726d61cc0d">Pane_boundary::min_squared_edge_len</a></div><div class="ttdeci">double min_squared_edge_len(const std::vector&lt; Facet_ID &gt; &amp;)</div><div class="ttdoc">Compute the minimum squared edge length of given edges. </div><div class="ttdef"><b>Definition:</b> <a href="Pane__boundary_8C_source.html#l00246">Pane_boundary.C:246</a></div></div>
<div class="ttc" id="classPane__connectivity_html_af88229c28356bb087fbe7e8e25534d21"><div class="ttname"><a href="classPane__connectivity.html#af88229c28356bb087fbe7e8e25534d21">Pane_connectivity::_mani2</a></div><div class="ttdeci">const Simple_manifold_2 ** _mani2</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00128">Pane_connectivity.h:128</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_a675e82b5fc50f52bf4d2cea5a9964e47_cgraph.png" border="0" usemap="#classPane__connectivity_a675e82b5fc50f52bf4d2cea5a9964e47_cgraph" alt=""/></div>
<map name="classPane__connectivity_a675e82b5fc50f52bf4d2cea5a9964e47_cgraph" id="classPane__connectivity_a675e82b5fc50f52bf4d2cea5a9964e47_cgraph">
<area shape="rect" id="node3" href="Pane__connectivity_8C.html#a7ef327542dfad5c26e90b0036ad93866" title="convert_nodelist" alt="" coords="220,5,337,35"/><area shape="rect" id="node5" href="classPane__boundary.html#a2e082b0e846c99a3ba6669dadbd85645" title="Determine the border nodes (excluding isolated nodes) " alt="" coords="191,58,367,105"/><area shape="rect" id="node7" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044" title="min" alt="" coords="476,125,519,155"/><area shape="rect" id="node9" href="classPane__boundary.html#ab04332e40d091826d17a18726d61cc0d" title="Compute the minimum squared edge length of given edges. " alt="" coords="208,178,349,225"/><area shape="rect" id="node16" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="257,248,300,277"/><area shape="rect" id="node12" href="classFacet__node__enumerator.html#a484fea918d3e888f2c3ded14fe8c752f" title="Facet_node_enumerator\l::size_of_corners" alt="" coords="416,178,579,225"/><area shape="rect" id="node14" href="Pane__boundary_8C.html#a435ef393d7d5394df67d5da81c108c7d" title="square" alt="" coords="467,248,528,277"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad16faeac7ebc353ccba9073194fc1c00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int pconn_nblocks </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>pconn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine the number of pconn blocks for all panes. </p>
<p>Must be called collectively by all processes of the owner window of pconn. Return 0 if pconn is empty; 1 if has only shared noodes; 2 if with shared nodes and ghost nodes; 3 if with ghost elements as well. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00762">762</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8h_source.html#l00130">_pconn_offset</a>, <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Vector__n_8h_source.html#l00354">max()</a>, and <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>.</p>
<div class="fragment"><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                                                               {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keyword">const</span> COM::Window  *win = pconn-&gt;window();</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordtype">int</span> nblocks = 0;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="comment">// Loop through all panes</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  std::vector&lt;const COM::Pane*&gt; panes; win-&gt;panes(panes);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> p=0, np=panes.size(); p&lt;np; ++p) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keyword">const</span> COM::Attribute *pconn_pn = panes[p]-&gt;attribute( pconn-&gt;id());</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// Obtain the address and sizes of the map</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> *pconn_ptr = (<span class="keyword">const</span> <span class="keywordtype">int</span> *)pconn_pn-&gt;pointer();</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordflow">if</span> ( pconn_ptr==NULL) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> len_total = pconn_pn-&gt;size_of_items()-<a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> len_ghost = pconn_ptr ?  pconn_pn-&gt;size_of_ghost_items() : 0;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">if</span> ( len_ghost == 0) { nblocks = <a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>( nblocks, 1); <span class="keywordflow">continue</span>; }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    pconn_ptr += len_total-len_ghost+<a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// Skip real nodes</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordtype">int</span> index=1, ncpanes=pconn_ptr[0];</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=1; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;=ncpanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, index+=pconn_ptr[index+1]+2);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="comment">// Skip ghost nodes</span></div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    ncpanes=pconn_ptr[index++];</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=1; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;=ncpanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, index+=pconn_ptr[index+1]+2);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    nblocks = <a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>( nblocks, 2+(index&lt;len_ghost));</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  </div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// Communicate to get the maximum of nblocks.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordflow">if</span> ( <a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="keywordtype">int</span> nblocks_local = nblocks;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    MPI_Allreduce( &amp;nblocks_local, &amp;nblocks, 1, MPI_INT, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>,</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                   win-&gt;get_communicator());</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">return</span> nblocks;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="Vector__n_8h_html_a7dddfa733bea2c50f405764d775e636a"><div class="ttname"><a href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a></div><div class="ttdeci">Vector_n max(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00354">Vector_n.h:354</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a271eabc7b7aba562de4a4c345521c4f0"><div class="ttname"><a href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">Pane_connectivity::_pconn_offset</a></div><div class="ttdeci">static const int _pconn_offset</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00130">Pane_connectivity.h:130</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_ad16faeac7ebc353ccba9073194fc1c00_cgraph.png" border="0" usemap="#classPane__connectivity_ad16faeac7ebc353ccba9073194fc1c00_cgraph" alt=""/></div>
<map name="classPane__connectivity_ad16faeac7ebc353ccba9073194fc1c00_cgraph" id="classPane__connectivity_ad16faeac7ebc353ccba9073194fc1c00_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="163,5,301,35"/><area shape="rect" id="node5" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="209,59,255,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a072f34ae1febfd3cbcb168a18e14207f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pconn_offset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve an offset to avoid the number of communicating panes when reading a pconn attribute. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00074">74</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8h_source.html#l00130">_pconn_offset</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8C_source.html#l00631">Rocmop::determine_shared_border()</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                            {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="ttc" id="classPane__connectivity_html_a271eabc7b7aba562de4a4c345521c4f0"><div class="ttname"><a href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">Pane_connectivity::_pconn_offset</a></div><div class="ttdeci">static const int _pconn_offset</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00130">Pane_connectivity.h:130</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_a072f34ae1febfd3cbcb168a18e14207f_icgraph.png" border="0" usemap="#classPane__connectivity_a072f34ae1febfd3cbcb168a18e14207f_icgraph" alt=""/></div>
<map name="classPane__connectivity_a072f34ae1febfd3cbcb168a18e14207f_icgraph" id="classPane__connectivity_a072f34ae1febfd3cbcb168a18e14207f_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a7ab9ce2c2abc714470af5935a1253b51" title="Determine which nodes and elements are shared. " alt="" coords="153,5,335,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79dd23302bd865402082c0492af1b703"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void size_of_cpanes </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>pconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int *&#160;</td>
          <td class="paramname"><em>pane_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>npanes_total</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>npanes_ghost</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of communicating panes. </p>

<p>Definition at line <a class="el" href="Pane__connectivity_8C_source.html#l00723">723</a> of file <a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a>.</p>

<p>References <a class="el" href="Pane__connectivity_8h_source.html#l00130">_pconn_offset</a>, <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, and <a class="el" href="read_8cpp_source.html#l00079">i</a>.</p>

<p>Referenced by <a class="el" href="Rocmap_8C_source.html#l00050">Rocmap::size_of_cpanes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                                                                             {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keyword">const</span> COM::Window    *win = pconn-&gt;window();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keyword">const</span> COM::Attribute *pconn_pn;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  pconn_pn = pconn-&gt;window()-&gt;pane( *pane_id).attribute( pconn-&gt;id());</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;  <span class="comment">// Obtain the address and sizes of the map</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> *tmp_ptr = (<span class="keyword">const</span> <span class="keywordtype">int</span> *)pconn_pn-&gt;pointer();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> *ptr_pconn = tmp_ptr ? tmp_ptr+<a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a> : tmp_ptr;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> len_real = ptr_pconn ? pconn_pn-&gt;size_of_real_items()-<a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a> : 0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> len_total = ptr_pconn ? pconn_pn-&gt;size_of_items()-<a class="code" href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">_pconn_offset</a> : 0;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( npanes_total, </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                     <span class="stringliteral">&quot;Invalid NULL pointer for argument npanes_total&quot;</span>);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;  *npanes_total = 0;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordflow">for</span> ( ; i+1&lt;len_real; i+=2+ptr_pconn[i+1]) {</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Count only the panes existing in the window</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    *npanes_total += win-&gt;owner_rank( ptr_pconn[i])&gt;=0;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( i==len_real, <span class="stringliteral">&quot;Invalid communication map&quot;</span>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">for</span> ( ; i+1&lt;len_total; i+=2+ptr_pconn[i+1]) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// Count only the panes existing in the window</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    *npanes_total += win-&gt;owner_rank( ptr_pconn[i])&gt;=0;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="comment">// Compute the communicating panes that involve ghost nodes</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">if</span> ( npanes_ghost) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    *npanes_ghost = 0;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">for</span> ( i=len_real; i+1&lt;len_total; i+=2+ptr_pconn[i+1])</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      *npanes_ghost += win-&gt;owner_rank( ptr_pconn[i])&gt;=0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( i==len_total, <span class="stringliteral">&quot;Invalid communication map&quot;</span>);  </div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;}</div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a271eabc7b7aba562de4a4c345521c4f0"><div class="ttname"><a href="classPane__connectivity.html#a271eabc7b7aba562de4a4c345521c4f0">Pane_connectivity::_pconn_offset</a></div><div class="ttdeci">static const int _pconn_offset</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00130">Pane_connectivity.h:130</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classPane__connectivity_a79dd23302bd865402082c0492af1b703_icgraph.png" border="0" usemap="#classPane__connectivity_a79dd23302bd865402082c0492af1b703_icgraph" alt=""/></div>
<map name="classPane__connectivity_a79dd23302bd865402082c0492af1b703_icgraph" id="classPane__connectivity_a79dd23302bd865402082c0492af1b703_icgraph">
<area shape="rect" id="node3" href="classRocmap.html#a79dd23302bd865402082c0492af1b703" title="Get the number of communicating panes. " alt="" coords="168,112,339,141"/><area shape="rect" id="node5" href="classRocmap.html#aa4aab2663cc7cef9510e14b6cf12ec12" title="Loads Rocmap onto Roccom with a given module name. " alt="" coords="388,112,489,141"/><area shape="rect" id="node7" href="Rocmap_8C.html#a98b54bf7124d16ea02e9863ada55574f" title="Rocmap_load_module" alt="" coords="561,5,711,35"/><area shape="rect" id="node9" href="Rocmap_8C.html#a2fa2491d8ff629e655372d4a37a21b6b" title="rocmap_load_module" alt="" coords="564,59,708,88"/><area shape="rect" id="node11" href="Rocmap_8C.html#a741814e614967188ffab8357b03871c0" title="ROCMAP_LOAD_MODULE" alt="" coords="543,112,729,141"/><area shape="rect" id="node13" href="Rocmap_8C.html#ae4eabf51a6ef8d2d4e62e3c3f0d4d730" title="rocmap_load_module_" alt="" coords="560,165,712,195"/><area shape="rect" id="node15" href="Rocmap_8C.html#a849ab8b944ec8c331d0047cf8e022832" title="ROCMAP_LOAD_MODULE_" alt="" coords="539,219,733,248"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a02ef5bdcc1ff6ad4c46b80b59829c04a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm _comm</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00129">129</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

</div>
</div>
<a class="anchor" id="af88229c28356bb087fbe7e8e25534d21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSimple__manifold__2.html">Simple_manifold_2</a>** _mani2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00128">128</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

</div>
</div>
<a class="anchor" id="acf474a8df0d92be8900ae031c4a6ed4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classPane__connectivity.html#ac7577e6e955fd494e10bdb2cce7c5cb3">Pane_set</a> _panes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00127">127</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

<p>Referenced by <a class="el" href="Pane__connectivity_8C_source.html#l00096">collect_nodes()</a>, <a class="el" href="Pane__connectivity_8C_source.html#l00153">collect_points()</a>, and <a class="el" href="Pane__connectivity_8C_source.html#l00072">Pane_connectivity()</a>.</p>

</div>
</div>
<a class="anchor" id="a271eabc7b7aba562de4a4c345521c4f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int _pconn_offset =1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00130">130</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

<p>Referenced by <a class="el" href="Pane__connectivity_8C_source.html#l00762">pconn_nblocks()</a>, <a class="el" href="Pane__connectivity_8h_source.html#l00074">pconn_offset()</a>, and <a class="el" href="Pane__connectivity_8C_source.html#l00723">size_of_cpanes()</a>.</p>

</div>
</div>
<a class="anchor" id="a7584795d2221a447306c6096b8c0e62e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const COM::Window* const _win</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Pane__connectivity_8h_source.html#l00126">126</a> of file <a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a>.</p>

<p>Referenced by <a class="el" href="Pane__connectivity_8C_source.html#l00072">Pane_connectivity()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Pane__connectivity_8h_source.html">Pane_connectivity.h</a></li>
<li><a class="el" href="Pane__connectivity_8C_source.html">Pane_connectivity.C</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classPane__connectivity.html">Pane_connectivity</a></li>
    <li class="footer">Generated on Sat Mar 19 2016 02:29:23 for Rocstar by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
