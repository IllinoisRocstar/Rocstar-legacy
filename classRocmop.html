<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Rocstar: Rocmop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IRTriangles_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rocstar
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Rocstar multiphysics simulation application</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classRocmop.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classRocmop-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Rocmop Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A Roccom mesh optimization module.  
 <a href="classRocmop.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Rocmop:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop__inherit__graph.png" border="0" usemap="#Rocmop_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Rocmop:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop__coll__graph.png" border="0" usemap="#Rocmop_coll__map" alt="Collaboration graph"/></div>
<map name="Rocmop_coll__map" id="Rocmop_coll__map">
<area shape="rect" id="node9" title="STL class. " alt="" coords="152,217,243,247"/><area shape="rect" id="node23" title="STL class. " alt="" coords="161,72,233,101"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afccd240f973cf154952fb917c9209719"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a> = 0, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>
 }</td></tr>
<tr class="memdesc:afccd240f973cf154952fb917c9209719"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valid Smoothing Methods.  <a href="classRocmop.html#afccd240f973cf154952fb917c9209719">More...</a><br /></td></tr>
<tr class="separator:afccd240f973cf154952fb917c9209719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedcf2109f459315e1a7f2af73ec9b603"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a> = 0, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>
 }</td></tr>
<tr class="memdesc:aedcf2109f459315e1a7f2af73ec9b603"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valid Smoothing Methods.  <a href="classRocmop.html#aedcf2109f459315e1a7f2af73ec9b603">More...</a><br /></td></tr>
<tr class="separator:aedcf2109f459315e1a7f2af73ec9b603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be3860693af99a6c1da72580097294c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a> = 0, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>, 
<a class="el" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>
 }</td></tr>
<tr class="memdesc:a1be3860693af99a6c1da72580097294c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valid Smoothing Methods.  <a href="classRocmop.html#a1be3860693af99a6c1da72580097294c">More...</a><br /></td></tr>
<tr class="separator:a1be3860693af99a6c1da72580097294c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9420823bfeba78fce625fc105e3b01d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01">WRAPPER_SHAPE</a> = 0, 
<a class="el" href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01dae507b49ea7a07cf272ec735a03f03cce">WRAPPER_BOEING</a>, 
<a class="el" href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01dabacc7841b6a88da7084ca57115c0e444">WRAPPER_MAX</a>
 }</td></tr>
<tr class="memdesc:ac9420823bfeba78fce625fc105e3b01d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valid Wrapper Choices.  <a href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01d">More...</a><br /></td></tr>
<tr class="separator:ac9420823bfeba78fce625fc105e3b01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac8ec411fb1e3a30074db5fc7e022a7c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac8ec411fb1e3a30074db5fc7e022a7c2">read_config_file</a> (const std::string &amp;)</td></tr>
<tr class="separator:ac8ec411fb1e3a30074db5fc7e022a7c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac32e390ae4937ffc3928b111a7842592"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac32e390ae4937ffc3928b111a7842592">add_aspect_ratios</a> (COM::Attribute *usr_att, COM::Attribute *buf_att=NULL)</td></tr>
<tr class="separator:ac32e390ae4937ffc3928b111a7842592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ec411fb1e3a30074db5fc7e022a7c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac8ec411fb1e3a30074db5fc7e022a7c2">read_config_file</a> (const std::string &amp;)</td></tr>
<tr class="separator:ac8ec411fb1e3a30074db5fc7e022a7c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac32e390ae4937ffc3928b111a7842592"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac32e390ae4937ffc3928b111a7842592">add_aspect_ratios</a> (COM::Attribute *usr_att, COM::Attribute *buf_att=NULL)</td></tr>
<tr class="separator:ac32e390ae4937ffc3928b111a7842592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Contructors and Destructors</div></td></tr>
<tr class="memitem:a0e60a6a34154024b5c17092bbb52693c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a0e60a6a34154024b5c17092bbb52693c">Rocmop</a> ()</td></tr>
<tr class="memdesc:a0e60a6a34154024b5c17092bbb52693c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor.  <a href="#a0e60a6a34154024b5c17092bbb52693c">More...</a><br /></td></tr>
<tr class="separator:a0e60a6a34154024b5c17092bbb52693c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab86435759ac7d3cfc0226c75970d0393"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ab86435759ac7d3cfc0226c75970d0393">~Rocmop</a> ()</td></tr>
<tr class="memdesc:ab86435759ac7d3cfc0226c75970d0393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ab86435759ac7d3cfc0226c75970d0393">More...</a><br /></td></tr>
<tr class="separator:ab86435759ac7d3cfc0226c75970d0393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e60a6a34154024b5c17092bbb52693c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a0e60a6a34154024b5c17092bbb52693c">Rocmop</a> ()</td></tr>
<tr class="memdesc:a0e60a6a34154024b5c17092bbb52693c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor.  <a href="#a0e60a6a34154024b5c17092bbb52693c">More...</a><br /></td></tr>
<tr class="separator:a0e60a6a34154024b5c17092bbb52693c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a98f93cd7a7d629993e68eaa0f39b8a"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a5a98f93cd7a7d629993e68eaa0f39b8a">~Rocmop</a> ()</td></tr>
<tr class="memdesc:a5a98f93cd7a7d629993e68eaa0f39b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a5a98f93cd7a7d629993e68eaa0f39b8a">More...</a><br /></td></tr>
<tr class="separator:a5a98f93cd7a7d629993e68eaa0f39b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e60a6a34154024b5c17092bbb52693c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a0e60a6a34154024b5c17092bbb52693c">Rocmop</a> ()</td></tr>
<tr class="memdesc:a0e60a6a34154024b5c17092bbb52693c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor.  <a href="#a0e60a6a34154024b5c17092bbb52693c">More...</a><br /></td></tr>
<tr class="separator:a0e60a6a34154024b5c17092bbb52693c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a98f93cd7a7d629993e68eaa0f39b8a"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a5a98f93cd7a7d629993e68eaa0f39b8a">~Rocmop</a> ()</td></tr>
<tr class="memdesc:a5a98f93cd7a7d629993e68eaa0f39b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a5a98f93cd7a7d629993e68eaa0f39b8a">More...</a><br /></td></tr>
<tr class="separator:a5a98f93cd7a7d629993e68eaa0f39b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Load and Unload</div></td></tr>
<tr class="memitem:aa4aab2663cc7cef9510e14b6cf12ec12"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aa4aab2663cc7cef9510e14b6cf12ec12">load</a> (const std::string &amp;mname)</td></tr>
<tr class="memdesc:aa4aab2663cc7cef9510e14b6cf12ec12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> onto Roccom with a given module name.  <a href="#aa4aab2663cc7cef9510e14b6cf12ec12">More...</a><br /></td></tr>
<tr class="separator:aa4aab2663cc7cef9510e14b6cf12ec12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e6c6506a9299b4bcb446a399ebf06d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ab6e6c6506a9299b4bcb446a399ebf06d">unload</a> (const std::string &amp;mname)</td></tr>
<tr class="memdesc:ab6e6c6506a9299b4bcb446a399ebf06d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unloads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> from Roccom.  <a href="#ab6e6c6506a9299b4bcb446a399ebf06d">More...</a><br /></td></tr>
<tr class="separator:ab6e6c6506a9299b4bcb446a399ebf06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae6b685a1228664165da5f86e3a7f28"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a6ae6b685a1228664165da5f86e3a7f28">load</a> (const std::string &amp;mname)</td></tr>
<tr class="memdesc:a6ae6b685a1228664165da5f86e3a7f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> onto Roccom with a given module name.  <a href="#a6ae6b685a1228664165da5f86e3a7f28">More...</a><br /></td></tr>
<tr class="separator:a6ae6b685a1228664165da5f86e3a7f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cd87946cfadb0932f9b7e3bc84b4b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a77cd87946cfadb0932f9b7e3bc84b4b8">unload</a> (const std::string &amp;mname)</td></tr>
<tr class="memdesc:a77cd87946cfadb0932f9b7e3bc84b4b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unloads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> from Roccom.  <a href="#a77cd87946cfadb0932f9b7e3bc84b4b8">More...</a><br /></td></tr>
<tr class="separator:a77cd87946cfadb0932f9b7e3bc84b4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae6b685a1228664165da5f86e3a7f28"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a6ae6b685a1228664165da5f86e3a7f28">load</a> (const std::string &amp;mname)</td></tr>
<tr class="memdesc:a6ae6b685a1228664165da5f86e3a7f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> onto Roccom with a given module name.  <a href="#a6ae6b685a1228664165da5f86e3a7f28">More...</a><br /></td></tr>
<tr class="separator:a6ae6b685a1228664165da5f86e3a7f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cd87946cfadb0932f9b7e3bc84b4b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a77cd87946cfadb0932f9b7e3bc84b4b8">unload</a> (const std::string &amp;mname)</td></tr>
<tr class="memdesc:a77cd87946cfadb0932f9b7e3bc84b4b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unloads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> from Roccom.  <a href="#a77cd87946cfadb0932f9b7e3bc84b4b8">More...</a><br /></td></tr>
<tr class="separator:a77cd87946cfadb0932f9b7e3bc84b4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a7cc2e4244ca368f68e5746185eda6c4a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a> =762667
 }</td></tr>
<tr class="separator:a7cc2e4244ca368f68e5746185eda6c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a900dca9b26de42491763226e12dcd47b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a> =762667
 }</td></tr>
<tr class="separator:a900dca9b26de42491763226e12dcd47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9be5679ab03d785820f2474c5ccc6e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a> =762667
 }</td></tr>
<tr class="separator:afa9be5679ab03d785820f2474c5ccc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a124effafd55e3f6b6c663e771b1f7f31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a124effafd55e3f6b6c663e771b1f7f31">perturb_stationary</a> ()</td></tr>
<tr class="memdesc:a124effafd55e3f6b6c663e771b1f7f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomly perturn stationary nodes on pane boundary, not on phys. surface.  <a href="#a124effafd55e3f6b6c663e771b1f7f31">More...</a><br /></td></tr>
<tr class="separator:a124effafd55e3f6b6c663e771b1f7f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2947c5f78ec2dadcea64e25ab079f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#adf2947c5f78ec2dadcea64e25ab079f2">check_displacements</a> (COM::Attribute *disp)</td></tr>
<tr class="separator:adf2947c5f78ec2dadcea64e25ab079f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff10613c7e56053c1e8748f901ad720e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aff10613c7e56053c1e8748f901ad720e">zero_displacements</a> (COM::Attribute *disp)</td></tr>
<tr class="separator:aff10613c7e56053c1e8748f901ad720e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124effafd55e3f6b6c663e771b1f7f31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a124effafd55e3f6b6c663e771b1f7f31">perturb_stationary</a> ()</td></tr>
<tr class="memdesc:a124effafd55e3f6b6c663e771b1f7f31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomly perturn stationary nodes on pane boundary, not on phys. surface.  <a href="#a124effafd55e3f6b6c663e771b1f7f31">More...</a><br /></td></tr>
<tr class="separator:a124effafd55e3f6b6c663e771b1f7f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf2947c5f78ec2dadcea64e25ab079f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#adf2947c5f78ec2dadcea64e25ab079f2">check_displacements</a> (COM::Attribute *disp)</td></tr>
<tr class="separator:adf2947c5f78ec2dadcea64e25ab079f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff10613c7e56053c1e8748f901ad720e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aff10613c7e56053c1e8748f901ad720e">zero_displacements</a> (COM::Attribute *disp)</td></tr>
<tr class="separator:aff10613c7e56053c1e8748f901ad720e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Smoothing Methods</div></td></tr>
<tr class="memitem:a1896435f2fcb46a858097dd017d1d61a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a1896435f2fcb46a858097dd017d1d61a">smooth_vol_mesq_wg</a> (double pre_quality)</td></tr>
<tr class="memdesc:a1896435f2fcb46a858097dd017d1d61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth a volume via <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> using ghost information.  <a href="#a1896435f2fcb46a858097dd017d1d61a">More...</a><br /></td></tr>
<tr class="separator:a1896435f2fcb46a858097dd017d1d61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43639cc2a34d3141d58cba623fc42826"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a43639cc2a34d3141d58cba623fc42826">smooth_vol_mesq_ng</a> (double pre_quality)</td></tr>
<tr class="memdesc:a43639cc2a34d3141d58cba623fc42826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooths a volume using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> with only shared node information.  <a href="#a43639cc2a34d3141d58cba623fc42826">More...</a><br /></td></tr>
<tr class="separator:a43639cc2a34d3141d58cba623fc42826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f">smooth_surf_medial</a> ()</td></tr>
<tr class="memdesc:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooths a surface using the medial quadric.  <a href="#a679bfb8c7da7e819b00dc132ba57dc8f">More...</a><br /></td></tr>
<tr class="separator:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">smooth_mesquite</a> (std::vector&lt; COM::Pane * &gt; &amp;allpanes, int ghost_level=0)</td></tr>
<tr class="memdesc:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth the panes of the working window using MESQUITE.  <a href="#a2dbb41ea0da20e141ec61d8d4a726ddf">More...</a><br /></td></tr>
<tr class="separator:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35de0b32e6ac1098a26269c458f15f5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a35de0b32e6ac1098a26269c458f15f5b">smooth_vol_mesq_wg</a> ()</td></tr>
<tr class="memdesc:a35de0b32e6ac1098a26269c458f15f5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth a volume via <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> using ghost information.  <a href="#a35de0b32e6ac1098a26269c458f15f5b">More...</a><br /></td></tr>
<tr class="separator:a35de0b32e6ac1098a26269c458f15f5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94a043bec4799aa0bb568acd4b9f705"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad94a043bec4799aa0bb568acd4b9f705">smooth_vol_mesq_ng</a> ()</td></tr>
<tr class="memdesc:ad94a043bec4799aa0bb568acd4b9f705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooths a volume using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> with only shared node information.  <a href="#ad94a043bec4799aa0bb568acd4b9f705">More...</a><br /></td></tr>
<tr class="separator:ad94a043bec4799aa0bb568acd4b9f705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f">smooth_surf_medial</a> ()</td></tr>
<tr class="memdesc:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooths a surface using the medial quadric.  <a href="#a679bfb8c7da7e819b00dc132ba57dc8f">More...</a><br /></td></tr>
<tr class="separator:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">smooth_mesquite</a> (std::vector&lt; COM::Pane * &gt; &amp;allpanes, int ghost_level=0)</td></tr>
<tr class="memdesc:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth the panes of the buffer window using MESQUITE.  <a href="#a2dbb41ea0da20e141ec61d8d4a726ddf">More...</a><br /></td></tr>
<tr class="separator:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35de0b32e6ac1098a26269c458f15f5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a35de0b32e6ac1098a26269c458f15f5b">smooth_vol_mesq_wg</a> ()</td></tr>
<tr class="memdesc:a35de0b32e6ac1098a26269c458f15f5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth a volume via <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> using ghost information.  <a href="#a35de0b32e6ac1098a26269c458f15f5b">More...</a><br /></td></tr>
<tr class="separator:a35de0b32e6ac1098a26269c458f15f5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94a043bec4799aa0bb568acd4b9f705"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad94a043bec4799aa0bb568acd4b9f705">smooth_vol_mesq_ng</a> ()</td></tr>
<tr class="memdesc:ad94a043bec4799aa0bb568acd4b9f705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooths a volume using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> with only shared node information.  <a href="#ad94a043bec4799aa0bb568acd4b9f705">More...</a><br /></td></tr>
<tr class="separator:ad94a043bec4799aa0bb568acd4b9f705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f">smooth_surf_medial</a> ()</td></tr>
<tr class="memdesc:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooths a surface using the medial quadric.  <a href="#a679bfb8c7da7e819b00dc132ba57dc8f">More...</a><br /></td></tr>
<tr class="separator:a679bfb8c7da7e819b00dc132ba57dc8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7335bc0f1d80d8949568c238387db780"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7335bc0f1d80d8949568c238387db780">smooth_boeing</a> (COM::Attribute *att, int *niter)</td></tr>
<tr class="separator:a7335bc0f1d80d8949568c238387db780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">smooth_mesquite</a> (std::vector&lt; COM::Pane * &gt; &amp;allpanes, int ghost_level=0)</td></tr>
<tr class="memdesc:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth the panes of the buffer window using MESQUITE.  <a href="#a2dbb41ea0da20e141ec61d8d4a726ddf">More...</a><br /></td></tr>
<tr class="separator:a2dbb41ea0da20e141ec61d8d4a726ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Quality Checking</div></td></tr>
<tr class="memitem:a5b230d9e1d42e381af9441a2041520ce"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a5b230d9e1d42e381af9441a2041520ce">check_marked_elem_quality</a> (std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems, std::vector&lt; COM::Pane * &gt; &amp;allpanes)</td></tr>
<tr class="memdesc:a5b230d9e1d42e381af9441a2041520ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of marked real elements.  <a href="#a5b230d9e1d42e381af9441a2041520ce">More...</a><br /></td></tr>
<tr class="separator:a5b230d9e1d42e381af9441a2041520ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a56d10bd215a994da860edae29be78"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a> (std::vector&lt; const COM::Pane * &gt; &amp;allpanes, bool with_ghost=false)</td></tr>
<tr class="memdesc:ab8a56d10bd215a994da860edae29be78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of all real elements.  <a href="#ab8a56d10bd215a994da860edae29be78">More...</a><br /></td></tr>
<tr class="separator:ab8a56d10bd215a994da860edae29be78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8ab744e9377ac9776796b4c3f98091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a1f8ab744e9377ac9776796b4c3f98091">check_all_elem_quality</a> (std::vector&lt; COM::Pane * &gt; &amp;allpanes, bool with_ghosts=false)</td></tr>
<tr class="memdesc:a1f8ab744e9377ac9776796b4c3f98091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of all real elements marked.  <a href="#a1f8ab744e9377ac9776796b4c3f98091">More...</a><br /></td></tr>
<tr class="separator:a1f8ab744e9377ac9776796b4c3f98091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849151f093b2ba49f390acfb835e97da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a849151f093b2ba49f390acfb835e97da">print_quality</a> (std::string &amp;<a class="el" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>)</td></tr>
<tr class="memdesc:a849151f093b2ba49f390acfb835e97da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the quality range of all elements, for debugging.  <a href="#a849151f093b2ba49f390acfb835e97da">More...</a><br /></td></tr>
<tr class="separator:a849151f093b2ba49f390acfb835e97da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acd2506a68d3e766370f6f60e827e81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7acd2506a68d3e766370f6f60e827e81">print_mquality</a> (std::string &amp;<a class="el" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;to_check)</td></tr>
<tr class="memdesc:a7acd2506a68d3e766370f6f60e827e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the quality range of marked elements, for debugging.  <a href="#a7acd2506a68d3e766370f6f60e827e81">More...</a><br /></td></tr>
<tr class="separator:a7acd2506a68d3e766370f6f60e827e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b230d9e1d42e381af9441a2041520ce"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a5b230d9e1d42e381af9441a2041520ce">check_marked_elem_quality</a> (std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems, std::vector&lt; COM::Pane * &gt; &amp;allpanes)</td></tr>
<tr class="memdesc:a5b230d9e1d42e381af9441a2041520ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of marked real elements.  <a href="#a5b230d9e1d42e381af9441a2041520ce">More...</a><br /></td></tr>
<tr class="separator:a5b230d9e1d42e381af9441a2041520ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a56d10bd215a994da860edae29be78"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a> (std::vector&lt; const COM::Pane * &gt; &amp;allpanes, bool with_ghost=false)</td></tr>
<tr class="memdesc:ab8a56d10bd215a994da860edae29be78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of all real elements.  <a href="#ab8a56d10bd215a994da860edae29be78">More...</a><br /></td></tr>
<tr class="separator:ab8a56d10bd215a994da860edae29be78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8ab744e9377ac9776796b4c3f98091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a1f8ab744e9377ac9776796b4c3f98091">check_all_elem_quality</a> (std::vector&lt; COM::Pane * &gt; &amp;allpanes, bool with_ghosts=false)</td></tr>
<tr class="memdesc:a1f8ab744e9377ac9776796b4c3f98091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of all real elements marked.  <a href="#a1f8ab744e9377ac9776796b4c3f98091">More...</a><br /></td></tr>
<tr class="separator:a1f8ab744e9377ac9776796b4c3f98091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4df805a767c8b80da5b47b7a649e2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a> (int verb, const char *msg)</td></tr>
<tr class="memdesc:a7b4df805a767c8b80da5b47b7a649e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single process print message if given verbosity level is exceeded.  <a href="#a7b4df805a767c8b80da5b47b7a649e2f">More...</a><br /></td></tr>
<tr class="separator:a7b4df805a767c8b80da5b47b7a649e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a272987fd152d3b11f597ec0c6936fb29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a272987fd152d3b11f597ec0c6936fb29">constrain_displacements</a> (COM::Attribute *w_disp)</td></tr>
<tr class="memdesc:a272987fd152d3b11f597ec0c6936fb29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contrain displacements to _maxdisp.  <a href="#a272987fd152d3b11f597ec0c6936fb29">More...</a><br /></td></tr>
<tr class="separator:a272987fd152d3b11f597ec0c6936fb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3398a11c308e88338e4799033b97acc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a3398a11c308e88338e4799033b97acc9">print_extremal_dihedrals</a> (COM::Window *window)</td></tr>
<tr class="memdesc:a3398a11c308e88338e4799033b97acc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the min and max dihedral angles along with their locations.  <a href="#a3398a11c308e88338e4799033b97acc9">More...</a><br /></td></tr>
<tr class="separator:a3398a11c308e88338e4799033b97acc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bc6b9b3fbe65a1222fdab7e08cbe8e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8bc6b9b3fbe65a1222fdab7e08cbe8e4">print_quality</a> (std::string &amp;<a class="el" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>, const std::string &amp;s2)</td></tr>
<tr class="memdesc:a8bc6b9b3fbe65a1222fdab7e08cbe8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the quality range of all elements, for debugging.  <a href="#a8bc6b9b3fbe65a1222fdab7e08cbe8e4">More...</a><br /></td></tr>
<tr class="separator:a8bc6b9b3fbe65a1222fdab7e08cbe8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acd2506a68d3e766370f6f60e827e81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7acd2506a68d3e766370f6f60e827e81">print_mquality</a> (std::string &amp;<a class="el" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;to_check)</td></tr>
<tr class="memdesc:a7acd2506a68d3e766370f6f60e827e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the quality range of marked elements, for debugging.  <a href="#a7acd2506a68d3e766370f6f60e827e81">More...</a><br /></td></tr>
<tr class="separator:a7acd2506a68d3e766370f6f60e827e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b230d9e1d42e381af9441a2041520ce"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a5b230d9e1d42e381af9441a2041520ce">check_marked_elem_quality</a> (std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems, std::vector&lt; COM::Pane * &gt; &amp;allpanes)</td></tr>
<tr class="memdesc:a5b230d9e1d42e381af9441a2041520ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of marked real elements.  <a href="#a5b230d9e1d42e381af9441a2041520ce">More...</a><br /></td></tr>
<tr class="separator:a5b230d9e1d42e381af9441a2041520ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a56d10bd215a994da860edae29be78"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a> (std::vector&lt; const COM::Pane * &gt; &amp;allpanes, bool with_ghost=false)</td></tr>
<tr class="memdesc:ab8a56d10bd215a994da860edae29be78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of all real elements.  <a href="#ab8a56d10bd215a994da860edae29be78">More...</a><br /></td></tr>
<tr class="separator:ab8a56d10bd215a994da860edae29be78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8ab744e9377ac9776796b4c3f98091"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a1f8ab744e9377ac9776796b4c3f98091">check_all_elem_quality</a> (std::vector&lt; COM::Pane * &gt; &amp;allpanes, bool with_ghosts=false)</td></tr>
<tr class="memdesc:a1f8ab744e9377ac9776796b4c3f98091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the largest dihedral angle of all real elements marked.  <a href="#a1f8ab744e9377ac9776796b4c3f98091">More...</a><br /></td></tr>
<tr class="separator:a1f8ab744e9377ac9776796b4c3f98091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4df805a767c8b80da5b47b7a649e2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a> (int verb, const char *msg)</td></tr>
<tr class="memdesc:a7b4df805a767c8b80da5b47b7a649e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single process print message if given verbosity level is exceeded.  <a href="#a7b4df805a767c8b80da5b47b7a649e2f">More...</a><br /></td></tr>
<tr class="separator:a7b4df805a767c8b80da5b47b7a649e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a272987fd152d3b11f597ec0c6936fb29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a272987fd152d3b11f597ec0c6936fb29">constrain_displacements</a> (COM::Attribute *w_disp)</td></tr>
<tr class="memdesc:a272987fd152d3b11f597ec0c6936fb29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contrain displacements to _maxdisp.  <a href="#a272987fd152d3b11f597ec0c6936fb29">More...</a><br /></td></tr>
<tr class="separator:a272987fd152d3b11f597ec0c6936fb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68df94f4705a5056a0324b5ec65ab466"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a68df94f4705a5056a0324b5ec65ab466">obtain_extremal_dihedrals</a> (const COM::Attribute *att, double *<a class="el" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">min</a>, double *<a class="el" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a>)</td></tr>
<tr class="memdesc:a68df94f4705a5056a0324b5ec65ab466"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the min and max dihedral angles.  <a href="#a68df94f4705a5056a0324b5ec65ab466">More...</a><br /></td></tr>
<tr class="separator:a68df94f4705a5056a0324b5ec65ab466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3398a11c308e88338e4799033b97acc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a3398a11c308e88338e4799033b97acc9">print_extremal_dihedrals</a> (COM::Window *window)</td></tr>
<tr class="memdesc:a3398a11c308e88338e4799033b97acc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the min and max dihedral angles along with their locations.  <a href="#a3398a11c308e88338e4799033b97acc9">More...</a><br /></td></tr>
<tr class="separator:a3398a11c308e88338e4799033b97acc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bc6b9b3fbe65a1222fdab7e08cbe8e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8bc6b9b3fbe65a1222fdab7e08cbe8e4">print_quality</a> (std::string &amp;<a class="el" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>, const std::string &amp;s2)</td></tr>
<tr class="memdesc:a8bc6b9b3fbe65a1222fdab7e08cbe8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the quality range of all elements, for debugging.  <a href="#a8bc6b9b3fbe65a1222fdab7e08cbe8e4">More...</a><br /></td></tr>
<tr class="separator:a8bc6b9b3fbe65a1222fdab7e08cbe8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7acd2506a68d3e766370f6f60e827e81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7acd2506a68d3e766370f6f60e827e81">print_mquality</a> (std::string &amp;<a class="el" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;to_check)</td></tr>
<tr class="memdesc:a7acd2506a68d3e766370f6f60e827e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the quality range of marked elements, for debugging.  <a href="#a7acd2506a68d3e766370f6f60e827e81">More...</a><br /></td></tr>
<tr class="separator:a7acd2506a68d3e766370f6f60e827e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af7b1e5ce31f5e001ab4c4253681b5093"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">_reorthog</a></td></tr>
<tr class="memdesc:af7b1e5ce31f5e001ab4c4253681b5093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorthogonalize?  <a href="#af7b1e5ce31f5e001ab4c4253681b5093">More...</a><br /></td></tr>
<tr class="separator:af7b1e5ce31f5e001ab4c4253681b5093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bbdc2102dd12d88d22101f52ba8d214"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">_wght_scheme</a></td></tr>
<tr class="memdesc:a6bbdc2102dd12d88d22101f52ba8d214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weighting scheme.  <a href="#a6bbdc2102dd12d88d22101f52ba8d214">More...</a><br /></td></tr>
<tr class="separator:a6bbdc2102dd12d88d22101f52ba8d214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921d90d99e5f31f862c60cc38be37e90"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">_eig_thres</a></td></tr>
<tr class="memdesc:a921d90d99e5f31f862c60cc38be37e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eigenvalue thresholds.  <a href="#a921d90d99e5f31f862c60cc38be37e90">More...</a><br /></td></tr>
<tr class="separator:a921d90d99e5f31f862c60cc38be37e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636256f97cbf038ca33ff7c0a64754f1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">_dir_thres</a></td></tr>
<tr class="memdesc:a636256f97cbf038ca33ff7c0a64754f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Another threshold.  <a href="#a636256f97cbf038ca33ff7c0a64754f1">More...</a><br /></td></tr>
<tr class="separator:a636256f97cbf038ca33ff7c0a64754f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85aadec6c44aa08f45cbc6bbe221a299"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">_saliency_crn</a></td></tr>
<tr class="separator:a85aadec6c44aa08f45cbc6bbe221a299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f680156b4067b75b0981859d00e2c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">_rediter</a></td></tr>
<tr class="memdesc:a48f680156b4067b75b0981859d00e2c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">No.iterations for vertex redistribution.  <a href="#a48f680156b4067b75b0981859d00e2c1">More...</a><br /></td></tr>
<tr class="separator:a48f680156b4067b75b0981859d00e2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ae344acfa80639459b14a4435b9ded"><td class="memItemLeft" align="right" valign="top">const COM::Attribute *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">_cnstr_types</a></td></tr>
<tr class="memdesc:a02ae344acfa80639459b14a4435b9ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores types of nodal constraints.  <a href="#a02ae344acfa80639459b14a4435b9ded">More...</a><br /></td></tr>
<tr class="separator:a02ae344acfa80639459b14a4435b9ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a441e6454097c3b02e1cc9553160d4b90"><td class="memItemLeft" align="right" valign="top">COM::Attribute *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">_cnstr_dirs</a></td></tr>
<tr class="memdesc:a441e6454097c3b02e1cc9553160d4b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores directions of nodal contraints.  <a href="#a441e6454097c3b02e1cc9553160d4b90">More...</a><br /></td></tr>
<tr class="separator:a441e6454097c3b02e1cc9553160d4b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e1d92d364da276f6b7f647c100f01e7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::set&lt; <a class="el" href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">_edges</a></td></tr>
<tr class="memdesc:a4e1d92d364da276f6b7f647c100f01e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">ridge edges  <a href="#a4e1d92d364da276f6b7f647c100f01e7">More...</a><br /></td></tr>
<tr class="separator:a4e1d92d364da276f6b7f647c100f01e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ac9f726463b01a03b5beb47e018110"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a59ac9f726463b01a03b5beb47e018110">_is_shared_node</a></td></tr>
<tr class="memdesc:a59ac9f726463b01a03b5beb47e018110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the node shared?  <a href="#a59ac9f726463b01a03b5beb47e018110">More...</a><br /></td></tr>
<tr class="separator:a59ac9f726463b01a03b5beb47e018110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4fce00eeb4e715e4b24cec46c30f6de"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ab4fce00eeb4e715e4b24cec46c30f6de">_is_shared_elem</a></td></tr>
<tr class="memdesc:ab4fce00eeb4e715e4b24cec46c30f6de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the element contain shared nodes?  <a href="#ab4fce00eeb4e715e4b24cec46c30f6de">More...</a><br /></td></tr>
<tr class="separator:ab4fce00eeb4e715e4b24cec46c30f6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60294ba7ca944fcdefa9020780a8d11b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a60294ba7ca944fcdefa9020780a8d11b">_is_phys_bnd_node</a></td></tr>
<tr class="memdesc:a60294ba7ca944fcdefa9020780a8d11b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the node on the physical boundary?  <a href="#a60294ba7ca944fcdefa9020780a8d11b">More...</a><br /></td></tr>
<tr class="separator:a60294ba7ca944fcdefa9020780a8d11b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4933c0720354ade07b59271ee6bd008d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4933c0720354ade07b59271ee6bd008d">_is_phys_bnd_elem</a></td></tr>
<tr class="memdesc:a4933c0720354ade07b59271ee6bd008d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the element contain nodes on the phys. boundary?  <a href="#a4933c0720354ade07b59271ee6bd008d">More...</a><br /></td></tr>
<tr class="separator:a4933c0720354ade07b59271ee6bd008d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9d66a20551e336e052787d6f094b23"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a></td></tr>
<tr class="memdesc:aed9d66a20551e336e052787d6f094b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the node on the pane boundary?  <a href="#aed9d66a20551e336e052787d6f094b23">More...</a><br /></td></tr>
<tr class="separator:aed9d66a20551e336e052787d6f094b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d6fc485cb1c3b7b338e5514dd4b1c0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a13d6fc485cb1c3b7b338e5514dd4b1c0">_is_pane_bnd_elem</a></td></tr>
<tr class="memdesc:a13d6fc485cb1c3b7b338e5514dd4b1c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the element contain nodes on the pane boundary?  <a href="#a13d6fc485cb1c3b7b338e5514dd4b1c0">More...</a><br /></td></tr>
<tr class="separator:a13d6fc485cb1c3b7b338e5514dd4b1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a572549db131723f1e5176e2cdd2a9200"><td class="memItemLeft" align="right" valign="top">const COM::Window *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a></td></tr>
<tr class="memdesc:a572549db131723f1e5176e2cdd2a9200"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user's window.  <a href="#a572549db131723f1e5176e2cdd2a9200">More...</a><br /></td></tr>
<tr class="separator:a572549db131723f1e5176e2cdd2a9200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bfb863d0d6c0ca0aac56d669dde275f"><td class="memItemLeft" align="right" valign="top">COM::Window *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a></td></tr>
<tr class="memdesc:a8bfb863d0d6c0ca0aac56d669dde275f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The working window.  <a href="#a8bfb863d0d6c0ca0aac56d669dde275f">More...</a><br /></td></tr>
<tr class="separator:a8bfb863d0d6c0ca0aac56d669dde275f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b94b90d311b68f3cc157edb92c34c2d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">_is_pmesh</a></td></tr>
<tr class="memdesc:a8b94b90d311b68f3cc157edb92c34c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">pmesh or mesh ?  <a href="#a8b94b90d311b68f3cc157edb92c34c2d">More...</a><br /></td></tr>
<tr class="separator:a8b94b90d311b68f3cc157edb92c34c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2f9cbfe3a6d8ca5380f6996136d436"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a></td></tr>
<tr class="memdesc:a9e2f9cbfe3a6d8ca5380f6996136d436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Choice of smoothing method.  <a href="#a9e2f9cbfe3a6d8ca5380f6996136d436">More...</a><br /></td></tr>
<tr class="separator:a9e2f9cbfe3a6d8ca5380f6996136d436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb97bace1cdea437d58881da5314ec0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a></td></tr>
<tr class="memdesc:acb97bace1cdea437d58881da5314ec0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verbose level.  <a href="#acb97bace1cdea437d58881da5314ec0c">More...</a><br /></td></tr>
<tr class="separator:acb97bace1cdea437d58881da5314ec0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621c549156ae2558041421fce526c928"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a></td></tr>
<tr class="memdesc:a621c549156ae2558041421fce526c928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check quality before smoothing?  <a href="#a621c549156ae2558041421fce526c928">More...</a><br /></td></tr>
<tr class="separator:a621c549156ae2558041421fce526c928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c15a69962e6e553d4b38236474fabfa"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a></td></tr>
<tr class="memdesc:a6c15a69962e6e553d4b38236474fabfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smoother iterating tolerance.  <a href="#a6c15a69962e6e553d4b38236474fabfa">More...</a><br /></td></tr>
<tr class="separator:a6c15a69962e6e553d4b38236474fabfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ba011a343077f4e01e89ab7f15c791"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">_niter</a></td></tr>
<tr class="memdesc:a96ba011a343077f4e01e89ab7f15c791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of iterations for smoothing.  <a href="#a96ba011a343077f4e01e89ab7f15c791">More...</a><br /></td></tr>
<tr class="separator:a96ba011a343077f4e01e89ab7f15c791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcb6239b84f76205a02035a45e990db"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">_ctol</a></td></tr>
<tr class="memdesc:a5dcb6239b84f76205a02035a45e990db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subcycling tolerance.  <a href="#a5dcb6239b84f76205a02035a45e990db">More...</a><br /></td></tr>
<tr class="separator:a5dcb6239b84f76205a02035a45e990db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac4ba847a0da2e6304c77894c3bd277a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">_ncycle</a></td></tr>
<tr class="memdesc:aac4ba847a0da2e6304c77894c3bd277a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structMax.html">Max</a> number of subcycles for convergence.  <a href="#aac4ba847a0da2e6304c77894c3bd277a">More...</a><br /></td></tr>
<tr class="separator:aac4ba847a0da2e6304c77894c3bd277a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e5843a355181eff1cf2d8ca5b1dca2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a></td></tr>
<tr class="memdesc:a6e5843a355181eff1cf2d8ca5b1dca2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Impose non-decreasing quality?  <a href="#a6e5843a355181eff1cf2d8ca5b1dca2e">More...</a><br /></td></tr>
<tr class="separator:a6e5843a355181eff1cf2d8ca5b1dca2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfdea9d17d1d178a64572a734d899c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">_cookie</a></td></tr>
<tr class="memdesc:a7cfdea9d17d1d178a64572a734d899c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">For Roccom.  <a href="#a7cfdea9d17d1d178a64572a734d899c9">More...</a><br /></td></tr>
<tr class="separator:a7cfdea9d17d1d178a64572a734d899c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c73458e9e564ce8f6b82ac18efaaab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">_invert</a></td></tr>
<tr class="memdesc:ad5c73458e9e564ce8f6b82ac18efaaab"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true (default false), then invert the mesh.  <a href="#ad5c73458e9e564ce8f6b82ac18efaaab">More...</a><br /></td></tr>
<tr class="separator:ad5c73458e9e564ce8f6b82ac18efaaab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcf376a2f76399b898978673597ccb2"><td class="memItemLeft" align="right" valign="top">COM::Window *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a></td></tr>
<tr class="memdesc:abbcf376a2f76399b898978673597ccb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The buffer window.  <a href="#abbcf376a2f76399b898978673597ccb2">More...</a><br /></td></tr>
<tr class="separator:abbcf376a2f76399b898978673597ccb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356bd34e4b257a8aba764708984ef3c5"><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak" />
&lt; MAP::Pane_dual_connectivity * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a356bd34e4b257a8aba764708984ef3c5">_dcs</a></td></tr>
<tr class="separator:a356bd34e4b257a8aba764708984ef3c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0338024da3f5698c89c96991759343"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a></td></tr>
<tr class="memdesc:a1c0338024da3f5698c89c96991759343"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum displacement allowed.  <a href="#a1c0338024da3f5698c89c96991759343">More...</a><br /></td></tr>
<tr class="separator:a1c0338024da3f5698c89c96991759343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a640fdb5eaa778ab738ebcae03624b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">_smoothfreq</a></td></tr>
<tr class="separator:a31a640fdb5eaa778ab738ebcae03624b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7722c8ecbb62d99aee7ce68b1752f337"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a></td></tr>
<tr class="memdesc:a7722c8ecbb62d99aee7ce68b1752f337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth every _smoothfreq'th call.  <a href="#a7722c8ecbb62d99aee7ce68b1752f337">More...</a><br /></td></tr>
<tr class="separator:a7722c8ecbb62d99aee7ce68b1752f337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e83fe394d0394e50fec105cf1e465a3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a1e83fe394d0394e50fec105cf1e465a3">disp_tally</a></td></tr>
<tr class="memdesc:a1e83fe394d0394e50fec105cf1e465a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">originally a static in <a class="el" href="classRocmop.html#a4f438b3fbdef34029dda3ef9564f2272" title="Smooth the mesh in a Rocmop managed buffer. ">smooth()</a>  <a href="#a1e83fe394d0394e50fec105cf1e465a3">More...</a><br /></td></tr>
<tr class="separator:a1e83fe394d0394e50fec105cf1e465a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd212ed9ad7f1dbf30678f91437f680"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">_disp_thresh</a></td></tr>
<tr class="memdesc:a4cd212ed9ad7f1dbf30678f91437f680"><td class="mdescLeft">&#160;</td><td class="mdescRight">originally a static in check_displacements  <a href="#a4cd212ed9ad7f1dbf30678f91437f680">More...</a><br /></td></tr>
<tr class="separator:a4cd212ed9ad7f1dbf30678f91437f680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13781481a1791cf8f47e669be5cbd4c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a13781481a1791cf8f47e669be5cbd4c9">_wrapper</a></td></tr>
<tr class="memdesc:a13781481a1791cf8f47e669be5cbd4c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Choice of <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> Smoothing Wrappers.  <a href="#a13781481a1791cf8f47e669be5cbd4c9">More...</a><br /></td></tr>
<tr class="separator:a13781481a1791cf8f47e669be5cbd4c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71e7a695e2e7b8538ac59569b76a574"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac71e7a695e2e7b8538ac59569b76a574">_invert_tets</a></td></tr>
<tr class="memdesc:ac71e7a695e2e7b8538ac59569b76a574"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true (default false), then invert tets.  <a href="#ac71e7a695e2e7b8538ac59569b76a574">More...</a><br /></td></tr>
<tr class="separator:ac71e7a695e2e7b8538ac59569b76a574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac435b24b552e58d77077b7fa7bcf6190"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac435b24b552e58d77077b7fa7bcf6190">_invert_hexes</a></td></tr>
<tr class="memdesc:ac435b24b552e58d77077b7fa7bcf6190"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true (default false), then invert hexes.  <a href="#ac435b24b552e58d77077b7fa7bcf6190">More...</a><br /></td></tr>
<tr class="separator:ac435b24b552e58d77077b7fa7bcf6190"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Smoothing control flow</h2></td></tr>
<tr class="memitem:a4f438b3fbdef34029dda3ef9564f2272"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4f438b3fbdef34029dda3ef9564f2272">smooth</a> (const COM::Attribute *pmesh, COM::Attribute *disp)</td></tr>
<tr class="memdesc:a4f438b3fbdef34029dda3ef9564f2272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth the mesh in a <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> managed buffer.  <a href="#a4f438b3fbdef34029dda3ef9564f2272">More...</a><br /></td></tr>
<tr class="separator:a4f438b3fbdef34029dda3ef9564f2272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac248e110186c57ebe9e9775996404554"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac248e110186c57ebe9e9775996404554">smooth_in_place</a> (COM::Attribute *pmesh)</td></tr>
<tr class="memdesc:ac248e110186c57ebe9e9775996404554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth a mesh in place..  <a href="#ac248e110186c57ebe9e9775996404554">More...</a><br /></td></tr>
<tr class="separator:ac248e110186c57ebe9e9775996404554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f438b3fbdef34029dda3ef9564f2272"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4f438b3fbdef34029dda3ef9564f2272">smooth</a> (const COM::Attribute *pmesh, COM::Attribute *disp)</td></tr>
<tr class="memdesc:a4f438b3fbdef34029dda3ef9564f2272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth the mesh in a <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> managed buffer.  <a href="#a4f438b3fbdef34029dda3ef9564f2272">More...</a><br /></td></tr>
<tr class="separator:a4f438b3fbdef34029dda3ef9564f2272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac248e110186c57ebe9e9775996404554"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac248e110186c57ebe9e9775996404554">smooth_in_place</a> (COM::Attribute *pmesh)</td></tr>
<tr class="memdesc:ac248e110186c57ebe9e9775996404554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth a mesh in place..  <a href="#ac248e110186c57ebe9e9775996404554">More...</a><br /></td></tr>
<tr class="separator:ac248e110186c57ebe9e9775996404554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad9c75b9cbd06d728692c109349a604"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7ad9c75b9cbd06d728692c109349a604">smooth</a> (const COM::Attribute *pmesh, COM::Attribute *disp, double *timestep=NULL)</td></tr>
<tr class="memdesc:a7ad9c75b9cbd06d728692c109349a604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smooth the mesh in a <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> managed buffer.  <a href="#a7ad9c75b9cbd06d728692c109349a604">More...</a><br /></td></tr>
<tr class="separator:a7ad9c75b9cbd06d728692c109349a604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7">smoother_specific_init</a> ()</td></tr>
<tr class="memdesc:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform smoother specific initialization.  <a href="#aa4ccb82202e8cfdb21a511ff6336bab7">More...</a><br /></td></tr>
<tr class="separator:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ec452c2f77be3c17016a61c8ce0772"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aa1ec452c2f77be3c17016a61c8ce0772">perform_smoothing</a> (double pre_quality)</td></tr>
<tr class="memdesc:aa1ec452c2f77be3c17016a61c8ce0772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform smoothing on _wrk_window.  <a href="#aa1ec452c2f77be3c17016a61c8ce0772">More...</a><br /></td></tr>
<tr class="separator:aa1ec452c2f77be3c17016a61c8ce0772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1b36ea37818e0495235d69db409c3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ada1b36ea37818e0495235d69db409c3c">perform_iterative_smoothing</a> (double pre_quality)</td></tr>
<tr class="memdesc:ada1b36ea37818e0495235d69db409c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform iterative smoothing.  <a href="#ada1b36ea37818e0495235d69db409c3c">More...</a><br /></td></tr>
<tr class="separator:ada1b36ea37818e0495235d69db409c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1">perform_noniterative_smoothing</a> ()</td></tr>
<tr class="memdesc:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform noniterative smoothing.  <a href="#a8a8cdb8629071d7ca975031d1d63e6b1">More...</a><br /></td></tr>
<tr class="separator:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7">smoother_specific_init</a> ()</td></tr>
<tr class="memdesc:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform smoother specific initialization.  <a href="#aa4ccb82202e8cfdb21a511ff6336bab7">More...</a><br /></td></tr>
<tr class="separator:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceadec08b7100ec1b2d1252e4d1b1da2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">perform_smoothing</a> ()</td></tr>
<tr class="memdesc:aceadec08b7100ec1b2d1252e4d1b1da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform smoothing on _buf_window.  <a href="#aceadec08b7100ec1b2d1252e4d1b1da2">More...</a><br /></td></tr>
<tr class="separator:aceadec08b7100ec1b2d1252e4d1b1da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e21051b9bdb94452808bc6740afc89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89">perform_iterative_smoothing</a> ()</td></tr>
<tr class="memdesc:a79e21051b9bdb94452808bc6740afc89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform iterative smoothing.  <a href="#a79e21051b9bdb94452808bc6740afc89">More...</a><br /></td></tr>
<tr class="separator:a79e21051b9bdb94452808bc6740afc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1">perform_noniterative_smoothing</a> ()</td></tr>
<tr class="memdesc:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform noniterative smoothing.  <a href="#a8a8cdb8629071d7ca975031d1d63e6b1">More...</a><br /></td></tr>
<tr class="separator:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7">smoother_specific_init</a> ()</td></tr>
<tr class="memdesc:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform smoother specific initialization.  <a href="#aa4ccb82202e8cfdb21a511ff6336bab7">More...</a><br /></td></tr>
<tr class="separator:aa4ccb82202e8cfdb21a511ff6336bab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceadec08b7100ec1b2d1252e4d1b1da2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">perform_smoothing</a> ()</td></tr>
<tr class="memdesc:aceadec08b7100ec1b2d1252e4d1b1da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform smoothing on _buf_window.  <a href="#aceadec08b7100ec1b2d1252e4d1b1da2">More...</a><br /></td></tr>
<tr class="separator:aceadec08b7100ec1b2d1252e4d1b1da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e21051b9bdb94452808bc6740afc89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89">perform_iterative_smoothing</a> ()</td></tr>
<tr class="memdesc:a79e21051b9bdb94452808bc6740afc89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform iterative smoothing.  <a href="#a79e21051b9bdb94452808bc6740afc89">More...</a><br /></td></tr>
<tr class="separator:a79e21051b9bdb94452808bc6740afc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1">perform_noniterative_smoothing</a> ()</td></tr>
<tr class="memdesc:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform noniterative smoothing.  <a href="#a8a8cdb8629071d7ca975031d1d63e6b1">More...</a><br /></td></tr>
<tr class="separator:a8a8cdb8629071d7ca975031d1d63e6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7442976f3904b3769c02c83c2046b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4c7442976f3904b3769c02c83c2046b2">update_buf_real_nc</a> ()</td></tr>
<tr class="memdesc:a4c7442976f3904b3769c02c83c2046b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update real nodal coordinates of _buf_window from _usr_window.  <a href="#a4c7442976f3904b3769c02c83c2046b2">More...</a><br /></td></tr>
<tr class="separator:a4c7442976f3904b3769c02c83c2046b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fbe75569dea16d02feda4c47099b2ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a6fbe75569dea16d02feda4c47099b2ee">check_input_pconn</a> ()</td></tr>
<tr class="memdesc:a6fbe75569dea16d02feda4c47099b2ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check pconn block 3 of the input mesh.  <a href="#a6fbe75569dea16d02feda4c47099b2ee">More...</a><br /></td></tr>
<tr class="separator:a6fbe75569dea16d02feda4c47099b2ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c23d92a358fb715951f770ab1e38a6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a1c23d92a358fb715951f770ab1e38a6c">get_usr_disp</a> (const COM::Attribute *pmesh, COM::Attribute *disp, double *timestep)</td></tr>
<tr class="memdesc:a1c23d92a358fb715951f770ab1e38a6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get displacement in _usr_window based on nc in _buf_window.  <a href="#a1c23d92a358fb715951f770ab1e38a6c">More...</a><br /></td></tr>
<tr class="separator:a1c23d92a358fb715951f770ab1e38a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Miscellaneous</h2></td></tr>
<tr class="memitem:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad7b8e28a93fe2b5fa69d4b896aaddcb2">set_value</a> (const char *opt, const void *val)</td></tr>
<tr class="memdesc:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a Rocomp option.  <a href="#ad7b8e28a93fe2b5fa69d4b896aaddcb2">More...</a><br /></td></tr>
<tr class="separator:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09fc306daf0e04e206377cf74dde163a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a09fc306daf0e04e206377cf74dde163a">determine_pane_border</a> ()</td></tr>
<tr class="memdesc:a09fc306daf0e04e206377cf74dde163a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are on pane borders.  <a href="#a09fc306daf0e04e206377cf74dde163a">More...</a><br /></td></tr>
<tr class="separator:a09fc306daf0e04e206377cf74dde163a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305b7c02548073fc9d94384645dee746"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a305b7c02548073fc9d94384645dee746">determine_physical_border</a> (COM::Attribute *w_is_surface)</td></tr>
<tr class="memdesc:a305b7c02548073fc9d94384645dee746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes are on the physical border.  <a href="#a305b7c02548073fc9d94384645dee746">More...</a><br /></td></tr>
<tr class="separator:a305b7c02548073fc9d94384645dee746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d2093e46e82c6974a7ec1f984ede34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ae6d2093e46e82c6974a7ec1f984ede34">determine_physical_border</a> ()</td></tr>
<tr class="memdesc:ae6d2093e46e82c6974a7ec1f984ede34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are on the physical border.  <a href="#ae6d2093e46e82c6974a7ec1f984ede34">More...</a><br /></td></tr>
<tr class="separator:ae6d2093e46e82c6974a7ec1f984ede34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab9ce2c2abc714470af5935a1253b51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7ab9ce2c2abc714470af5935a1253b51">determine_shared_border</a> ()</td></tr>
<tr class="memdesc:a7ab9ce2c2abc714470af5935a1253b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are shared.  <a href="#a7ab9ce2c2abc714470af5935a1253b51">More...</a><br /></td></tr>
<tr class="separator:a7ab9ce2c2abc714470af5935a1253b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c86012e49ffd3488beacec5a4f5f03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a> (std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</td></tr>
<tr class="memdesc:ad5c86012e49ffd3488beacec5a4f5f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the nodes which contain marked elems.  <a href="#ad5c86012e49ffd3488beacec5a4f5f03">More...</a><br /></td></tr>
<tr class="separator:ad5c86012e49ffd3488beacec5a4f5f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad7b8e28a93fe2b5fa69d4b896aaddcb2">set_value</a> (const char *opt, const void *val)</td></tr>
<tr class="memdesc:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a Rocomp option.  <a href="#ad7b8e28a93fe2b5fa69d4b896aaddcb2">More...</a><br /></td></tr>
<tr class="separator:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09fc306daf0e04e206377cf74dde163a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a09fc306daf0e04e206377cf74dde163a">determine_pane_border</a> ()</td></tr>
<tr class="memdesc:a09fc306daf0e04e206377cf74dde163a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are on pane borders.  <a href="#a09fc306daf0e04e206377cf74dde163a">More...</a><br /></td></tr>
<tr class="separator:a09fc306daf0e04e206377cf74dde163a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305b7c02548073fc9d94384645dee746"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a305b7c02548073fc9d94384645dee746">determine_physical_border</a> (COM::Attribute *w_is_surface)</td></tr>
<tr class="memdesc:a305b7c02548073fc9d94384645dee746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes are on the physical border.  <a href="#a305b7c02548073fc9d94384645dee746">More...</a><br /></td></tr>
<tr class="separator:a305b7c02548073fc9d94384645dee746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d2093e46e82c6974a7ec1f984ede34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ae6d2093e46e82c6974a7ec1f984ede34">determine_physical_border</a> ()</td></tr>
<tr class="memdesc:ae6d2093e46e82c6974a7ec1f984ede34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are on the physical border.  <a href="#ae6d2093e46e82c6974a7ec1f984ede34">More...</a><br /></td></tr>
<tr class="separator:ae6d2093e46e82c6974a7ec1f984ede34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab9ce2c2abc714470af5935a1253b51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7ab9ce2c2abc714470af5935a1253b51">determine_shared_border</a> ()</td></tr>
<tr class="memdesc:a7ab9ce2c2abc714470af5935a1253b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are shared.  <a href="#a7ab9ce2c2abc714470af5935a1253b51">More...</a><br /></td></tr>
<tr class="separator:a7ab9ce2c2abc714470af5935a1253b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c86012e49ffd3488beacec5a4f5f03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a> (std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</td></tr>
<tr class="memdesc:ad5c86012e49ffd3488beacec5a4f5f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the nodes which contain marked elems.  <a href="#ad5c86012e49ffd3488beacec5a4f5f03">More...</a><br /></td></tr>
<tr class="separator:ad5c86012e49ffd3488beacec5a4f5f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad7b8e28a93fe2b5fa69d4b896aaddcb2">set_value</a> (const char *opt, const void *val)</td></tr>
<tr class="memdesc:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a Rocomp option.  <a href="#ad7b8e28a93fe2b5fa69d4b896aaddcb2">More...</a><br /></td></tr>
<tr class="separator:ad7b8e28a93fe2b5fa69d4b896aaddcb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09fc306daf0e04e206377cf74dde163a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a09fc306daf0e04e206377cf74dde163a">determine_pane_border</a> ()</td></tr>
<tr class="memdesc:a09fc306daf0e04e206377cf74dde163a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are on pane borders.  <a href="#a09fc306daf0e04e206377cf74dde163a">More...</a><br /></td></tr>
<tr class="separator:a09fc306daf0e04e206377cf74dde163a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305b7c02548073fc9d94384645dee746"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a305b7c02548073fc9d94384645dee746">determine_physical_border</a> (COM::Attribute *w_is_surface)</td></tr>
<tr class="memdesc:a305b7c02548073fc9d94384645dee746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes are on the physical border.  <a href="#a305b7c02548073fc9d94384645dee746">More...</a><br /></td></tr>
<tr class="separator:a305b7c02548073fc9d94384645dee746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d2093e46e82c6974a7ec1f984ede34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ae6d2093e46e82c6974a7ec1f984ede34">determine_physical_border</a> ()</td></tr>
<tr class="memdesc:ae6d2093e46e82c6974a7ec1f984ede34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are on the physical border.  <a href="#ae6d2093e46e82c6974a7ec1f984ede34">More...</a><br /></td></tr>
<tr class="separator:ae6d2093e46e82c6974a7ec1f984ede34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab9ce2c2abc714470af5935a1253b51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7ab9ce2c2abc714470af5935a1253b51">determine_shared_border</a> ()</td></tr>
<tr class="memdesc:a7ab9ce2c2abc714470af5935a1253b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine which nodes and elements are shared.  <a href="#a7ab9ce2c2abc714470af5935a1253b51">More...</a><br /></td></tr>
<tr class="separator:a7ab9ce2c2abc714470af5935a1253b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c86012e49ffd3488beacec5a4f5f03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a> (std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</td></tr>
<tr class="memdesc:ad5c86012e49ffd3488beacec5a4f5f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the nodes which contain marked elems.  <a href="#ad5c86012e49ffd3488beacec5a4f5f03">More...</a><br /></td></tr>
<tr class="separator:ad5c86012e49ffd3488beacec5a4f5f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71254cee007425aa22f9566f1965001d"><td class="memItemLeft" align="right" valign="top">virtual SURF::Window_manifold_2 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a71254cee007425aa22f9566f1965001d">manifold</a> ()</td></tr>
<tr class="memdesc:a71254cee007425aa22f9566f1965001d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a reference to the manifold.  <a href="#a71254cee007425aa22f9566f1965001d">More...</a><br /></td></tr>
<tr class="separator:a71254cee007425aa22f9566f1965001d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3767bcdb4b06619283e47da0d17b1378"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">validate_object</a> () const </td></tr>
<tr class="memdesc:a3767bcdb4b06619283e47da0d17b1378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the object is valid.  <a href="#a3767bcdb4b06619283e47da0d17b1378">More...</a><br /></td></tr>
<tr class="separator:a3767bcdb4b06619283e47da0d17b1378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f7bffb33a186986f213c3e9d8bfcdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a33f7bffb33a186986f213c3e9d8bfcdc">invert_tets</a> ()</td></tr>
<tr class="memdesc:a33f7bffb33a186986f213c3e9d8bfcdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair inverted tets.  <a href="#a33f7bffb33a186986f213c3e9d8bfcdc">More...</a><br /></td></tr>
<tr class="separator:a33f7bffb33a186986f213c3e9d8bfcdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71254cee007425aa22f9566f1965001d"><td class="memItemLeft" align="right" valign="top">virtual SURF::Window_manifold_2 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a71254cee007425aa22f9566f1965001d">manifold</a> ()</td></tr>
<tr class="memdesc:a71254cee007425aa22f9566f1965001d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a reference to the manifold.  <a href="#a71254cee007425aa22f9566f1965001d">More...</a><br /></td></tr>
<tr class="separator:a71254cee007425aa22f9566f1965001d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3767bcdb4b06619283e47da0d17b1378"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">validate_object</a> () const </td></tr>
<tr class="memdesc:a3767bcdb4b06619283e47da0d17b1378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the object is valid.  <a href="#a3767bcdb4b06619283e47da0d17b1378">More...</a><br /></td></tr>
<tr class="separator:a3767bcdb4b06619283e47da0d17b1378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f7bffb33a186986f213c3e9d8bfcdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a33f7bffb33a186986f213c3e9d8bfcdc">invert_tets</a> ()</td></tr>
<tr class="memdesc:a33f7bffb33a186986f213c3e9d8bfcdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair inverted tets.  <a href="#a33f7bffb33a186986f213c3e9d8bfcdc">More...</a><br /></td></tr>
<tr class="separator:a33f7bffb33a186986f213c3e9d8bfcdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71254cee007425aa22f9566f1965001d"><td class="memItemLeft" align="right" valign="top">virtual SURF::Window_manifold_2 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a71254cee007425aa22f9566f1965001d">manifold</a> ()</td></tr>
<tr class="memdesc:a71254cee007425aa22f9566f1965001d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a reference to the manifold.  <a href="#a71254cee007425aa22f9566f1965001d">More...</a><br /></td></tr>
<tr class="separator:a71254cee007425aa22f9566f1965001d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3767bcdb4b06619283e47da0d17b1378"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">validate_object</a> () const </td></tr>
<tr class="memdesc:a3767bcdb4b06619283e47da0d17b1378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the object is valid.  <a href="#a3767bcdb4b06619283e47da0d17b1378">More...</a><br /></td></tr>
<tr class="separator:a3767bcdb4b06619283e47da0d17b1378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6de14f2d8c8b8243f50ff6e732f23a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aef6de14f2d8c8b8243f50ff6e732f23a">invert_elements</a> (int conn_type)</td></tr>
<tr class="memdesc:aef6de14f2d8c8b8243f50ff6e732f23a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repair inverted tets or hexes.  <a href="#aef6de14f2d8c8b8243f50ff6e732f23a">More...</a><br /></td></tr>
<tr class="separator:aef6de14f2d8c8b8243f50ff6e732f23a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Inter-Pane Communication</h2></td></tr>
<tr class="memitem:aff58f80a52e7dd9a4610db0a68713899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">agree_int</a> (int &amp;val, MPI_Op op)</td></tr>
<tr class="memdesc:aff58f80a52e7dd9a4610db0a68713899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Agree on an integer value across all panes.  <a href="#aff58f80a52e7dd9a4610db0a68713899">More...</a><br /></td></tr>
<tr class="separator:aff58f80a52e7dd9a4610db0a68713899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd1e3242f121ad96172ad719ecce08c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a> (double &amp;val, MPI_Op op)</td></tr>
<tr class="memdesc:a7bd1e3242f121ad96172ad719ecce08c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Agree on a double value across all panes.  <a href="#a7bd1e3242f121ad96172ad719ecce08c">More...</a><br /></td></tr>
<tr class="separator:a7bd1e3242f121ad96172ad719ecce08c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff58f80a52e7dd9a4610db0a68713899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">agree_int</a> (int &amp;val, MPI_Op op)</td></tr>
<tr class="memdesc:aff58f80a52e7dd9a4610db0a68713899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Agree on an integer value across all panes.  <a href="#aff58f80a52e7dd9a4610db0a68713899">More...</a><br /></td></tr>
<tr class="separator:aff58f80a52e7dd9a4610db0a68713899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd1e3242f121ad96172ad719ecce08c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a> (double &amp;val, MPI_Op op)</td></tr>
<tr class="memdesc:a7bd1e3242f121ad96172ad719ecce08c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Agree on a double value across all panes.  <a href="#a7bd1e3242f121ad96172ad719ecce08c">More...</a><br /></td></tr>
<tr class="separator:a7bd1e3242f121ad96172ad719ecce08c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff58f80a52e7dd9a4610db0a68713899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">agree_int</a> (int &amp;val, MPI_Op op)</td></tr>
<tr class="memdesc:aff58f80a52e7dd9a4610db0a68713899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Agree on an integer value across all panes.  <a href="#aff58f80a52e7dd9a4610db0a68713899">More...</a><br /></td></tr>
<tr class="separator:aff58f80a52e7dd9a4610db0a68713899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd1e3242f121ad96172ad719ecce08c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a> (double &amp;val, MPI_Op op)</td></tr>
<tr class="memdesc:a7bd1e3242f121ad96172ad719ecce08c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Agree on a double value across all panes.  <a href="#a7bd1e3242f121ad96172ad719ecce08c">More...</a><br /></td></tr>
<tr class="separator:a7bd1e3242f121ad96172ad719ecce08c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217ec7b723d7b6be27827ce2564b26d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a217ec7b723d7b6be27827ce2564b26d2">reduce_sum_on_shared_nodes</a> (COM::Attribute *att)</td></tr>
<tr class="memdesc:a217ec7b723d7b6be27827ce2564b26d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sum-reduction on the shared nodes for the given attribute.  <a href="#a217ec7b723d7b6be27827ce2564b26d2">More...</a><br /></td></tr>
<tr class="separator:a217ec7b723d7b6be27827ce2564b26d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd4bddbaee42f18554637da7d3384ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8dd4bddbaee42f18554637da7d3384ac">reduce_sum_on_shared_nodes</a> (COM::Attribute *att)</td></tr>
<tr class="memdesc:a8dd4bddbaee42f18554637da7d3384ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sum-reduction on the shared nodes for the given attribute.  <a href="#a8dd4bddbaee42f18554637da7d3384ac">More...</a><br /></td></tr>
<tr class="separator:a8dd4bddbaee42f18554637da7d3384ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd4bddbaee42f18554637da7d3384ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8dd4bddbaee42f18554637da7d3384ac">reduce_sum_on_shared_nodes</a> (COM::Attribute *att)</td></tr>
<tr class="memdesc:a8dd4bddbaee42f18554637da7d3384ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sum-reduction on the shared nodes for the given attribute.  <a href="#a8dd4bddbaee42f18554637da7d3384ac">More...</a><br /></td></tr>
<tr class="separator:a8dd4bddbaee42f18554637da7d3384ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Functions exclusive to medial quadric smoothing.</h2></td></tr>
<tr class="memitem:a800007d963d8c7320124ed29897db40a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a800007d963d8c7320124ed29897db40a">evaluate_face_normals</a> ()</td></tr>
<tr class="memdesc:a800007d963d8c7320124ed29897db40a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate face normals (copied from <a class="el" href="classFaceOffset__3.html">FaceOffset_3</a>.[hC].  <a href="#a800007d963d8c7320124ed29897db40a">More...</a><br /></td></tr>
<tr class="separator:a800007d963d8c7320124ed29897db40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4163833a771108c7f3243d9da3a685f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4163833a771108c7f3243d9da3a685f3">identify_ridge_edges</a> ()</td></tr>
<tr class="memdesc:a4163833a771108c7f3243d9da3a685f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identify ridge edges.  <a href="#a4163833a771108c7f3243d9da3a685f3">More...</a><br /></td></tr>
<tr class="separator:a4163833a771108c7f3243d9da3a685f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad736dd98cc6ca328994641cb3939fc7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c">redistribute_vertices_ridge</a> ()</td></tr>
<tr class="memdesc:ad736dd98cc6ca328994641cb3939fc7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute ridge vertices within their tangent spaces.  <a href="#ad736dd98cc6ca328994641cb3939fc7c">More...</a><br /></td></tr>
<tr class="separator:ad736dd98cc6ca328994641cb3939fc7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff38c32926fd43f2c63d0f359a31f77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77">redistribute_vertices_smooth</a> ()</td></tr>
<tr class="memdesc:aaff38c32926fd43f2c63d0f359a31f77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute smooth vertices within their tangent spaces.  <a href="#aaff38c32926fd43f2c63d0f359a31f77">More...</a><br /></td></tr>
<tr class="separator:aaff38c32926fd43f2c63d0f359a31f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6e496385e479c044a89f1e545edaa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5">compute_medial_quadric</a> ()</td></tr>
<tr class="memdesc:a4c6e496385e479c044a89f1e545edaa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute medial quadric for every vertex.  <a href="#a4c6e496385e479c044a89f1e545edaa5">More...</a><br /></td></tr>
<tr class="separator:a4c6e496385e479c044a89f1e545edaa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951f6a38a9e200878fabe2fe295d23ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed">eigen_analyze_vertex</a> (<a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; A_io[3], <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;b_io, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; *nrm_nz, double angle_defect)</td></tr>
<tr class="separator:a951f6a38a9e200878fabe2fe295d23ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb274a52abfb27d778d4c6d5c690866"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866">get_redist_safe_factor</a> (COM::Attribute *c_attr, COM::Attribute *w_attr, int <a class="el" href="startest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>)</td></tr>
<tr class="separator:a4fb274a52abfb27d778d4c6d5c690866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a800007d963d8c7320124ed29897db40a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a800007d963d8c7320124ed29897db40a">evaluate_face_normals</a> ()</td></tr>
<tr class="memdesc:a800007d963d8c7320124ed29897db40a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate face normals (copied from <a class="el" href="classFaceOffset__3.html">FaceOffset_3</a>.[hC].  <a href="#a800007d963d8c7320124ed29897db40a">More...</a><br /></td></tr>
<tr class="separator:a800007d963d8c7320124ed29897db40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4163833a771108c7f3243d9da3a685f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4163833a771108c7f3243d9da3a685f3">identify_ridge_edges</a> ()</td></tr>
<tr class="memdesc:a4163833a771108c7f3243d9da3a685f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identify ridge edges.  <a href="#a4163833a771108c7f3243d9da3a685f3">More...</a><br /></td></tr>
<tr class="separator:a4163833a771108c7f3243d9da3a685f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad736dd98cc6ca328994641cb3939fc7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c">redistribute_vertices_ridge</a> ()</td></tr>
<tr class="memdesc:ad736dd98cc6ca328994641cb3939fc7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute ridge vertices within their tangent spaces.  <a href="#ad736dd98cc6ca328994641cb3939fc7c">More...</a><br /></td></tr>
<tr class="separator:ad736dd98cc6ca328994641cb3939fc7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff38c32926fd43f2c63d0f359a31f77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77">redistribute_vertices_smooth</a> ()</td></tr>
<tr class="memdesc:aaff38c32926fd43f2c63d0f359a31f77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute smooth vertices within their tangent spaces.  <a href="#aaff38c32926fd43f2c63d0f359a31f77">More...</a><br /></td></tr>
<tr class="separator:aaff38c32926fd43f2c63d0f359a31f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6e496385e479c044a89f1e545edaa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5">compute_medial_quadric</a> ()</td></tr>
<tr class="memdesc:a4c6e496385e479c044a89f1e545edaa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute medial quadric for every vertex.  <a href="#a4c6e496385e479c044a89f1e545edaa5">More...</a><br /></td></tr>
<tr class="separator:a4c6e496385e479c044a89f1e545edaa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951f6a38a9e200878fabe2fe295d23ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed">eigen_analyze_vertex</a> (<a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; A_io[3], <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;b_io, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; *nrm_nz, double angle_defect)</td></tr>
<tr class="separator:a951f6a38a9e200878fabe2fe295d23ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb274a52abfb27d778d4c6d5c690866"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866">get_redist_safe_factor</a> (COM::Attribute *c_attr, COM::Attribute *w_attr, int <a class="el" href="startest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>)</td></tr>
<tr class="separator:a4fb274a52abfb27d778d4c6d5c690866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a800007d963d8c7320124ed29897db40a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a800007d963d8c7320124ed29897db40a">evaluate_face_normals</a> ()</td></tr>
<tr class="memdesc:a800007d963d8c7320124ed29897db40a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate face normals (copied from <a class="el" href="classFaceOffset__3.html">FaceOffset_3</a>.[hC].  <a href="#a800007d963d8c7320124ed29897db40a">More...</a><br /></td></tr>
<tr class="separator:a800007d963d8c7320124ed29897db40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4163833a771108c7f3243d9da3a685f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4163833a771108c7f3243d9da3a685f3">identify_ridge_edges</a> ()</td></tr>
<tr class="memdesc:a4163833a771108c7f3243d9da3a685f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Identify ridge edges.  <a href="#a4163833a771108c7f3243d9da3a685f3">More...</a><br /></td></tr>
<tr class="separator:a4163833a771108c7f3243d9da3a685f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad736dd98cc6ca328994641cb3939fc7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c">redistribute_vertices_ridge</a> ()</td></tr>
<tr class="memdesc:ad736dd98cc6ca328994641cb3939fc7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute ridge vertices within their tangent spaces.  <a href="#ad736dd98cc6ca328994641cb3939fc7c">More...</a><br /></td></tr>
<tr class="separator:ad736dd98cc6ca328994641cb3939fc7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff38c32926fd43f2c63d0f359a31f77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77">redistribute_vertices_smooth</a> ()</td></tr>
<tr class="memdesc:aaff38c32926fd43f2c63d0f359a31f77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redistribute smooth vertices within their tangent spaces.  <a href="#aaff38c32926fd43f2c63d0f359a31f77">More...</a><br /></td></tr>
<tr class="separator:aaff38c32926fd43f2c63d0f359a31f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c6e496385e479c044a89f1e545edaa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5">compute_medial_quadric</a> ()</td></tr>
<tr class="memdesc:a4c6e496385e479c044a89f1e545edaa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute medial quadric for every vertex.  <a href="#a4c6e496385e479c044a89f1e545edaa5">More...</a><br /></td></tr>
<tr class="separator:a4c6e496385e479c044a89f1e545edaa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951f6a38a9e200878fabe2fe295d23ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed">eigen_analyze_vertex</a> (<a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; A_io[3], <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;b_io, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; *nrm_nz, double angle_defect)</td></tr>
<tr class="separator:a951f6a38a9e200878fabe2fe295d23ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb274a52abfb27d778d4c6d5c690866"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866">get_redist_safe_factor</a> (COM::Attribute *c_attr, COM::Attribute *w_attr, int <a class="el" href="startest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>)</td></tr>
<tr class="separator:a4fb274a52abfb27d778d4c6d5c690866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825cee2d39eb78bdfcce44848cf42046"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a825cee2d39eb78bdfcce44848cf42046">get_constraint_directions</a> (int type, const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;dir, int &amp;ndirs, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; dirs[2])</td></tr>
<tr class="memdesc:a825cee2d39eb78bdfcce44848cf42046"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get orthonormals of the constraints.  <a href="#a825cee2d39eb78bdfcce44848cf42046">More...</a><br /></td></tr>
<tr class="separator:a825cee2d39eb78bdfcce44848cf42046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77616b2e5e1035b58e2e4438abea5cb7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a77616b2e5e1035b58e2e4438abea5cb7">compute_eigenvectors</a> (<a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[3], <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;lambdas)</td></tr>
<tr class="separator:a77616b2e5e1035b58e2e4438abea5cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e4897280964fdcdd5e18ca4c36233d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a59e4897280964fdcdd5e18ca4c36233d">compute_eigenvectors</a> (<a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[2], <a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; &amp;lambdas)</td></tr>
<tr class="separator:a59e4897280964fdcdd5e18ca4c36233d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e5fea6a907d82647fe6689f599d167"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:ac8e5fea6a907d82647fe6689f599d167"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">solve</a> (const FT &amp;a1, const FT &amp;a2, const FT &amp;b1, const FT &amp;b2, const FT &amp;c1, const FT &amp;c2, FT &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>, FT &amp;<a class="el" href="write_8cpp.html#a956cfc91acf28ecfe53e42127baf8334">y</a>)</td></tr>
<tr class="separator:ac8e5fea6a907d82647fe6689f599d167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72c650f375127c44503682dc72e8d24"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:ac72c650f375127c44503682dc72e8d24"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac72c650f375127c44503682dc72e8d24">solve</a> (const FT &amp;a1, const FT &amp;a2, const FT &amp;a3, const FT &amp;b1, const FT &amp;b2, const FT &amp;b3, const FT &amp;c1, const FT &amp;c2, const FT &amp;c3, const FT &amp;d1, const FT &amp;d2, const FT &amp;d3, FT &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>, FT &amp;<a class="el" href="write_8cpp.html#a956cfc91acf28ecfe53e42127baf8334">y</a>, FT &amp;<a class="el" href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a>)</td></tr>
<tr class="separator:ac72c650f375127c44503682dc72e8d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcdf02c0930e57aae7bb40af4072ebc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a0dcdf02c0930e57aae7bb40af4072ebc">solve</a> (const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[3], const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;q, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>)</td></tr>
<tr class="separator:a0dcdf02c0930e57aae7bb40af4072ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ffc5a8492991d55ba49da94798695a2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a3ffc5a8492991d55ba49da94798695a2">get_constraint_directions</a> (int type, const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;dir, int &amp;ndirs, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; dirs[2])</td></tr>
<tr class="memdesc:a3ffc5a8492991d55ba49da94798695a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get orthonormals of the constraints.  <a href="#a3ffc5a8492991d55ba49da94798695a2">More...</a><br /></td></tr>
<tr class="separator:a3ffc5a8492991d55ba49da94798695a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c734e1ddb94d3a10721a9522325601c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8c734e1ddb94d3a10721a9522325601c">compute_eigenvectors</a> (<a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[3], <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;lambdas)</td></tr>
<tr class="separator:a8c734e1ddb94d3a10721a9522325601c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e4897280964fdcdd5e18ca4c36233d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a59e4897280964fdcdd5e18ca4c36233d">compute_eigenvectors</a> (<a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[2], <a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; &amp;lambdas)</td></tr>
<tr class="separator:a59e4897280964fdcdd5e18ca4c36233d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e5fea6a907d82647fe6689f599d167"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:ac8e5fea6a907d82647fe6689f599d167"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">solve</a> (const FT &amp;a1, const FT &amp;a2, const FT &amp;b1, const FT &amp;b2, const FT &amp;c1, const FT &amp;c2, FT &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>, FT &amp;<a class="el" href="write_8cpp.html#a956cfc91acf28ecfe53e42127baf8334">y</a>)</td></tr>
<tr class="separator:ac8e5fea6a907d82647fe6689f599d167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72c650f375127c44503682dc72e8d24"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:ac72c650f375127c44503682dc72e8d24"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac72c650f375127c44503682dc72e8d24">solve</a> (const FT &amp;a1, const FT &amp;a2, const FT &amp;a3, const FT &amp;b1, const FT &amp;b2, const FT &amp;b3, const FT &amp;c1, const FT &amp;c2, const FT &amp;c3, const FT &amp;d1, const FT &amp;d2, const FT &amp;d3, FT &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>, FT &amp;<a class="el" href="write_8cpp.html#a956cfc91acf28ecfe53e42127baf8334">y</a>, FT &amp;<a class="el" href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a>)</td></tr>
<tr class="separator:ac72c650f375127c44503682dc72e8d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcdf02c0930e57aae7bb40af4072ebc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a0dcdf02c0930e57aae7bb40af4072ebc">solve</a> (const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[3], const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;q, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>)</td></tr>
<tr class="separator:a0dcdf02c0930e57aae7bb40af4072ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ffc5a8492991d55ba49da94798695a2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a3ffc5a8492991d55ba49da94798695a2">get_constraint_directions</a> (int type, const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;dir, int &amp;ndirs, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; dirs[2])</td></tr>
<tr class="memdesc:a3ffc5a8492991d55ba49da94798695a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get orthonormals of the constraints.  <a href="#a3ffc5a8492991d55ba49da94798695a2">More...</a><br /></td></tr>
<tr class="separator:a3ffc5a8492991d55ba49da94798695a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c734e1ddb94d3a10721a9522325601c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a8c734e1ddb94d3a10721a9522325601c">compute_eigenvectors</a> (<a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[3], <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;lambdas)</td></tr>
<tr class="separator:a8c734e1ddb94d3a10721a9522325601c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e4897280964fdcdd5e18ca4c36233d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a59e4897280964fdcdd5e18ca4c36233d">compute_eigenvectors</a> (<a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[2], <a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; &amp;lambdas)</td></tr>
<tr class="separator:a59e4897280964fdcdd5e18ca4c36233d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e5fea6a907d82647fe6689f599d167"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:ac8e5fea6a907d82647fe6689f599d167"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">solve</a> (const FT &amp;a1, const FT &amp;a2, const FT &amp;b1, const FT &amp;b2, const FT &amp;c1, const FT &amp;c2, FT &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>, FT &amp;<a class="el" href="write_8cpp.html#a956cfc91acf28ecfe53e42127baf8334">y</a>)</td></tr>
<tr class="separator:ac8e5fea6a907d82647fe6689f599d167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72c650f375127c44503682dc72e8d24"><td class="memTemplParams" colspan="2">template&lt;class FT &gt; </td></tr>
<tr class="memitem:ac72c650f375127c44503682dc72e8d24"><td class="memTemplItemLeft" align="right" valign="top">static void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classRocmop.html#ac72c650f375127c44503682dc72e8d24">solve</a> (const FT &amp;a1, const FT &amp;a2, const FT &amp;a3, const FT &amp;b1, const FT &amp;b2, const FT &amp;b3, const FT &amp;c1, const FT &amp;c2, const FT &amp;c3, const FT &amp;d1, const FT &amp;d2, const FT &amp;d3, FT &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>, FT &amp;<a class="el" href="write_8cpp.html#a956cfc91acf28ecfe53e42127baf8334">y</a>, FT &amp;<a class="el" href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a>)</td></tr>
<tr class="separator:ac72c650f375127c44503682dc72e8d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcdf02c0930e57aae7bb40af4072ebc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRocmop.html#a0dcdf02c0930e57aae7bb40af4072ebc">solve</a> (const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; <a class="el" href="MP_2Source_2vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a>[3], const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;q, <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;<a class="el" href="write_8cpp.html#ad6599c6a2af56cd8dcc0f36c58a10412">x</a>)</td></tr>
<tr class="separator:a0dcdf02c0930e57aae7bb40af4072ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A Roccom mesh optimization module. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00041">41</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="afccd240f973cf154952fb917c9209719"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valid Smoothing Methods. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"></a>SMOOTH_VOL_MESQ_WG&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"></a>SMOOTH_VOL_MESQ_NG&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"></a>SMOOTH_SURF_MEDIAL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"></a>SMOOTH_NONE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00045">45</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;       { <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a> = 0, <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>, </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;         <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>, <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>};</div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">Rocmop::SMOOTH_SURF_MEDIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">Rocmop::SMOOTH_VOL_MESQ_NG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7cc2e4244ca368f68e5746185eda6c4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"></a>MOP_COOKIE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00445">445</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;{ <a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>=762667};</div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aedcf2109f459315e1a7f2af73ec9b603"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valid Smoothing Methods. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"></a>SMOOTH_VOL_MESQ_WG&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"></a>SMOOTH_VOL_MESQ_NG&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"></a>SMOOTH_SURF_MEDIAL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"></a>SMOOTH_NONE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00046">46</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;       { <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a> = 0, <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>, </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;         <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>, <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>};</div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">Rocmop::SMOOTH_SURF_MEDIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">Rocmop::SMOOTH_VOL_MESQ_NG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a900dca9b26de42491763226e12dcd47b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"></a>MOP_COOKIE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00472">472</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{ <a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>=762667};</div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1be3860693af99a6c1da72580097294c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valid Smoothing Methods. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"></a>SMOOTH_VOL_MESQ_WG&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"></a>SMOOTH_VOL_MESQ_NG&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"></a>SMOOTH_SURF_MEDIAL&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"></a>SMOOTH_NONE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00046">46</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;       { <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a> = 0, <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>, </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;         <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>, <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>};</div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">Rocmop::SMOOTH_SURF_MEDIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">Rocmop::SMOOTH_VOL_MESQ_NG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac9420823bfeba78fce625fc105e3b01d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valid Wrapper Choices. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01"></a>WRAPPER_SHAPE&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac9420823bfeba78fce625fc105e3b01dae507b49ea7a07cf272ec735a03f03cce"></a>WRAPPER_BOEING&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ac9420823bfeba78fce625fc105e3b01dabacc7841b6a88da7084ca57115c0e444"></a>WRAPPER_MAX&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00050">50</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{ <a class="code" href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01">WRAPPER_SHAPE</a> = 0, <a class="code" href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01dae507b49ea7a07cf272ec735a03f03cce">WRAPPER_BOEING</a>, <a class="code" href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01dabacc7841b6a88da7084ca57115c0e444">WRAPPER_MAX</a>};</div>
<div class="ttc" id="classRocmop_html_ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01"><div class="ttname"><a href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01">Rocmop::WRAPPER_SHAPE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8h_source.html#l00050">Rocmop_2.h:50</a></div></div>
<div class="ttc" id="classRocmop_html_ac9420823bfeba78fce625fc105e3b01dabacc7841b6a88da7084ca57115c0e444"><div class="ttname"><a href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01dabacc7841b6a88da7084ca57115c0e444">Rocmop::WRAPPER_MAX</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8h_source.html#l00050">Rocmop_2.h:50</a></div></div>
<div class="ttc" id="classRocmop_html_ac9420823bfeba78fce625fc105e3b01dae507b49ea7a07cf272ec735a03f03cce"><div class="ttname"><a href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01dae507b49ea7a07cf272ec735a03f03cce">Rocmop::WRAPPER_BOEING</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8h_source.html#l00050">Rocmop_2.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa9be5679ab03d785820f2474c5ccc6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"></a>MOP_COOKIE&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00499">499</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;{ <a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>=762667};</div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0e60a6a34154024b5c17092bbb52693c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRocmop.html">Rocmop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default Constructor. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00055">55</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;           : <a class="code" href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">_reorthog</a>(<span class="keyword">true</span>), <a class="code" href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">_wght_scheme</a>(<a class="code" href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">SURF::E2N_ANGLE</a>),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">_eig_thres</a>(1.e-12),<a class="code" href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">_dir_thres</a>(.1), <a class="code" href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">_saliency_crn</a>(.1),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">_rediter</a>(1), <a class="code" href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">_cnstr_types</a>(NULL), <a class="code" href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">_cnstr_dirs</a>(NULL),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>(NULL), <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>(NULL), <a class="code" href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">_is_pmesh</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>(<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>), <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>(0), <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a>(0), <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>(0.0),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">_niter</a>(1), <a class="code" href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">_ctol</a>(.99), <a class="code" href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">_ncycle</a>(1), <a class="code" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a>(0), <a class="code" href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">_cookie</a>(<a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">_invert</a>(0)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {;}</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="classRocmop_html_aac4ba847a0da2e6304c77894c3bd277a"><div class="ttname"><a href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">Rocmop::_ncycle</a></div><div class="ttdeci">int _ncycle</div><div class="ttdoc">Max number of subcycles for convergence. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00479">Rocmop.h:479</a></div></div>
<div class="ttc" id="classRocmop_html_a6bbdc2102dd12d88d22101f52ba8d214"><div class="ttname"><a href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">Rocmop::_wght_scheme</a></div><div class="ttdeci">char _wght_scheme</div><div class="ttdoc">Weighting scheme. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00419">Rocmop.h:419</a></div></div>
<div class="ttc" id="classRocmop_html_af7b1e5ce31f5e001ab4c4253681b5093"><div class="ttname"><a href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">Rocmop::_reorthog</a></div><div class="ttdeci">bool _reorthog</div><div class="ttdoc">Reorthogonalize? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00418">Rocmop.h:418</a></div></div>
<div class="ttc" id="classRocmop_html_a921d90d99e5f31f862c60cc38be37e90"><div class="ttname"><a href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">Rocmop::_eig_thres</a></div><div class="ttdeci">double _eig_thres</div><div class="ttdoc">Eigenvalue thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00420">Rocmop.h:420</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a7cfdea9d17d1d178a64572a734d899c9"><div class="ttname"><a href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">Rocmop::_cookie</a></div><div class="ttdeci">int _cookie</div><div class="ttdoc">For Roccom. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00487">Rocmop.h:487</a></div></div>
<div class="ttc" id="classRocmop_html_a96ba011a343077f4e01e89ab7f15c791"><div class="ttname"><a href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">Rocmop::_niter</a></div><div class="ttdeci">int _niter</div><div class="ttdoc">Maximum number of iterations for smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00469">Rocmop.h:469</a></div></div>
<div class="ttc" id="classRocmop_html_a48f680156b4067b75b0981859d00e2c1"><div class="ttname"><a href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">Rocmop::_rediter</a></div><div class="ttdeci">int _rediter</div><div class="ttdoc">No.iterations for vertex redistribution. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00423">Rocmop.h:423</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
<div class="ttc" id="classRocmop_html_a85aadec6c44aa08f45cbc6bbe221a299"><div class="ttname"><a href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">Rocmop::_saliency_crn</a></div><div class="ttdeci">double _saliency_crn</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00422">Rocmop.h:422</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c73458e9e564ce8f6b82ac18efaaab"><div class="ttname"><a href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">Rocmop::_invert</a></div><div class="ttdeci">int _invert</div><div class="ttdoc">If true (default false), then invert the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00489">Rocmop.h:489</a></div></div>
<div class="ttc" id="classRocmop_html_a6e5843a355181eff1cf2d8ca5b1dca2e"><div class="ttname"><a href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">Rocmop::_monotone</a></div><div class="ttdeci">int _monotone</div><div class="ttdoc">Impose non-decreasing quality? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00481">Rocmop.h:481</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a8b94b90d311b68f3cc157edb92c34c2d"><div class="ttname"><a href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">Rocmop::_is_pmesh</a></div><div class="ttdeci">bool _is_pmesh</div><div class="ttdoc">pmesh or mesh ? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00441">Rocmop.h:441</a></div></div>
<div class="ttc" id="classRocmop_html_a636256f97cbf038ca33ff7c0a64754f1"><div class="ttname"><a href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">Rocmop::_dir_thres</a></div><div class="ttdeci">double _dir_thres</div><div class="ttdoc">Another threshold. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00421">Rocmop.h:421</a></div></div>
<div class="ttc" id="mapbasic_8h_html_adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64"><div class="ttname"><a href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">E2N_ANGLE</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00325">mapbasic.h:325</a></div></div>
<div class="ttc" id="classRocmop_html_a5dcb6239b84f76205a02035a45e990db"><div class="ttname"><a href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">Rocmop::_ctol</a></div><div class="ttdeci">float _ctol</div><div class="ttdoc">Subcycling tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00471">Rocmop.h:471</a></div></div>
<div class="ttc" id="classRocmop_html_a441e6454097c3b02e1cc9553160d4b90"><div class="ttname"><a href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">Rocmop::_cnstr_dirs</a></div><div class="ttdeci">COM::Attribute * _cnstr_dirs</div><div class="ttdoc">Stores directions of nodal contraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00425">Rocmop.h:425</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="classRocmop_html_a02ae344acfa80639459b14a4435b9ded"><div class="ttname"><a href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">Rocmop::_cnstr_types</a></div><div class="ttdeci">const COM::Attribute * _cnstr_types</div><div class="ttdoc">Stores types of nodal constraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00424">Rocmop.h:424</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab86435759ac7d3cfc0226c75970d0393"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classRocmop.html">Rocmop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00076">76</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                { </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::~Rocmop\n&quot;</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>; <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a> = NULL;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::~Rocmop\n&quot;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0e60a6a34154024b5c17092bbb52693c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRocmop.html">Rocmop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default Constructor. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00056">56</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;           : <a class="code" href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">_reorthog</a>(<span class="keyword">true</span>), <a class="code" href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">_wght_scheme</a>(<a class="code" href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">SURF::E2N_ANGLE</a>),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;             <a class="code" href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">_eig_thres</a>(1.e-12),<a class="code" href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">_dir_thres</a>(.1), <a class="code" href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">_saliency_crn</a>(.1),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;             <a class="code" href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">_rediter</a>(1), <a class="code" href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">_cnstr_types</a>(NULL), <a class="code" href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">_cnstr_dirs</a>(NULL),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;             <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>(NULL), <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>(NULL), <a class="code" href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">_is_pmesh</a>(<span class="keyword">false</span>), </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;             <a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>(<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>), <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>(0), <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a>(0), <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>(165.0),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;             <a class="code" href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">_niter</a>(1), <a class="code" href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">_ctol</a>(.99), <a class="code" href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">_ncycle</a>(1), </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;             <a class="code" href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">_cookie</a>(<a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>),<a class="code" href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">_invert</a>(0), <a class="code" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a>(0.0), <a class="code" href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">_smoothfreq</a>(1),</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;             <a class="code" href="classRocmop.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a>(-9999), <a class="code" href="classRocmop.html#a1e83fe394d0394e50fec105cf1e465a3">disp_tally</a>(0.0), <a class="code" href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">_disp_thresh</a>(0.0)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  {;}</div>
<div class="ttc" id="classRocmop_html_a31a640fdb5eaa778ab738ebcae03624b"><div class="ttname"><a href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">Rocmop::_smoothfreq</a></div><div class="ttdeci">int _smoothfreq</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00514">Rocmop_1.h:514</a></div></div>
<div class="ttc" id="classRocmop_html_a1c0338024da3f5698c89c96991759343"><div class="ttname"><a href="classRocmop.html#a1c0338024da3f5698c89c96991759343">Rocmop::_maxdisp</a></div><div class="ttdeci">float _maxdisp</div><div class="ttdoc">Maximum displacement allowed. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00512">Rocmop_1.h:512</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="classRocmop_html_aac4ba847a0da2e6304c77894c3bd277a"><div class="ttname"><a href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">Rocmop::_ncycle</a></div><div class="ttdeci">int _ncycle</div><div class="ttdoc">Max number of subcycles for convergence. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00479">Rocmop.h:479</a></div></div>
<div class="ttc" id="classRocmop_html_a6bbdc2102dd12d88d22101f52ba8d214"><div class="ttname"><a href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">Rocmop::_wght_scheme</a></div><div class="ttdeci">char _wght_scheme</div><div class="ttdoc">Weighting scheme. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00419">Rocmop.h:419</a></div></div>
<div class="ttc" id="classRocmop_html_af7b1e5ce31f5e001ab4c4253681b5093"><div class="ttname"><a href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">Rocmop::_reorthog</a></div><div class="ttdeci">bool _reorthog</div><div class="ttdoc">Reorthogonalize? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00418">Rocmop.h:418</a></div></div>
<div class="ttc" id="classRocmop_html_a921d90d99e5f31f862c60cc38be37e90"><div class="ttname"><a href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">Rocmop::_eig_thres</a></div><div class="ttdeci">double _eig_thres</div><div class="ttdoc">Eigenvalue thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00420">Rocmop.h:420</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_a7cfdea9d17d1d178a64572a734d899c9"><div class="ttname"><a href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">Rocmop::_cookie</a></div><div class="ttdeci">int _cookie</div><div class="ttdoc">For Roccom. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00487">Rocmop.h:487</a></div></div>
<div class="ttc" id="classRocmop_html_a96ba011a343077f4e01e89ab7f15c791"><div class="ttname"><a href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">Rocmop::_niter</a></div><div class="ttdeci">int _niter</div><div class="ttdoc">Maximum number of iterations for smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00469">Rocmop.h:469</a></div></div>
<div class="ttc" id="classRocmop_html_a48f680156b4067b75b0981859d00e2c1"><div class="ttname"><a href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">Rocmop::_rediter</a></div><div class="ttdeci">int _rediter</div><div class="ttdoc">No.iterations for vertex redistribution. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00423">Rocmop.h:423</a></div></div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
<div class="ttc" id="classRocmop_html_a85aadec6c44aa08f45cbc6bbe221a299"><div class="ttname"><a href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">Rocmop::_saliency_crn</a></div><div class="ttdeci">double _saliency_crn</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00422">Rocmop.h:422</a></div></div>
<div class="ttc" id="classRocmop_html_a4cd212ed9ad7f1dbf30678f91437f680"><div class="ttname"><a href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">Rocmop::_disp_thresh</a></div><div class="ttdeci">float _disp_thresh</div><div class="ttdoc">originally a static in check_displacements </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00520">Rocmop_1.h:520</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c73458e9e564ce8f6b82ac18efaaab"><div class="ttname"><a href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">Rocmop::_invert</a></div><div class="ttdeci">int _invert</div><div class="ttdoc">If true (default false), then invert the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00489">Rocmop.h:489</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a8b94b90d311b68f3cc157edb92c34c2d"><div class="ttname"><a href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">Rocmop::_is_pmesh</a></div><div class="ttdeci">bool _is_pmesh</div><div class="ttdoc">pmesh or mesh ? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00441">Rocmop.h:441</a></div></div>
<div class="ttc" id="classRocmop_html_a636256f97cbf038ca33ff7c0a64754f1"><div class="ttname"><a href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">Rocmop::_dir_thres</a></div><div class="ttdeci">double _dir_thres</div><div class="ttdoc">Another threshold. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00421">Rocmop.h:421</a></div></div>
<div class="ttc" id="classRocmop_html_a1e83fe394d0394e50fec105cf1e465a3"><div class="ttname"><a href="classRocmop.html#a1e83fe394d0394e50fec105cf1e465a3">Rocmop::disp_tally</a></div><div class="ttdeci">double disp_tally</div><div class="ttdoc">originally a static in smooth() </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00518">Rocmop_1.h:518</a></div></div>
<div class="ttc" id="mapbasic_8h_html_adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64"><div class="ttname"><a href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">E2N_ANGLE</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00325">mapbasic.h:325</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_a5dcb6239b84f76205a02035a45e990db"><div class="ttname"><a href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">Rocmop::_ctol</a></div><div class="ttdeci">float _ctol</div><div class="ttdoc">Subcycling tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00471">Rocmop.h:471</a></div></div>
<div class="ttc" id="classRocmop_html_a441e6454097c3b02e1cc9553160d4b90"><div class="ttname"><a href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">Rocmop::_cnstr_dirs</a></div><div class="ttdeci">COM::Attribute * _cnstr_dirs</div><div class="ttdoc">Stores directions of nodal contraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00425">Rocmop.h:425</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="classRocmop_html_a02ae344acfa80639459b14a4435b9ded"><div class="ttname"><a href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">Rocmop::_cnstr_types</a></div><div class="ttdeci">const COM::Attribute * _cnstr_types</div><div class="ttdoc">Stores types of nodal constraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00424">Rocmop.h:424</a></div></div>
<div class="ttc" id="classRocmop_html_a7722c8ecbb62d99aee7ce68b1752f337"><div class="ttname"><a href="classRocmop.html#a7722c8ecbb62d99aee7ce68b1752f337">Rocmop::N</a></div><div class="ttdeci">int N</div><div class="ttdoc">Smooth every _smoothfreq&#39;th call. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00516">Rocmop_1.h:516</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5a98f93cd7a7d629993e68eaa0f39b8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classRocmop.html">Rocmop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<a class="anchor" id="a0e60a6a34154024b5c17092bbb52693c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRocmop.html">Rocmop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default Constructor. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00059">59</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;           : <a class="code" href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">_reorthog</a>(<span class="keyword">true</span>), <a class="code" href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">_wght_scheme</a>(<a class="code" href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">SURF::E2N_ANGLE</a>),</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">_eig_thres</a>(1.e-12),<a class="code" href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">_dir_thres</a>(.1), <a class="code" href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">_saliency_crn</a>(.1),</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">_rediter</a>(1), <a class="code" href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">_cnstr_types</a>(NULL), <a class="code" href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">_cnstr_dirs</a>(NULL),</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>(NULL), <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>(NULL), <a class="code" href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">_is_pmesh</a>(<span class="keyword">false</span>), </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>(<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>),<a class="code" href="classRocmop.html#a13781481a1791cf8f47e669be5cbd4c9">_wrapper</a>(<a class="code" href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01">WRAPPER_SHAPE</a>), <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>(0), <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a>(0), <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>(165.0),</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">_niter</a>(1), <a class="code" href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">_ctol</a>(.99), <a class="code" href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">_ncycle</a>(1), </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">_cookie</a>(<a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>),<a class="code" href="classRocmop.html#ac71e7a695e2e7b8538ac59569b76a574">_invert_tets</a>(0), <a class="code" href="classRocmop.html#ac435b24b552e58d77077b7fa7bcf6190">_invert_hexes</a>(0),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a>(0.0), <a class="code" href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">_smoothfreq</a>(1),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">_disp_thresh</a>(0.0)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  {;}</div>
<div class="ttc" id="classRocmop_html_a31a640fdb5eaa778ab738ebcae03624b"><div class="ttname"><a href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">Rocmop::_smoothfreq</a></div><div class="ttdeci">int _smoothfreq</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00514">Rocmop_1.h:514</a></div></div>
<div class="ttc" id="classRocmop_html_ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01"><div class="ttname"><a href="classRocmop.html#ac9420823bfeba78fce625fc105e3b01da25062afc49dfed8c186aa4696973ef01">Rocmop::WRAPPER_SHAPE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8h_source.html#l00050">Rocmop_2.h:50</a></div></div>
<div class="ttc" id="classRocmop_html_a1c0338024da3f5698c89c96991759343"><div class="ttname"><a href="classRocmop.html#a1c0338024da3f5698c89c96991759343">Rocmop::_maxdisp</a></div><div class="ttdeci">float _maxdisp</div><div class="ttdoc">Maximum displacement allowed. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00512">Rocmop_1.h:512</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="classRocmop_html_aac4ba847a0da2e6304c77894c3bd277a"><div class="ttname"><a href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">Rocmop::_ncycle</a></div><div class="ttdeci">int _ncycle</div><div class="ttdoc">Max number of subcycles for convergence. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00479">Rocmop.h:479</a></div></div>
<div class="ttc" id="classRocmop_html_a6bbdc2102dd12d88d22101f52ba8d214"><div class="ttname"><a href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">Rocmop::_wght_scheme</a></div><div class="ttdeci">char _wght_scheme</div><div class="ttdoc">Weighting scheme. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00419">Rocmop.h:419</a></div></div>
<div class="ttc" id="classRocmop_html_af7b1e5ce31f5e001ab4c4253681b5093"><div class="ttname"><a href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">Rocmop::_reorthog</a></div><div class="ttdeci">bool _reorthog</div><div class="ttdoc">Reorthogonalize? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00418">Rocmop.h:418</a></div></div>
<div class="ttc" id="classRocmop_html_a921d90d99e5f31f862c60cc38be37e90"><div class="ttname"><a href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">Rocmop::_eig_thres</a></div><div class="ttdeci">double _eig_thres</div><div class="ttdoc">Eigenvalue thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00420">Rocmop.h:420</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_a13781481a1791cf8f47e669be5cbd4c9"><div class="ttname"><a href="classRocmop.html#a13781481a1791cf8f47e669be5cbd4c9">Rocmop::_wrapper</a></div><div class="ttdeci">int _wrapper</div><div class="ttdoc">Choice of Mesquite Smoothing Wrappers. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8h_source.html#l00507">Rocmop_2.h:507</a></div></div>
<div class="ttc" id="classRocmop_html_a7cfdea9d17d1d178a64572a734d899c9"><div class="ttname"><a href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">Rocmop::_cookie</a></div><div class="ttdeci">int _cookie</div><div class="ttdoc">For Roccom. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00487">Rocmop.h:487</a></div></div>
<div class="ttc" id="classRocmop_html_a96ba011a343077f4e01e89ab7f15c791"><div class="ttname"><a href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">Rocmop::_niter</a></div><div class="ttdeci">int _niter</div><div class="ttdoc">Maximum number of iterations for smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00469">Rocmop.h:469</a></div></div>
<div class="ttc" id="classRocmop_html_a48f680156b4067b75b0981859d00e2c1"><div class="ttname"><a href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">Rocmop::_rediter</a></div><div class="ttdeci">int _rediter</div><div class="ttdoc">No.iterations for vertex redistribution. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00423">Rocmop.h:423</a></div></div>
<div class="ttc" id="classRocmop_html_ac71e7a695e2e7b8538ac59569b76a574"><div class="ttname"><a href="classRocmop.html#ac71e7a695e2e7b8538ac59569b76a574">Rocmop::_invert_tets</a></div><div class="ttdeci">int _invert_tets</div><div class="ttdoc">If true (default false), then invert tets. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8h_source.html#l00541">Rocmop_2.h:541</a></div></div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
<div class="ttc" id="classRocmop_html_a85aadec6c44aa08f45cbc6bbe221a299"><div class="ttname"><a href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">Rocmop::_saliency_crn</a></div><div class="ttdeci">double _saliency_crn</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00422">Rocmop.h:422</a></div></div>
<div class="ttc" id="classRocmop_html_a4cd212ed9ad7f1dbf30678f91437f680"><div class="ttname"><a href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">Rocmop::_disp_thresh</a></div><div class="ttdeci">float _disp_thresh</div><div class="ttdoc">originally a static in check_displacements </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00520">Rocmop_1.h:520</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a8b94b90d311b68f3cc157edb92c34c2d"><div class="ttname"><a href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">Rocmop::_is_pmesh</a></div><div class="ttdeci">bool _is_pmesh</div><div class="ttdoc">pmesh or mesh ? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00441">Rocmop.h:441</a></div></div>
<div class="ttc" id="classRocmop_html_a636256f97cbf038ca33ff7c0a64754f1"><div class="ttname"><a href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">Rocmop::_dir_thres</a></div><div class="ttdeci">double _dir_thres</div><div class="ttdoc">Another threshold. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00421">Rocmop.h:421</a></div></div>
<div class="ttc" id="mapbasic_8h_html_adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64"><div class="ttname"><a href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">E2N_ANGLE</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00325">mapbasic.h:325</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_a5dcb6239b84f76205a02035a45e990db"><div class="ttname"><a href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">Rocmop::_ctol</a></div><div class="ttdeci">float _ctol</div><div class="ttdoc">Subcycling tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00471">Rocmop.h:471</a></div></div>
<div class="ttc" id="classRocmop_html_a441e6454097c3b02e1cc9553160d4b90"><div class="ttname"><a href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">Rocmop::_cnstr_dirs</a></div><div class="ttdeci">COM::Attribute * _cnstr_dirs</div><div class="ttdoc">Stores directions of nodal contraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00425">Rocmop.h:425</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="classRocmop_html_a02ae344acfa80639459b14a4435b9ded"><div class="ttname"><a href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">Rocmop::_cnstr_types</a></div><div class="ttdeci">const COM::Attribute * _cnstr_types</div><div class="ttdoc">Stores types of nodal constraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00424">Rocmop.h:424</a></div></div>
<div class="ttc" id="classRocmop_html_ac435b24b552e58d77077b7fa7bcf6190"><div class="ttname"><a href="classRocmop.html#ac435b24b552e58d77077b7fa7bcf6190">Rocmop::_invert_hexes</a></div><div class="ttdeci">int _invert_hexes</div><div class="ttdoc">If true (default false), then invert hexes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8h_source.html#l00543">Rocmop_2.h:543</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5a98f93cd7a7d629993e68eaa0f39b8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classRocmop.html">Rocmop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac32e390ae4937ffc3928b111a7842592"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_aspect_ratios </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>usr_att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>buf_att</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l00454">454</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="roccom__basic_8h_source.html#l00131">COM_DOUBLE</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="op2args_8C_source.html#l00333">Rocblas::copy()</a>, <a class="el" href="Geometric__Metrics__3_8h_source.html#l00130">Aspect_Metric_3::getAspects()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, and <a class="el" href="Rocmap_8C_source.html#l00087">Rocmap::update_ghosts()</a>.</p>
<div class="fragment"><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                                                     {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  COM::Window* usr_window = usr_att-&gt;window();</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  COM::Window* buf_window = NULL;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordtype">bool</span> del_buffer = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span>(!buf_att){      </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    del_buffer = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">// Create a buffer window by cloning from the user window</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    std::string buf_name(usr_window-&gt;name()+<span class="stringliteral">&quot;-Rocmop_add_aspect&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    buf_window = <span class="keyword">new</span> COM::Window(buf_name, </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                 usr_window-&gt;get_communicator());</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    buf_window-&gt;inherit( usr_att, <span class="stringliteral">&quot;&quot;</span>, </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                         COM::Pane::INHERIT_CLONE, <span class="keyword">true</span>, NULL,0);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    buf_window-&gt;init_done();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  }           </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    buf_window = <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  buf_window-&gt;panes(allpanes);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="comment">// Create and resize window level buffer attributes</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  COM::Attribute * w_buff_R =</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  R (circumradius)&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  COM::Attribute * w_buff_r =</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  r (inradius)&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  COM::Attribute * w_buff_l =</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  l (shortest edge)&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  COM::Attribute * w_buff_rR =</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  3r/R&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  COM::Attribute * w_buff_Rr =</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  R/r&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  COM::Attribute * w_buff_Rl =</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  R/l&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  COM::Attribute * w_buff_min =</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  min dih&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  COM::Attribute * w_buff_max =</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    buf_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  max dih&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  buf_window-&gt;resize_array(w_buff_R,0);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  buf_window-&gt;resize_array(w_buff_r,0);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  buf_window-&gt;resize_array(w_buff_l,0);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  buf_window-&gt;resize_array(w_buff_rR,0);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  buf_window-&gt;resize_array(w_buff_Rr,0);</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  buf_window-&gt;resize_array(w_buff_Rl,0);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  buf_window-&gt;resize_array(w_buff_min,0);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  buf_window-&gt;resize_array(w_buff_max,0);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  buf_window-&gt;init_done();</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="comment">// Obtain buffer attribute ids</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordtype">int</span> R_id   = w_buff_R-&gt;id();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordtype">int</span> r_id   = w_buff_r-&gt;id();</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordtype">int</span> l_id   = w_buff_l-&gt;id();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordtype">int</span> rR_id  = w_buff_rR-&gt;id();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordtype">int</span> Rr_id  = w_buff_Rr-&gt;id();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordtype">int</span> Rl_id  = w_buff_Rl-&gt;id();</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordtype">int</span> min_id = w_buff_min-&gt;id();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">int</span> max_id = w_buff_max-&gt;id();</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <span class="comment">// Create and resize window level user attributes</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  COM::Attribute * w_usr_R =</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  R&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  COM::Attribute * w_usr_r =</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  r&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  COM::Attribute * w_usr_l =</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  l&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  COM::Attribute * w_usr_rR =</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  3r/R&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  COM::Attribute * w_usr_Rr =</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  R/r&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  COM::Attribute * w_usr_Rl =</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  R/l&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  COM::Attribute * w_usr_min =</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  min dih&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  COM::Attribute * w_usr_max =</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    usr_window-&gt;new_attribute(<span class="stringliteral">&quot;Aspect Ratio:  max dih&quot;</span>,<span class="charliteral">&#39;e&#39;</span>,<a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>,1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  usr_window-&gt;resize_array(w_usr_R,0);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  usr_window-&gt;resize_array(w_usr_r,0);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  usr_window-&gt;resize_array(w_usr_l,0);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  usr_window-&gt;resize_array(w_usr_rR,0);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  usr_window-&gt;resize_array(w_usr_Rr,0);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  usr_window-&gt;resize_array(w_usr_Rl,0);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  usr_window-&gt;resize_array(w_usr_min,0);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  usr_window-&gt;resize_array(w_usr_max,0);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  usr_window-&gt;init_done();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">double</span> R,r,l;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0,0.0};</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>=(<span class="keywordtype">int</span>)allpanes.size();<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>;++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">// get Pane level buffer attributes</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordtype">double</span> *R_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(R_id)-&gt;pointer());    </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordtype">double</span> *r_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(r_id)-&gt;pointer());    </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordtype">double</span> *l_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(l_id)-&gt;pointer());    </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordtype">double</span> *rR_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(rR_id)-&gt;pointer());    </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordtype">double</span> *Rr_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(Rr_id)-&gt;pointer());    </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordtype">double</span> *Rl_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(Rl_id)-&gt;pointer());    </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">double</span> *min_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(min_id)-&gt;pointer());    </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordtype">double</span> *max_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span> *<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(max_id)-&gt;pointer());    </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0,<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_elements();<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>;++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+1);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <a class="code" href="classAspect__Metric__3.html">Aspect_Metric_3</a> aspect_met;       </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      aspect_met.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      aspect_met.<a class="code" href="classAspect__Metric__3.html#a9ae21718fd1b56efd4b3a617d2969fe0">getAspects</a>(R,r,l);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> angle_met;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      angle_met.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      angle_met.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;     </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      R_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = R;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      r_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = r;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      l_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = l;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(R != 0.0,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        <span class="stringliteral">&quot;Cannot calculate aspect ratios with zero magnitude circumradius&quot;</span>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      rR_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = (3.0*r)/R;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(r != 0.0,</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        <span class="stringliteral">&quot;Cannot calculate aspect ratios with zero magnitude circumradius&quot;</span>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      Rr_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = R/r;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(l != 0.0,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                        <span class="stringliteral">&quot;Cannot calculate aspect ratios with zero magnitude circumradius&quot;</span>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      Rl_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = R/l;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      min_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = angles[0];</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      max_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = angles[1];</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_R);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_r);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_l);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_rR);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_Rr);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_Rl);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_min);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_buff_max);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_R,w_usr_R);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_r,w_usr_r);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_l,w_usr_l);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_rR,w_usr_rR);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_Rr,w_usr_Rr);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_Rl,w_usr_Rl);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_min,w_usr_min);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(w_buff_max,w_usr_max);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">if</span>(del_buffer)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keyword">delete</span> buf_window;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="ttc" id="classAspect__Metric__3_html"><div class="ttname"><a href="classAspect__Metric__3.html">Aspect_Metric_3</a></div><div class="ttdoc">3D Aspect Ratios Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00107">Geometric_Metrics_3.h:107</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmap_html_a748dccffbd1a40c058a05982d3bf04b8"><div class="ttname"><a href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a></div><div class="ttdeci">static void update_ghosts(COM::Attribute *att, const COM::Attribute *pconn=NULL)</div><div class="ttdoc">Update ghost nodal or elemental values for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00087">Rocmap.C:87</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="classAspect__Metric__3_html_a9ae21718fd1b56efd4b3a617d2969fe0"><div class="ttname"><a href="classAspect__Metric__3.html#a9ae21718fd1b56efd4b3a617d2969fe0">Aspect_Metric_3::getAspects</a></div><div class="ttdeci">void getAspects(double &amp;R, double &amp;r, double &amp;l)</div><div class="ttdoc">Get the geometric aspects. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00130">Geometric_Metrics_3.h:130</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="classRocblas_html_a29fe903b10fe8cd0f0bc37c01b63b83f"><div class="ttname"><a href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a></div><div class="ttdeci">static void copy(const Attribute *x, Attribute *y)</div><div class="ttdoc">Wrapper for copy. </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00333">op2args.C:333</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00131">roccom_basic.h:131</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ac32e390ae4937ffc3928b111a7842592_cgraph.png" border="0" usemap="#classRocmop_ac32e390ae4937ffc3928b111a7842592_cgraph" alt=""/></div>
<map name="classRocmop_ac32e390ae4937ffc3928b111a7842592_cgraph" id="classRocmop_ac32e390ae4937ffc3928b111a7842592_cgraph">
<area shape="rect" id="node3" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="193,167,364,196"/><area shape="rect" id="node5" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f" title="Wrapper for copy. " alt="" coords="225,220,332,249"/><area shape="rect" id="node31" href="classAspect__Metric__3.html#a9ae21718fd1b56efd4b3a617d2969fe0" title="Get the geometric aspects. " alt="" coords="181,316,376,345"/><area shape="rect" id="node54" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="205,369,352,415"/><area shape="rect" id="node56" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8" title="Update ghost nodal or elemental values for the given attribute. " alt="" coords="197,599,360,628"/><area shape="rect" id="node7" href="classWindow.html#a4d18e272967ed99a266283d1c173a26a" title="Obtain all the attributes of the pane. " alt="" coords="443,36,573,65"/><area shape="rect" id="node15" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="440,89,576,119"/><area shape="rect" id="node17" href="classAttribute.html#a59792315103c4358049673a86e8579fb" title="Obtain the full name of the attribute including window name suitable for printing out error messages..." alt="" coords="444,193,572,223"/><area shape="rect" id="node19" href="classWindow.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the window&#39;s name. " alt="" coords="668,139,777,168"/><area shape="rect" id="node23" href="classAttribute.html#ae879462c456db18c8c3b111bcd2d1a01" title="Obtain a constant pointer to the parent window of the attribute. " alt="" coords="661,245,784,275"/><area shape="rect" id="node27" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="464,297,552,327"/><area shape="rect" id="node9" href="classPane.html#a4d18e272967ed99a266283d1c173a26a" title="Obtain all the attributes of the pane. " alt="" coords="665,36,780,65"/><area shape="rect" id="node11" href="classAttribute.html#afaa016f7aa87969def6903a4a7e8490f" title="Obtain a constant pointer to the owner pane of the attribute. " alt="" coords="875,5,981,35"/><area shape="rect" id="node13" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="868,58,988,105"/><area shape="rect" id="node21" href="classAttribute.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the name of the attribute. " alt="" coords="668,192,777,221"/><area shape="rect" id="node25" href="classPane.html#a05d1abca9cbb0ec7bdc59f58dd81797c" title="Obtain a constant pointer to its owner window object. " alt="" coords="876,245,980,275"/><area shape="rect" id="node33" href="classGeo__Metric__Base__3.html#a18bc1c0de0237a4367c3fed594a6ffd9" title="Compute circumradius, inradius, and shortest edge length. " alt="" coords="435,350,581,397"/><area shape="rect" id="node35" href="geometry_8h.html#a957066e3826ec7e30a4ec5df60a7cf0a" title="Compute the edge length of a vector. " alt="" coords="677,299,768,328"/><area shape="rect" id="node37" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="1052,455,1095,484"/><area shape="rect" id="node40" href="geometry_8h.html#af59662a6b46c35024e16e40c0f3bdbf4" title="Compute the volume of a tetrahedron given three edges from a point as vectors. " alt="" coords="692,428,753,457"/><area shape="rect" id="node48" href="geometry_8h.html#aa018e9f54fcc4a6edd94244baf18dda0" title="Compute the area of a triangle defined by its three sides as vectors. " alt="" coords="691,560,755,589"/><area shape="rect" id="node42" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771" title="NTS::abs" alt="" coords="889,401,967,431"/><area shape="rect" id="node44" href="geometry_8h.html#a0d90b497cf779e3fb734e026e3722419" title="Compute the cross Product of two vectors. " alt="" coords="897,455,959,484"/><area shape="rect" id="node46" href="geometry_8h.html#a3f884839e02fce28dc24f56b4f121900" title="Compute the dot Product of two vectors. " alt="" coords="904,508,952,537"/><area shape="rect" id="node50" href="geometry_8C.html#a957066e3826ec7e30a4ec5df60a7cf0a" title="Compute the edge length of a vector. " alt="" coords="883,612,973,641"/><area shape="rect" id="node58" href="classPane__communicator.html#af84e5306d7677a0665fa35099278e534" title="Initialize the communication buffers. " alt="" coords="425,692,591,721"/><area shape="rect" id="node60" href="roccom__c_09_09_8h.html#ad0963775a018dcb83d982e5cfeeb3a22" title="COM_get_sizeof" alt="" coords="663,665,783,695"/><area shape="rect" id="node64" href="classPane__communicator.html#a0db778b55c3fc482ecf132594bd6b123" title="Initialize a Pane_comm_buffers for ghost information. " alt="" coords="641,769,804,815"/><area shape="rect" id="node66" href="classPane__communicator.html#a4327966d16b9b3012f1bb61ddc0673d3" title="For a given pane, obtain an internal pane ID which is unique and contiguous across processes..." alt="" coords="853,718,1003,765"/><area shape="rect" id="node62" href="commpi_8C.html#aa00c2248b16333919baea12e6935aac9" title="Get the size of a given MPI data type. " alt="" coords="887,665,969,695"/><area shape="rect" id="node68" href="classPane__communicator.html#ae7eeea984bcf7fa59efa96d05a81a901" title="Obtain the process rank of a given pane. " alt="" coords="853,787,1003,834"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac32e390ae4937ffc3928b111a7842592"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_aspect_ratios </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>usr_att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>buf_att</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7bd1e3242f121ad96172ad719ecce08c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agree_double </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Op&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Agree on a double value across all panes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The local value. </td></tr>
    <tr><td class="paramname">op</td><td>The type of reduction to perform. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00239">239</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00438">_usr_window</a>, and <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                           {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordtype">double</span> temp = val;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      MPI_Allreduce(&amp;val, &amp;temp, 1, MPI_DOUBLE, op, </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      val = temp;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph.png" border="0" usemap="#classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph" alt=""/></div>
<map name="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph" id="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="152,5,291,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7bd1e3242f121ad96172ad719ecce08c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agree_double </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Op&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Agree on a double value across all panes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The local value. </td></tr>
    <tr><td class="paramname">op</td><td>The type of reduction to perform. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00240">240</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00438">_usr_window</a>, and <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                           {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordtype">double</span> temp = val;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      MPI_Allreduce(&amp;val, &amp;temp, 1, MPI_DOUBLE, op, </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      val = temp;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph.png" border="0" usemap="#classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph" alt=""/></div>
<map name="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph" id="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="152,5,291,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7bd1e3242f121ad96172ad719ecce08c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agree_double </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Op&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Agree on a double value across all panes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The local value. </td></tr>
    <tr><td class="paramname">op</td><td>The type of reduction to perform. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00261">261</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00438">_usr_window</a>, and <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                           {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      <span class="keywordtype">double</span> temp = val;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      MPI_Allreduce(&amp;val, &amp;temp, 1, MPI_DOUBLE, op, </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      val = temp;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph.png" border="0" usemap="#classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph" alt=""/></div>
<map name="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph" id="classRocmop_a7bd1e3242f121ad96172ad719ecce08c_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="152,5,291,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff58f80a52e7dd9a4610db0a68713899"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agree_int </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Op&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Agree on an integer value across all panes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The local value. </td></tr>
    <tr><td class="paramname">op</td><td>The type of reduction to perform. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00225">225</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00438">_usr_window</a>, and <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                     {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordtype">int</span> temp = val;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      MPI_Allreduce(&amp;val, &amp;temp, 1, MPI_INT, op, </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      val = temp;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph.png" border="0" usemap="#classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph" alt=""/></div>
<map name="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph" id="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="128,5,267,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff58f80a52e7dd9a4610db0a68713899"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agree_int </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Op&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Agree on an integer value across all panes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The local value. </td></tr>
    <tr><td class="paramname">op</td><td>The type of reduction to perform. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00226">226</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00438">_usr_window</a>, and <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                     {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordtype">int</span> temp = val;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      MPI_Allreduce(&amp;val, &amp;temp, 1, MPI_INT, op, </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      val = temp;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph.png" border="0" usemap="#classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph" alt=""/></div>
<map name="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph" id="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="128,5,267,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff58f80a52e7dd9a4610db0a68713899"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agree_int </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Op&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Agree on an integer value across all panes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The local value. </td></tr>
    <tr><td class="paramname">op</td><td>The type of reduction to perform. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00247">247</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00438">_usr_window</a>, and <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                     {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordtype">int</span> temp = val;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      MPI_Allreduce(&amp;val, &amp;temp, 1, MPI_INT, op, </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      val = temp;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph.png" border="0" usemap="#classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph" alt=""/></div>
<map name="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph" id="classRocmop_aff58f80a52e7dd9a4610db0a68713899_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="128,5,267,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab8a56d10bd215a994da860edae29be78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_all_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; const COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ghost</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of all real elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00785">785</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                                       {</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::check_all_elem_quality&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <span class="keywordtype">int</span> ierr = MPI_Comm_rank( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator(),</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                            &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); assert( ierr == 0);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="keywordtype">double</span> worst_angle = 0.0;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements();</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span>(with_ghosts)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      nk = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_elements();</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">if</span>(angles[1]&gt;worst_angle)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        worst_angle = angles[1];</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  }</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">return</span> worst_angle;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::check_all_elem_quality&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ab8a56d10bd215a994da860edae29be78_cgraph.png" border="0" usemap="#classRocmop_ab8a56d10bd215a994da860edae29be78_cgraph" alt=""/></div>
<map name="classRocmop_ab8a56d10bd215a994da860edae29be78_cgraph" id="classRocmop_ab8a56d10bd215a994da860edae29be78_cgraph">
<area shape="rect" id="node3" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="211,5,381,35"/><area shape="rect" id="node5" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="223,58,369,105"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab8a56d10bd215a994da860edae29be78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_all_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; const COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ghost</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of all real elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1f8ab744e9377ac9776796b4c3f98091"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_all_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ghosts</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of all real elements marked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00814">814</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                                                       {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::check_all_elem_quality&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordtype">int</span> ierr = MPI_Comm_rank( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator(),</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                            &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); assert( ierr == 0);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordtype">double</span> worst_angle = 0.0;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span>(with_ghosts){</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      nk = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_elements();</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;      <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;      am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;      am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      <span class="keywordflow">if</span>(angles[1]&gt;worst_angle)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        worst_angle = angles[1];</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">return</span> worst_angle;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::check_all_elem_quality&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a1f8ab744e9377ac9776796b4c3f98091_cgraph.png" border="0" usemap="#classRocmop_a1f8ab744e9377ac9776796b4c3f98091_cgraph" alt=""/></div>
<map name="classRocmop_a1f8ab744e9377ac9776796b4c3f98091_cgraph" id="classRocmop_a1f8ab744e9377ac9776796b4c3f98091_cgraph">
<area shape="rect" id="node3" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="211,5,381,35"/><area shape="rect" id="node5" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="223,58,369,105"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f8ab744e9377ac9776796b4c3f98091"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_all_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ghosts</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of all real elements marked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab8a56d10bd215a994da860edae29be78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_all_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; const COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ghost</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of all real elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1f8ab744e9377ac9776796b4c3f98091"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_all_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>with_ghosts</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of all real elements marked. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="adf2947c5f78ec2dadcea64e25ab079f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool check_displacements </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l00357">357</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="mapbasic_8h_source.html#l00112">Vector_3&lt; Type &gt;::norm()</a>, and <a class="el" href="Rocon_2include_2NVec_8h_source.html#l00195">nvc::norm()</a>.</p>
<div class="fragment"><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;{</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::check_disp&quot;</span>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordtype">int</span> disp_id = w_disp-&gt;id();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordtype">double</span> max_norm = 0.0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">// move to class member function</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">//static double disp_tally = 0.0;</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordtype">bool</span> retval = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">//  std::ofstream Ouf;</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="comment">//  Ouf.open(&quot;displacements.txt&quot;,ios::app);</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keyword">const_cast&lt;</span>COM::Window*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>)-&gt;panes(allpanes);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Find the maximum displacement on this processor</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *ptr = NULL;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    COM::Attribute* ptr_att = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(disp_id);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordtype">void</span>* void_ptr = ptr_att-&gt;pointer();</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    ptr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span>(void_ptr);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0,<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a> = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){     </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      <span class="keywordtype">double</span> <a class="code" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">norm</a> = ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].<a class="code" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">norm</a>();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="comment">// Re-assign them to zero to maintain original Rocmop behavior</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <span class="comment">// just in case.  I&#39;m pretty sure that any values in this array</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      <span class="comment">// already get wiped out when the Mesquite displacements are </span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="comment">// copied in.</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][0] = 0.0;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][1] = 0.0;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][2] = 0.0;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="comment">//      Ouf &lt;&lt; j &lt;&lt; &quot;: &quot; &lt;&lt; norm &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">if</span>(norm &gt; max_norm)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        max_norm = <a class="code" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">norm</a>;      </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// Maximize the displacement across all processors</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(max_norm,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// Update the tally</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <a class="code" href="classRocmop.html#a1e83fe394d0394e50fec105cf1e465a3">disp_tally</a> += max_norm;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// Build a blurb about displacement</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  std::ostringstream Ostr;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  Ostr &lt;&lt; <span class="stringliteral">&quot;Mesh Displacement: &quot;</span> &lt;&lt; <a class="code" href="classRocmop.html#a1e83fe394d0394e50fec105cf1e465a3">disp_tally</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="comment">// Determine whether we have exceeded the threshold</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span>(disp_tally  &gt; <a class="code" href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">_disp_thresh</a>){</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    disp_tally = 0.0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    retval = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">// If we intend to smooth - also print out the displacement</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(0,Ostr.str().c_str());</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    retval = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// If not smoothing, print out displacement if verbosity is higher</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,Ostr.str().c_str());</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::check_disp&quot;</span>);</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="comment">//  Ouf.close();</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">return</span>(retval);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="namespacenvc_html_a7ef4a2939f7598fd25136135eafb0ce6"><div class="ttname"><a href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">nvc::norm</a></div><div class="ttdeci">T norm(const NVec&lt; DIM, T &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="Rocon_2include_2NVec_8h_source.html#l00195">Rocon/include/NVec.h:195</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a7b4df805a767c8b80da5b47b7a649e2f"><div class="ttname"><a href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">Rocmop::print_legible</a></div><div class="ttdeci">void print_legible(int verb, const char *msg)</div><div class="ttdoc">Single process print message if given verbosity level is exceeded. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l01408">Rocmop_1.C:1408</a></div></div>
<div class="ttc" id="classRocmop_html_a4cd212ed9ad7f1dbf30678f91437f680"><div class="ttname"><a href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">Rocmop::_disp_thresh</a></div><div class="ttdeci">float _disp_thresh</div><div class="ttdoc">originally a static in check_displacements </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00520">Rocmop_1.h:520</a></div></div>
<div class="ttc" id="classRocmop_html_a1e83fe394d0394e50fec105cf1e465a3"><div class="ttname"><a href="classRocmop.html#a1e83fe394d0394e50fec105cf1e465a3">Rocmop::disp_tally</a></div><div class="ttdeci">double disp_tally</div><div class="ttdoc">originally a static in smooth() </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00518">Rocmop_1.h:518</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="classVector__3_html_afc75c733aff7cb9c0216f363888b1dff"><div class="ttname"><a href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">Vector_3::norm</a></div><div class="ttdeci">Type norm() const </div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00112">mapbasic.h:112</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_adf2947c5f78ec2dadcea64e25ab079f2_cgraph.png" border="0" usemap="#classRocmop_adf2947c5f78ec2dadcea64e25ab079f2_cgraph" alt=""/></div>
<map name="classRocmop_adf2947c5f78ec2dadcea64e25ab079f2_cgraph" id="classRocmop_adf2947c5f78ec2dadcea64e25ab079f2_cgraph">
<area shape="rect" id="node3" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff" title="Vector_3::norm" alt="" coords="204,5,313,35"/><area shape="rect" id="node5" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6" title="nvc::norm" alt="" coords="219,59,299,88"/><area shape="rect" id="node7" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="385,32,428,61"/><area shape="rect" id="node9" href="namespacenvc.html#a4ea00221667e66f4029614e350ea5745" title="nvc::norm2" alt="" coords="364,85,449,115"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adf2947c5f78ec2dadcea64e25ab079f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool check_displacements </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6fbe75569dea16d02feda4c47099b2ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int check_input_pconn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check pconn block 3 of the input mesh. </p>
<p>Check if all ghost nodes are listed in pconn block 3 of _usr_window </p>

<p>Definition at line <a class="el" href="Rocmop__2_8C_source.html#l00886">886</a> of file <a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a>.</p>

<p>References <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_PCONN</a>, <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;{</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>())</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator(), &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    assert( ierr == 0);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  std::vector&lt;const Pane*&gt; allusrpanes;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;panes(allusrpanes);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> = 0, <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allusrpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>)</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="comment">// Obtain pane level attributes</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keyword">const</span> COM::Attribute *usr_nc = allusrpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="keyword">const</span> COM::Attribute *usr_pconn = allusrpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="keywordtype">int</span> minGhostNodeID = usr_nc-&gt;size_of_real_items() + 1;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="keywordtype">int</span> maxGhostNodeID = usr_nc-&gt;size_of_items();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="keywordtype">int</span> numGhostNodes  = maxGhostNodeID - minGhostNodeID + 1;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordtype">int</span> * pconnArray = (<span class="keywordtype">int</span> *)usr_pconn-&gt;pointer();</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// Check pconn</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="keywordtype">bool</span> OORGhostNodes  = <span class="keyword">false</span>;    <span class="comment">// found out of range ghost node</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordtype">bool</span> missGhostNodes = <span class="keyword">false</span>;    <span class="comment">// ghost nodes missed from pconn</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">// Allocate marking array</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordtype">int</span> * isMarked = <span class="keyword">new</span> <span class="keywordtype">int</span> [numGhostNodes];</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> = 0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; numGhostNodes; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>++)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      isMarked[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 0;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">// Jump to pconn block 3</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordtype">int</span> numNbrs = 0;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <span class="keywordtype">int</span> numItems = 0;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> = 0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; 2; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>++)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      numNbrs = pconnArray[index];</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      index++;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> = 0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> &lt; numNbrs; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>++)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        index++;                         <span class="comment">// step over proc id</span></div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        numItems = pconnArray[index];</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        index++;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        index += numItems;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="comment">// Begin marking</span></div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    numNbrs = pconnArray[index];</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    index++;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> = 0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; numNbrs; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>++)</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      index++;                         <span class="comment">// step over proc id</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;      numItems = pconnArray[index];</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      index++;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> = 0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> &lt; numItems; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>++)</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordtype">int</span> lid = pconnArray[index];</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        index++;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">if</span> (lid &lt; minGhostNodeID || lid &gt; maxGhostNodeID)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;          std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Error in check_input_pconn(): Rank &quot;</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                    &lt;&lt; rank &lt;&lt; <span class="stringliteral">&quot;, Ghost node &quot;</span> &lt;&lt; lid </div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; is out of ghost node range.\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;          OORGhostNodes = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isMarked[lid - minGhostNodeID] == 1)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        {</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 0)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Warning in check_input_pconn(): Rank &quot;</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                      &lt;&lt; rank &lt;&lt; <span class="stringliteral">&quot;, Ghost node &quot;</span> &lt;&lt; lid </div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; has &gt; 1 owners.\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        }</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;          isMarked[lid - minGhostNodeID] = 1;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="comment">// Check if any node is not marked</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> = 0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; numGhostNodes; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>++)</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="keywordflow">if</span> (isMarked[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] == 0)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        missGhostNodes = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Error in check_input_pconn(): Rank &quot;</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                  &lt;&lt; rank &lt;&lt; <span class="stringliteral">&quot;, Ghost node &quot;</span> &lt;&lt; (<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> + minGhostNodeID)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                  &lt;&lt; <span class="stringliteral">&quot; is not listed in pconn block 3.\n&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="comment">// Free up memory</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keyword">delete</span> isMarked;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="comment">// Return the result</span></div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (OORGhostNodes == <span class="keyword">true</span> || missGhostNodes == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  }</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM_PCONN</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a6fbe75569dea16d02feda4c47099b2ee_cgraph.png" border="0" usemap="#classRocmop_a6fbe75569dea16d02feda4c47099b2ee_cgraph" alt=""/></div>
<map name="classRocmop_a6fbe75569dea16d02feda4c47099b2ee_cgraph" id="classRocmop_a6fbe75569dea16d02feda4c47099b2ee_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="189,5,328,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5b230d9e1d42e381af9441a2041520ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_marked_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_elems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of marked real elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">marked_elems</td><td>the elements whose quality is to be checked. </td></tr>
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00760">760</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, and <a class="el" href="read_8cpp_source.html#l00074">nk</a>.</p>
<div class="fragment"><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                                                                       {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::check_marked_elems&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordtype">double</span> worst_angle = 0.0;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">if</span>(marked_elems[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]){</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],k+1);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;      </div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="keywordflow">if</span>(angles[1]&gt;worst_angle)</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;          worst_angle = angles[1];</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">return</span> worst_angle;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::check_marked_elems&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a5b230d9e1d42e381af9441a2041520ce_cgraph.png" border="0" usemap="#classRocmop_a5b230d9e1d42e381af9441a2041520ce_cgraph" alt=""/></div>
<map name="classRocmop_a5b230d9e1d42e381af9441a2041520ce_cgraph" id="classRocmop_a5b230d9e1d42e381af9441a2041520ce_cgraph">
<area shape="rect" id="node3" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="240,5,411,35"/><area shape="rect" id="node5" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="252,58,399,105"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5b230d9e1d42e381af9441a2041520ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_marked_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_elems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of marked real elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">marked_elems</td><td>the elements whose quality is to be checked. </td></tr>
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5b230d9e1d42e381af9441a2041520ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double check_marked_elem_quality </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_elems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the largest dihedral angle of marked real elements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">marked_elems</td><td>the elements whose quality is to be checked. </td></tr>
    <tr><td class="paramname">allpanes</td><td>the set of panes containing the elements </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77616b2e5e1035b58e2e4438abea5cb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void compute_eigenvectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>lambdas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l01191">1191</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="smooth__medial_8C_source.html#l00124">dsyevq3()</a>, <a class="el" href="CImg_8h_source.html#l05702">cimg_library::cimg::info()</a>, and <a class="el" href="buildface_8cpp_source.html#l00088">swap()</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l01081">eigen_analyze_vertex()</a>.</p>
<div class="fragment"><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                                                                        {</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordtype">double</span> abuf[3][3] = { {A[0][0], A[0][1], A[0][2]},</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                        {A[1][0], A[1][1], A[1][2]},</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                        {A[2][0], A[2][1], A[2][2]}};</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <span class="keywordtype">double</span> ebuf[3][3];</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  </div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacecimg__library_1_1cimg.html#ac1b66fe77173de9e5e8542b2823d6071">info</a> = <a class="code" href="smooth__medial_8C.html#ac59a848fa2ab164102030221f21de474">dsyevq3</a>( abuf, ebuf, &amp;lambdas[0]);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( info==0, <span class="stringliteral">&quot;Computation of eigenvectos failed&quot;</span>);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( ebuf[0][1], ebuf[1][0]);</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( ebuf[0][2], ebuf[2][0]);</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( ebuf[1][2], ebuf[2][1]);</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="keyword">const</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *buf = (<span class="keyword">const</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*)&amp;ebuf[0][0];</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="keywordflow">if</span> ( lambdas[0]&lt;lambdas[1]) {</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordflow">if</span> ( lambdas[1]&lt;lambdas[2]) { <span class="comment">// l2&gt;l1&gt;l0</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( lambdas[0], lambdas[2]);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      A[0] = buf[2]; A[1] = buf[1]; A[2] = buf[0];</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">else</span> { </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordtype">double</span> t = lambdas[0];</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      lambdas[0] = lambdas[1]; </div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      A[0] = buf[1];</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordflow">if</span> ( t&lt;lambdas[2]) { <span class="comment">// l1&gt;=l2&gt;l0</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        lambdas[1] = lambdas[2]; lambdas[2] = t;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        A[1] = buf[2]; A[2] = buf[0];</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">else</span> { <span class="comment">// l1&gt;l0&gt;=l2</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        lambdas[1] = t;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        A[1] = buf[0]; A[2] = buf[2];</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    }</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( lambdas[0]&lt;lambdas[2]) { <span class="comment">// l2&gt;l0&gt;=l1</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="keywordtype">double</span> t = lambdas[0];</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    lambdas[0] = lambdas[2]; lambdas[2] = lambdas[1]; lambdas[1] = t;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    A[0] = buf[2]; A[1] = buf[0]; A[2] = buf[1];</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    A[0] = buf[0];</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">if</span> ( lambdas[1]&lt;lambdas[2]) { <span class="comment">// l0&gt;=l2&gt;l1</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( lambdas[1], lambdas[2]);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;      A[1] = buf[2]; A[2] = buf[1];</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">else</span> {<span class="comment">// l0&gt;=l1&gt;=l2</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      A[1] = buf[1]; A[2] = buf[2]; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    }</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;}</div>
<div class="ttc" id="buildface_8cpp_html_a34cd8fd4d99fbdd4ef97fcc94070b460"><div class="ttname"><a href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">swap</a></div><div class="ttdeci">void swap(int &amp;a, int &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="buildface_8cpp_source.html#l00088">buildface.cpp:88</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="smooth__medial_8C_html_ac59a848fa2ab164102030221f21de474"><div class="ttname"><a href="smooth__medial_8C.html#ac59a848fa2ab164102030221f21de474">dsyevq3</a></div><div class="ttdeci">int dsyevq3(double A[3][3], double Q[3][3], double w[3])</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00124">smooth_medial.C:124</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="namespacecimg__library_1_1cimg_html_ac1b66fe77173de9e5e8542b2823d6071"><div class="ttname"><a href="namespacecimg__library_1_1cimg.html#ac1b66fe77173de9e5e8542b2823d6071">cimg_library::cimg::info</a></div><div class="ttdeci">void info()</div><div class="ttdoc">Print informations about CImg environement variables. </div><div class="ttdef"><b>Definition:</b> <a href="CImg_8h_source.html#l05702">CImg.h:5702</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_cgraph.png" border="0" usemap="#classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_cgraph" alt=""/></div>
<map name="classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_cgraph" id="classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_cgraph">
<area shape="rect" id="node3" href="smooth__medial_8C.html#ac59a848fa2ab164102030221f21de474" title="dsyevq3" alt="" coords="237,71,307,100"/><area shape="rect" id="node13" href="namespacecimg__library_1_1cimg.html#ac1b66fe77173de9e5e8542b2823d6071" title="Print informations about CImg environement variables. " alt="" coords="208,251,336,298"/><area shape="rect" id="node54" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460" title="swap" alt="" coords="245,321,299,351"/><area shape="rect" id="node5" href="smooth__medial_8C.html#a064649646f4641b48463cf641b032e32" title="dsytrd3" alt="" coords="429,44,493,73"/><area shape="rect" id="node7" href="smooth__medial_8C.html#a008137b55395036613fb97c40e7ba8b5" title="SQR" alt="" coords="625,71,676,100"/><area shape="rect" id="node9" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="629,5,672,35"/><area shape="rect" id="node15" href="namespacecimg__library_1_1cimg.html#a0d2a283a3aa2572e9d343f040c8c4c6b" title="Return the current endianness of the CPU. " alt="" coords="397,425,525,471"/><area shape="rect" id="node17" href="namespacecimg__library_1_1cimg.html#ad0db1003e37cc111d9eddd282c1ab27b" title="Return or set path to the ImageMagick&#39;s convert tool. " alt="" coords="392,147,531,194"/><area shape="rect" id="node29" href="namespacecimg__library_1_1cimg.html#aa9f7e166f51b43facc8ecc9f05e4ceba" title="Return path of the GraphicsMagick&#39;s gm tool. " alt="" coords="385,286,537,333"/><area shape="rect" id="node34" href="namespacecimg__library_1_1cimg.html#aaedba1291890f50edb5be58ef662e516" title="Return or set path of the XMedcon tool. " alt="" coords="397,217,525,263"/><area shape="rect" id="node39" href="namespacecimg__library_1_1cimg.html#a797797a309ca40aa28cdfbb92f4d1621" title="Return or set path to store temporary files. " alt="" coords="397,355,525,402"/><area shape="rect" id="node19" href="namespacecimg__library_1_1cimg.html#a19ad60edf05bad32e75b7077509ef566" title="Open a file, and check for possible errors. " alt="" coords="587,286,715,333"/><area shape="rect" id="node21" href="namespacecimg__library_1_1cimg.html#ae54f76e8c2bcff93277e9cae1906a3d6" title="Close a file, and check for possible errors. " alt="" coords="587,147,715,194"/><area shape="rect" id="node27" href="namespacecimg__library_1_1cimg.html#a6a835b5fd5ea1699929cb8a1f91e8729" title="cimg_library::cimg\l::winformat_string" alt="" coords="587,217,715,263"/><area shape="rect" id="node23" href="namespacecimg__library_1_1cimg.html#a93ec28267b101050d949d1ebff1b88cf" title="Display a warning message. " alt="" coords="763,147,891,194"/><area shape="rect" id="node25" href="namespacecimg__library_1_1cimg.html#aacf66918a1173b3f72fe6f088d94f26b" title="Get/set the current CImg exception mode. " alt="" coords="939,147,1067,194"/><area shape="rect" id="node41" href="namespacecimg__library_1_1cimg.html#a7748b6c9db13b5262f059994f0b8c117" title="cimg_library::cimg\l::filenamerand" alt="" coords="587,355,715,402"/><area shape="rect" id="node43" href="namespacecimg__library_1_1cimg.html#a84a2f7a220ba6a54893f695b3bcc36e2" title="cimg_library::cimg\l::srand" alt="" coords="763,325,891,371"/><area shape="rect" id="node47" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1] with respect to an uniform distribution. " alt="" coords="939,354,1067,401"/><area shape="rect" id="node45" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision. " alt="" coords="939,285,1067,331"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_icgraph.png" border="0" usemap="#classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_icgraph" alt=""/></div>
<map name="classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_icgraph" id="classRocmop_a77616b2e5e1035b58e2e4438abea5cb7_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed" title="eigen_analyze_vertex" alt="" coords="209,5,356,35"/><area shape="rect" id="node5" href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5" title="Compute medial quadric for every vertex. " alt="" coords="407,5,572,35"/><area shape="rect" id="node7" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="621,5,760,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a59e4897280964fdcdd5e18ca4c36233d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_eigenvectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[2], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>lambdas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c734e1ddb94d3a10721a9522325601c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_eigenvectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>lambdas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a59e4897280964fdcdd5e18ca4c36233d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_eigenvectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[2], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>lambdas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8c734e1ddb94d3a10721a9522325601c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_eigenvectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>lambdas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a59e4897280964fdcdd5e18ca4c36233d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void compute_eigenvectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[2], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__2.html">Vector_2</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>lambdas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4c6e496385e479c044a89f1e545edaa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void compute_medial_quadric </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute medial quadric for every vertex. </p>

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l00286">286</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00425">_cnstr_dirs</a>, <a class="el" href="Rocmop_8h_source.html#l00424">_cnstr_types</a>, <a class="el" href="Rocmop_8h_source.html#l00453">_verb</a>, <a class="el" href="Rocmop_8h_source.html#l00419">_wght_scheme</a>, <a class="el" href="Rocmop_8h_source.html#l00439">_wrk_window</a>, <a class="el" href="CImg_8h_source.html#l06051">cimg_library::acos()</a>, <a class="el" href="geometry_8C_source.html#l00061">angle()</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="op2args_8C_source.html#l00583">Rocblas::copy_scalar()</a>, <a class="el" href="mapbasic_8h_source.html#l00104">Vector_3&lt; Type &gt;::cross_product()</a>, <a class="el" href="mapbasic_8h_source.html#l00325">E2N_ANGLE</a>, <a class="el" href="mapbasic_8h_source.html#l00325">E2N_AREA</a>, <a class="el" href="mapbasic_8h_source.html#l00325">E2N_ONE</a>, <a class="el" href="surfbasic_8h_source.html#l00057">E2N_SPHERE</a>, <a class="el" href="smooth__medial_8C_source.html#l01081">eigen_analyze_vertex()</a>, <a class="el" href="smooth__medial_8C_source.html#l00042">half_pi</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Vector__n_8h_source.html#l00354">max()</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="mapbasic_8h_source.html#l00112">Vector_3&lt; Type &gt;::norm()</a>, <a class="el" href="mapbasic_8h_source.html#l00114">Vector_3&lt; Type &gt;::normalize()</a>, <a class="el" href="smooth__medial_8C_source.html#l00043">pi</a>, <a class="el" href="Manifold__2_8h_source.html#l00052">REAL_PANE</a>, <a class="el" href="arruda__boyce_8f90_source.html#l00259">rs()</a>, <a class="el" href="blastest_8C_source.html#l00080">s</a>, <a class="el" href="CImg_8h_source.html#l06041">cimg_library::sin()</a>, and <a class="el" href="double_8h_source.html#l00073">sqrt()</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                         {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::compute_medial_quadric&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="comment">// Use the following buffer spaces: _eigvecs for matrix A; </span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="comment">// _eigvalues to store bm; disps to store bo, _weights to store r</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; <span class="keyword">const</span> std::string att1(<span class="stringliteral">&quot;eigvecs&quot;</span>), att2(<span class="stringliteral">&quot;lambda&quot;</span>), att3(<span class="stringliteral">&quot;weights&quot;</span>),</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    att4(<span class="stringliteral">&quot;facenormals&quot;</span>), att5(<span class="stringliteral">&quot;facecenters&quot;</span>), att6(<span class="stringliteral">&quot;tangranks&quot;</span>),</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   att7(<span class="stringliteral">&quot;cntnranks&quot;</span>), att8(<span class="stringliteral">&quot;cntnvecs&quot;</span>), att9(<span class="stringliteral">&quot;vnormals&quot;</span>), att10(<span class="stringliteral">&quot;disps&quot;</span>),</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   att11(<span class="stringliteral">&quot;awnormals&quot;</span>), att12(<span class="stringliteral">&quot;uwnormals&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  COM::Attribute *A_attr =  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att1);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  COM::Attribute *bm_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att2);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  COM::Attribute *aw_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att11);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  COM::Attribute *uw_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att12);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  COM::Attribute *r_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att3);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordtype">int</span> facenormals_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att4)-&gt;id();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordtype">int</span> facecenters_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att5)-&gt;id();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordtype">int</span> tangranks_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att6)-&gt;id();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordtype">int</span> cntnranks_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att7)-&gt;id();</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keywordtype">int</span> cntnvecs_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att8)-&gt;id();</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordtype">int</span> vnormals_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att9)-&gt;id();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordtype">int</span> awnormals_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att11)-&gt;id();</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="keywordtype">int</span> uwnormals_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att12)-&gt;id();</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordtype">int</span> disps_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att10)-&gt;id();</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordtype">double</span> zero = 0.;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;zero, A_attr);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;zero, bm_attr);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;zero, r_attr);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// Initialize disps to 0</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  std::vector&lt; COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> =0, local_npanes = allpanes.size();</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *ds = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      ( allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(disps_id)-&gt;pointer());</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> =0, <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      ds[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(0.0,0.0,0.0);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="comment">// Loop through the panes and its real faces, calculate A, b, and c = sum_i(wi)</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  std::vector&lt; COM::Pane*&gt;::iterator it = allpanes.begin();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  SURF::Window_manifold_2::PM_iterator pm_it=_wm-&gt;pm_begin();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it, ++pm_it) { </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="comment">// Obtain nodal coordinates of current pane, assuming contiguous layout</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *pnts = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      (pane-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a>)-&gt;pointer());</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *nrms = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      ( pane-&gt;attribute(facenormals_id)-&gt;pointer());</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// Obtain pointers to A_attr, bm_attr, and r_attr </span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *As = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      ( pane-&gt;attribute(A_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *bs_m = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      ( pane-&gt;attribute(bm_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *aws = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      ( pane-&gt;attribute(aw_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *uws = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      ( pane-&gt;attribute(uw_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordtype">double</span>   *<a class="code" href="arruda__boyce_8f90.html#a2f31672ee5874935d96e7aea2c8371fe">rs</a> = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      ( pane-&gt;attribute(r_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cnts = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      ( pane-&gt;attribute(facecenters_id)-&gt;pointer());</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, 1); </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=pane-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, ene.next()) {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="comment">// If speed is uniform within a face, then unit normal is the same</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="comment">// after propagation.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keyword">const</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> &amp;ns_nz = nrms[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> nrm = ns_nz;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="keywordtype">int</span> ne = ene.size_of_edges();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordtype">int</span> uindex=ene[ne-1]-1, vindex=ene[0]-1;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <span class="comment">// Loop through all vertices of current face.</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;ne; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordtype">int</span> windex = ene[(<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1==ne)?0:k+1]-1;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> cnt = cnts[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="comment">// Calculate the weight of the current face for this node.</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordtype">double</span> w=1;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> ts[2] = { pnts[uindex]-pnts[vindex], </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                   pnts[windex]-pnts[vindex]};</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a> = <a class="code" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">std::sqrt</a>((ts[0]*ts[0])*(ts[1]*ts[1]));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="geometry_8h.html#a2f642138fc2786ca05a687aa45a352f2">angle</a>=0;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">if</span> ( s&gt;=0) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;          <span class="keywordtype">double</span> cosw = ts[0]*ts[1]/<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;          <span class="keywordflow">if</span> (cosw&gt;1) cosw=1; <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( cosw&lt;-1) cosw=-1;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;          angle = <a class="code" href="namespacecimg__library.html#a539dd46f536be820887f4df391a9f2fd">std::acos</a>( cosw);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">_wght_scheme</a>!=<a class="code" href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409acc13e09912a884060569a3fd98ffdb04">SURF::E2N_ONE</a>) {         </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;          </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          <span class="keywordflow">switch</span> ( <a class="code" href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">_wght_scheme</a>) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">SURF::E2N_ANGLE</a>: </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="surfbasic_8h.html#a94798fdadfbf49a7c658ace669a1d310a33373462bb5b897746455f533300079c">SURF::E2N_SPHERE</a>: {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            <span class="keywordflow">if</span> ( <a class="code" href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">_wght_scheme</a>==<a class="code" href="surfbasic_8h.html#a94798fdadfbf49a7c658ace669a1d310a33373462bb5b897746455f533300079c">SURF::E2N_SPHERE</a>)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;              w = <a class="code" href="namespacecimg__library.html#a35f28010f1c3f5a5668974c5ea8d6be3">std::sin</a>(angle)/<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( w&gt;<a class="code" href="smooth__medial_8C.html#a3ffe576f27c10ad987688ea9485e01e6">half_pi</a>) </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;              w = <a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>(0.,<a class="code" href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a>-angle); </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;              w = <a class="code" href="geometry_8h.html#a2f642138fc2786ca05a687aa45a352f2">angle</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409aa8dc62cbec3ae031cc2558c2cd456eb8">SURF::E2N_AREA</a>: {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            w = <a class="code" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f">Vector_3&lt;double&gt;::cross_product</a>(ts[0],ts[1]).<a class="code" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">norm</a>()/2.; <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          nrm = w*ns_nz;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="comment">// Obtain the addresses of the linear system and weight</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *A_v = &amp;As[3*vindex];</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> &amp;b_mv = bs_m[vindex];</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> &amp;aw = aws[vindex];</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> &amp;uw = uws[vindex];</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordtype">double</span>   &amp;r_v  = rs[vindex];</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="comment">// Update A, b_m, and r for the current vertex</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        A_v[0] += ns_nz[0]*nrm;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        A_v[1] += ns_nz[1]*nrm;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        A_v[2] += ns_nz[2]*nrm;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        b_mv   -= nrm;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        aw     += (<a class="code" href="namespacecimg__library.html#a35f28010f1c3f5a5668974c5ea8d6be3">std::sin</a>(angle)/<a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>)*ns_nz;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        uw     += ns_nz;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        r_v    += <a class="code" href="geometry_8h.html#a2f642138fc2786ca05a687aa45a352f2">angle</a>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="comment">// Update indices for next node</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        uindex=vindex; vindex=windex;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#if defined(BOUNDARY_TREATMENT) &amp;&amp; BOUNDARY_TREATMENT</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="comment">// Loop through the halfedges of the face to handle border edges</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="classHalfedge.html">Halfedge</a> h( &amp;*pm_it, <a class="code" href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a>(<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+1,0), <a class="code" href="Manifold__2_8h.html#a89f93e032c30177474ff80a8fb380c56a420551bea5fe666279e91b4fd68c1aa8">SURF::REAL_PANE</a>), h0=h;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">if</span> ( h.is_border()) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          <span class="comment">// Incorporate normal plane passing through the border edge into </span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          <span class="comment">// its incident vertices with weight pi/2.</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> nrm_nz = <a class="code" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f">Vector_3&lt;double&gt;::cross_product</a>( ns_nz, h.tangent()).normalize();</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> nrm = <a class="code" href="smooth__medial_8C.html#a3ffe576f27c10ad987688ea9485e01e6">half_pi</a>*nrm_nz;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          <span class="comment">// Update the origin and destination of h with the orthogonal pane</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=0; k&lt;2; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            <span class="keywordtype">int</span> vindex = ene[ (k?h:h.next()).<span class="keywordtype">id</span>().lid()]-1;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="comment">// Obtain the addresses of the linear system and weight</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *A_v = &amp;As[3*vindex];</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> &amp;b_mv = bs_m[vindex]; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordtype">double</span>   &amp;r_v  = rs[vindex];</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            <span class="comment">// Update A, b_m, and r for the current vertex. </span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="comment">// No need to update as sigma is 0 for it.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            A_v[0] += nrm_nz[0]*nrm;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            A_v[1] += nrm_nz[1]*nrm;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            A_v[2] += nrm_nz[2]*nrm;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            b_mv   -= nrm;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            r_v    += <a class="code" href="smooth__medial_8C.html#a3ffe576f27c10ad987688ea9485e01e6">half_pi</a>;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        }</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      } <span class="keywordflow">while</span> ( (h=h.next()) != h0);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="comment">// Reduce on shared nodes for A, b_m, and r</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  _wm-&gt;reduce_on_shared_nodes( A_attr, SURF::Window_manifold_2::OP_SUM);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  _wm-&gt;reduce_on_shared_nodes( bm_attr, SURF::Window_manifold_2::OP_SUM);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  _wm-&gt;reduce_on_shared_nodes( aw_attr, SURF::Window_manifold_2::OP_SUM);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  _wm-&gt;reduce_on_shared_nodes( uw_attr, SURF::Window_manifold_2::OP_SUM);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  _wm-&gt;reduce_on_shared_nodes( r_attr, SURF::Window_manifold_2::OP_SUM);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// Loop through the panes and its real vertices</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  it = allpanes.begin(); </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) { </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// Obtain pointers to A_attr, bo_attr, bm_attr, and r_attr </span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *As = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      ( pane-&gt;attribute(A_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *bs_m = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      ( pane-&gt;attribute(bm_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordtype">double</span>   *rs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      ( pane-&gt;attribute(r_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordtype">int</span>      *tranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      ( pane-&gt;attribute(tangranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordtype">int</span>      *cranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      ( pane-&gt;attribute(cntnranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cvecs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      ( pane-&gt;attribute(cntnvecs_id)-&gt;pointer());</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordtype">int</span>      *cnstrs = <a class="code" href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">_cnstr_types</a>?<span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;      ( pane-&gt;attribute(<a class="code" href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">_cnstr_types</a>-&gt;id())-&gt;pointer()):NULL;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cnstr_dirs = <a class="code" href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">_cnstr_dirs</a>?<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      ( pane-&gt;attribute(<a class="code" href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">_cnstr_dirs</a>-&gt;id())-&gt;pointer()):NULL;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>  *vnrms = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      ( pane-&gt;attribute(vnormals_id)-&gt;pointer());</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>  *awnrms = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      ( pane-&gt;attribute(awnormals_id)-&gt;pointer());</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>  *uwnrms = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      ( pane-&gt;attribute(uwnormals_id)-&gt;pointer());</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// Loop through all real nodes of the pane</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;Number of nodes = &quot; &lt;&lt; pane-&gt;size_of_real_nodes() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, jn=pane-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;jn; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="comment">// Skip vertices with zero weight, such as those at</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="comment">// edge- and face-centers for quadratic elements</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <span class="keywordflow">if</span> ( rs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]==0) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *es = &amp;As[3*<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];    <span class="comment">// eigen-vectors of current vertex.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = &amp;cvecs[2*<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]; <span class="comment">// cnstr-tangent of current vertex.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="comment">// Make copy of matrix A as it will be overwritten by eigenvectors</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> A_v[3] = {es[0], es[1], es[2]};</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="comment">// Likewise, b will be overwritten by eigenvalues</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> b_v = bs_m[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      awnrms[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].<a class="code" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">normalize</a>();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      uwnrms[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].<a class="code" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">normalize</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="comment">// Perform eigen-analysis for the vertex using medial quadric</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="comment">// orank is the rank of the orthogonal (primar) space of A.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="comment">// The non-constrained solution is stored in vnrm.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordtype">int</span> orank = <a class="code" href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed">eigen_analyze_vertex</a>( es, bs_m[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>], &amp;vnrms[j], 2*<a class="code" href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a>-rs[j]);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="comment">// EDIT</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;      <span class="comment">//orank = (orank == 3) ? 2 : orank;</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="comment">//COM_assertion_msg((orank &lt;=3) &amp;&amp; (orank &gt;= 1), &quot;Orank is invalid\n&quot;);</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="comment">// Store the rank of the tangent space.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      tranks[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 3-orank;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="comment">// Copy eigenvectors into cvecs.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=tranks[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]-1; k&gt;=0; --<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        cs[k] = es[orank+k];</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="comment">// Compute normal estimate using medial quadric, </span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      <span class="comment">// and save it into vnrms (overwrite the non-constrained solution)</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> d(0,0,0);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="comment">// Set the tolerance to avoid perturbation due to small eigenvalues</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordtype">double</span> tol = bs_m[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][0]*5.e-3;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=0; k&lt;orank; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        d += (es[k]*b_v/-<a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>(bs_m[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][k],tol))*es[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>];</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      vnrms[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = d;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::compute_medial_quadric&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a951f6a38a9e200878fabe2fe295d23ed"><div class="ttname"><a href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed">Rocmop::eigen_analyze_vertex</a></div><div class="ttdeci">int eigen_analyze_vertex(Vector_3&lt; double &gt; A_io[3], Vector_3&lt; double &gt; &amp;b_io, Vector_3&lt; double &gt; *nrm_nz, double angle_defect)</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l01081">smooth_medial.C:1081</a></div></div>
<div class="ttc" id="surfbasic_8h_html_a94798fdadfbf49a7c658ace669a1d310a33373462bb5b897746455f533300079c"><div class="ttname"><a href="surfbasic_8h.html#a94798fdadfbf49a7c658ace669a1d310a33373462bb5b897746455f533300079c">E2N_SPHERE</a></div><div class="ttdef"><b>Definition:</b> <a href="surfbasic_8h_source.html#l00057">surfbasic.h:57</a></div></div>
<div class="ttc" id="arruda__boyce_8f90_html_a2f31672ee5874935d96e7aea2c8371fe"><div class="ttname"><a href="arruda__boyce_8f90.html#a2f31672ee5874935d96e7aea2c8371fe">rs</a></div><div class="ttdeci">subroutine rs(nm, n, a, w, matz, z, fv1, fv2, ierr)</div><div class="ttdef"><b>Definition:</b> <a href="arruda__boyce_8f90_source.html#l00259">arruda_boyce.f90:259</a></div></div>
<div class="ttc" id="classElement__node__enumerator_html"><div class="ttname"><a href="classElement__node__enumerator.html">Element_node_enumerator</a></div><div class="ttdoc">An adaptor for enumerating node IDs of an element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00043">Element_accessors.h:43</a></div></div>
<div class="ttc" id="smooth__medial_8C_html_a3ffe576f27c10ad987688ea9485e01e6"><div class="ttname"><a href="smooth__medial_8C.html#a3ffe576f27c10ad987688ea9485e01e6">half_pi</a></div><div class="ttdeci">static const double half_pi</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00042">smooth_medial.C:42</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="classRocmop_html_a6bbdc2102dd12d88d22101f52ba8d214"><div class="ttname"><a href="classRocmop.html#a6bbdc2102dd12d88d22101f52ba8d214">Rocmop::_wght_scheme</a></div><div class="ttdeci">char _wght_scheme</div><div class="ttdoc">Weighting scheme. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00419">Rocmop.h:419</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="Manifold__2_8h_html_afcea40412870eda456b22d8d6bdbd094"><div class="ttname"><a href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a></div><div class="ttdeci">MAP::Facet_ID Edge_ID</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00049">Manifold_2.h:49</a></div></div>
<div class="ttc" id="Vector__n_8h_html_a7dddfa733bea2c50f405764d775e636a"><div class="ttname"><a href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a></div><div class="ttdeci">Vector_n max(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00354">Vector_n.h:354</a></div></div>
<div class="ttc" id="classHalfedge_html"><div class="ttname"><a href="classHalfedge.html">Halfedge</a></div><div class="ttdoc">This class encapsulate a halfedge over a window manifold. </div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00446">Manifold_2.h:446</a></div></div>
<div class="ttc" id="double_8h_html_ac12b3d29117dc72313c36cdb5a9d3e0e"><div class="ttname"><a href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">sqrt</a></div><div class="ttdeci">double sqrt(double d)</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00073">double.h:73</a></div></div>
<div class="ttc" id="classVector__3_html_a378898ca48cb8e4a1cf466e85d33f429"><div class="ttname"><a href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">Vector_3::normalize</a></div><div class="ttdeci">Vector_3 &amp; normalize()</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00114">mapbasic.h:114</a></div></div>
<div class="ttc" id="smooth__medial_8C_html_a43016d873124d39034edb8cd164794db"><div class="ttname"><a href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a></div><div class="ttdeci">static const double pi</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00043">smooth_medial.C:43</a></div></div>
<div class="ttc" id="Manifold__2_8h_html_a89f93e032c30177474ff80a8fb380c56a420551bea5fe666279e91b4fd68c1aa8"><div class="ttname"><a href="Manifold__2_8h.html#a89f93e032c30177474ff80a8fb380c56a420551bea5fe666279e91b4fd68c1aa8">REAL_PANE</a></div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00052">Manifold_2.h:52</a></div></div>
<div class="ttc" id="mapbasic_8h_html_adb49720dc49f7d4e4cf9adbf2948e409aa8dc62cbec3ae031cc2558c2cd456eb8"><div class="ttname"><a href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409aa8dc62cbec3ae031cc2558c2cd456eb8">E2N_AREA</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00325">mapbasic.h:325</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="geometry_8h_html_a2f642138fc2786ca05a687aa45a352f2"><div class="ttname"><a href="geometry_8h.html#a2f642138fc2786ca05a687aa45a352f2">angle</a></div><div class="ttdeci">double angle(Vector_3&lt; double &gt; v1, Vector_3&lt; double &gt; v2)</div><div class="ttdoc">Compute the angle between two vectors. </div><div class="ttdef"><b>Definition:</b> <a href="geometry_8C_source.html#l00061">geometry.C:61</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classVector__3_html_aa8b58e0e93d63afb1387a36b49d7d16f"><div class="ttname"><a href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f">Vector_3::cross_product</a></div><div class="ttdeci">static Vector_3 cross_product(const Vector_3 &amp;v, const Vector_3 &amp;w)</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00104">mapbasic.h:104</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="mapbasic_8h_html_adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64"><div class="ttname"><a href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409ae25cabd75cec5cdb12e54cdd0d076e64">E2N_ANGLE</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00325">mapbasic.h:325</a></div></div>
<div class="ttc" id="classRocblas_html_a67987d3b72ffb73c5fa0cc2930822afd"><div class="ttname"><a href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a></div><div class="ttdeci">static void copy_scalar(const void *x, Attribute *y)</div><div class="ttdoc">Operation wrapper for copy (x is a scalar pointer). </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00583">op2args.C:583</a></div></div>
<div class="ttc" id="namespacecimg__library_html_a35f28010f1c3f5a5668974c5ea8d6be3"><div class="ttname"><a href="namespacecimg__library.html#a35f28010f1c3f5a5668974c5ea8d6be3">cimg_library::sin</a></div><div class="ttdeci">CImg&lt; _cimg_Tfloat &gt; sin(const CImg&lt; T &gt; &amp;instance)</div><div class="ttdef"><b>Definition:</b> <a href="CImg_8h_source.html#l06041">CImg.h:6041</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="classRocmop_html_a441e6454097c3b02e1cc9553160d4b90"><div class="ttname"><a href="classRocmop.html#a441e6454097c3b02e1cc9553160d4b90">Rocmop::_cnstr_dirs</a></div><div class="ttdeci">COM::Attribute * _cnstr_dirs</div><div class="ttdoc">Stores directions of nodal contraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00425">Rocmop.h:425</a></div></div>
<div class="ttc" id="classRocmop_html_a02ae344acfa80639459b14a4435b9ded"><div class="ttname"><a href="classRocmop.html#a02ae344acfa80639459b14a4435b9ded">Rocmop::_cnstr_types</a></div><div class="ttdeci">const COM::Attribute * _cnstr_types</div><div class="ttdoc">Stores types of nodal constraints. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00424">Rocmop.h:424</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="namespacecimg__library_html_a539dd46f536be820887f4df391a9f2fd"><div class="ttname"><a href="namespacecimg__library.html#a539dd46f536be820887f4df391a9f2fd">cimg_library::acos</a></div><div class="ttdeci">CImg&lt; _cimg_Tfloat &gt; acos(const CImg&lt; T &gt; &amp;instance)</div><div class="ttdef"><b>Definition:</b> <a href="CImg_8h_source.html#l06051">CImg.h:6051</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="classVector__3_html_afc75c733aff7cb9c0216f363888b1dff"><div class="ttname"><a href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">Vector_3::norm</a></div><div class="ttdeci">Type norm() const </div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00112">mapbasic.h:112</a></div></div>
<div class="ttc" id="mapbasic_8h_html_adb49720dc49f7d4e4cf9adbf2948e409acc13e09912a884060569a3fd98ffdb04"><div class="ttname"><a href="mapbasic_8h.html#adb49720dc49f7d4e4cf9adbf2948e409acc13e09912a884060569a3fd98ffdb04">E2N_ONE</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00325">mapbasic.h:325</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a4c6e496385e479c044a89f1e545edaa5_cgraph.png" border="0" usemap="#classRocmop_a4c6e496385e479c044a89f1e545edaa5_cgraph" alt=""/></div>
<map name="classRocmop_a4c6e496385e479c044a89f1e545edaa5_cgraph" id="classRocmop_a4c6e496385e479c044a89f1e545edaa5_cgraph">
<area shape="rect" id="node3" href="namespacecimg__library.html#a539dd46f536be820887f4df391a9f2fd" title="cimg_library::acos" alt="" coords="448,304,576,333"/><area shape="rect" id="node7" href="geometry_8h.html#a2f642138fc2786ca05a687aa45a352f2" title="Compute the angle between two vectors. " alt="" coords="277,437,331,466"/><area shape="rect" id="node18" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="1081,617,1124,646"/><area shape="rect" id="node20" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd" title="Operation wrapper for copy (x is a scalar pointer). " alt="" coords="231,928,377,957"/><area shape="rect" id="node24" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f" title="Vector_3::cross_product" alt="" coords="223,981,385,1010"/><area shape="rect" id="node26" href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed" title="eigen_analyze_vertex" alt="" coords="231,773,377,802"/><area shape="rect" id="node58" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="489,880,535,909"/><area shape="rect" id="node67" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="443,933,581,962"/><area shape="rect" id="node70" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff" title="Vector_3::norm" alt="" coords="249,1034,359,1064"/><area shape="rect" id="node73" href="arruda__boyce_8f90.html#a2f31672ee5874935d96e7aea2c8371fe" title="rs" alt="" coords="685,412,723,441"/><area shape="rect" id="node127" href="namespacecimg__library.html#a35f28010f1c3f5a5668974c5ea8d6be3" title="cimg_library::sin" alt="" coords="245,1088,363,1117"/><area shape="rect" id="node5" href="structcimg__library_1_1CImg.html#a80972e1b6fd55bf970cbb07d56c39335" title="cimg_library::CImg\l::get_acos" alt="" coords="639,288,769,335"/><area shape="rect" id="node10" href="utilities_2rc__cmp_2util_8cpp.html#a0d9256a364d8efaad23e52d4042654e0" title="dot_product" alt="" coords="467,357,557,386"/><area shape="rect" id="node14" href="geometry_8h.html#a3f884839e02fce28dc24f56b4f121900" title="Compute the dot Product of two vectors. " alt="" coords="488,410,536,440"/><area shape="rect" id="node16" href="namespacenvc.html#a4ea00221667e66f4029614e350ea5745" title="nvc::norm2" alt="" coords="469,464,555,493"/><area shape="rect" id="node12" href="utilities_2rc__cmp_2util_8cpp.html#a7198ddaeac1d22c06c4daf75de4ceaef" title="nan" alt="" coords="683,358,725,388"/><area shape="rect" id="node22" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="444,986,580,1016"/><area shape="rect" id="node28" href="classRocmop.html#a77616b2e5e1035b58e2e4438abea5cb7" title="compute_eigenvectors" alt="" coords="436,773,588,802"/><area shape="rect" id="node60" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771" title="NTS::abs" alt="" coords="473,669,551,698"/><area shape="rect" id="node62" href="namespacecimg__library.html#a2ff3d5bed4426af215f53f21b5ae68cf" title="cimg_library::atan" alt="" coords="449,826,575,856"/><area shape="rect" id="node30" href="smooth__medial_8C.html#ac59a848fa2ab164102030221f21de474" title="dsyevq3" alt="" coords="669,770,739,800"/><area shape="rect" id="node39" href="namespacecimg__library_1_1cimg.html#ac1b66fe77173de9e5e8542b2823d6071" title="Print informations about CImg environement variables. " alt="" coords="640,943,768,990"/><area shape="rect" id="node56" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460" title="swap" alt="" coords="677,824,731,853"/><area shape="rect" id="node32" href="smooth__medial_8C.html#a064649646f4641b48463cf641b032e32" title="dsytrd3" alt="" coords="864,770,928,800"/><area shape="rect" id="node34" href="smooth__medial_8C.html#a008137b55395036613fb97c40e7ba8b5" title="SQR" alt="" coords="1077,797,1128,826"/><area shape="rect" id="node41" href="namespacecimg__library_1_1cimg.html#a0d2a283a3aa2572e9d343f040c8c4c6b" title="Return the current endianness of the CPU. " alt="" coords="832,1012,960,1059"/><area shape="rect" id="node43" href="namespacecimg__library_1_1cimg.html#ad0db1003e37cc111d9eddd282c1ab27b" title="Return or set path to the ImageMagick&#39;s convert tool. " alt="" coords="827,1082,965,1128"/><area shape="rect" id="node47" href="namespacecimg__library_1_1cimg.html#aa9f7e166f51b43facc8ecc9f05e4ceba" title="Return path of the GraphicsMagick&#39;s gm tool. " alt="" coords="820,1151,972,1198"/><area shape="rect" id="node50" href="namespacecimg__library_1_1cimg.html#aaedba1291890f50edb5be58ef662e516" title="Return or set path of the XMedcon tool. " alt="" coords="832,874,960,920"/><area shape="rect" id="node53" href="namespacecimg__library_1_1cimg.html#a797797a309ca40aa28cdfbb92f4d1621" title="Return or set path to store temporary files. " alt="" coords="832,943,960,990"/><area shape="rect" id="node45" href="namespacecimg__library_1_1cimg.html#a19ad60edf05bad32e75b7077509ef566" title="Open a file, and check for possible errors. " alt="" coords="1039,1012,1167,1059"/><area shape="rect" id="node64" href="structcimg__library_1_1CImg.html#ae34fafc7bd6868ac7dcfbe2d8e9bf3b4" title="cimg_library::CImg\l::get_atan" alt="" coords="639,1012,769,1059"/><area shape="rect" id="node75" href="classLine__2.html#a788c8fb7953bc03c442e6d905abe0c01" title="Line_2::a" alt="" coords="1269,502,1344,532"/><area shape="rect" id="node77" href="arruda__boyce_8f90.html#a6fbc6c2163a4ca8b183d367f2bdf65c2" title="tql1" alt="" coords="875,252,917,281"/><area shape="rect" id="node97" href="arruda__boyce_8f90.html#a11625c0d4087813612fcea51e6bdc170" title="tql2" alt="" coords="875,198,917,228"/><area shape="rect" id="node106" href="arruda__boyce_8f90.html#af7b3c6cb5bad790aa302b90dfad59af9" title="tred1" alt="" coords="871,412,921,441"/><area shape="rect" id="node119" href="arruda__boyce_8f90.html#a40a1f383b8cd714b3c0d7dbe946d99eb" title="tred2" alt="" coords="871,358,921,388"/><area shape="rect" id="node79" href="classLine__2.html#afe7f37893f080982762fded5aaca681c" title="Line_2::c" alt="" coords="1065,94,1140,124"/><area shape="rect" id="node81" href="classPlane__3.html#a97cd7b8d2df14504c1422abd2bf8234c" title="Plane_3::d" alt="" coords="1061,305,1144,334"/><area shape="rect" id="node83" href="classColor.html#a136e5e559949921576ae566cfea2e855" title="Color::g" alt="" coords="1069,358,1136,388"/><area shape="rect" id="node85" href="classAff__transformation__2.html#a365f1affce6586f551082723758c0fcc" title="Aff_transformation_2::m" alt="" coords="1021,41,1184,70"/><area shape="rect" id="node87" href="arruda__boyce_8f90.html#aefdf2f56016974e7ae9cbb603784144d" title="pythag" alt="" coords="1072,198,1133,228"/><area shape="rect" id="node92" href="classColor.html#a2cd31514360f55547e6cb3e94dfe6ad5" title="Color::r" alt="" coords="1275,146,1339,176"/><area shape="rect" id="node95" href="compute__curvature_8C.html#a2cccb6517bc61ed2eee5b2ac38772dce" title="sign" alt="" coords="1080,252,1125,281"/><area shape="rect" id="node90" href="classColor.html#a6b4c47aed15e7f7a2f1e38311b98737e" title="Color::b" alt="" coords="1273,200,1340,229"/><area shape="rect" id="node111" href="classTransfer__base.html#aa4fb201c8061f6f1fd18361e4bd1737a" title="Transfer_base::scale" alt="" coords="1031,412,1175,441"/><area shape="rect" id="node113" href="classRFC__Data__const.html#ae0c063cfb2479f614be43b9d2f92ba63" title="RFC_Data_const::id" alt="" coords="1236,436,1377,465"/><area shape="rect" id="node115" href="classRFC__Data.html#a2e1ff52eab3383077d032b5cfdbce9e3" title="RFC_Data::get_value" alt="" coords="1232,382,1381,412"/><area shape="rect" id="node129" href="structcimg__library_1_1CImg.html#a7c5c1b92e02d4286b19fd6ea054ba0e8" title="cimg_library::CImg\l::get_sin" alt="" coords="447,1079,577,1126"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a4c6e496385e479c044a89f1e545edaa5_icgraph.png" border="0" usemap="#classRocmop_a4c6e496385e479c044a89f1e545edaa5_icgraph" alt=""/></div>
<map name="classRocmop_a4c6e496385e479c044a89f1e545edaa5_icgraph" id="classRocmop_a4c6e496385e479c044a89f1e545edaa5_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="221,5,360,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c6e496385e479c044a89f1e545edaa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void compute_medial_quadric </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute medial quadric for every vertex. </p>

</div>
</div>
<a class="anchor" id="a4c6e496385e479c044a89f1e545edaa5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void compute_medial_quadric </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute medial quadric for every vertex. </p>

</div>
</div>
<a class="anchor" id="a272987fd152d3b11f597ec0c6936fb29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void constrain_displacements </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_disp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Contrain displacements to _maxdisp. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l01424">1424</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="op3args_8C_source.html#l00363">Rocblas::div_scalar()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="mapbasic_8h_source.html#l00112">Vector_3&lt; Type &gt;::norm()</a>, and <a class="el" href="Rocon_2include_2NVec_8h_source.html#l00195">nvc::norm()</a>.</p>
<div class="fragment"><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                                                         {</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::const_disp&quot;</span>);</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  </div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a> &gt; 0.0){</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    </div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <span class="keywordtype">int</span> disp_id = w_disp-&gt;id();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="keywordtype">double</span> max_norm = 0.0;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="keyword">const_cast&lt;</span>COM::Window*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>)-&gt;panes(allpanes);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    </div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      </div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *ptr = NULL;</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      COM::Attribute* ptr_att = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(disp_id);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;      <span class="keywordtype">void</span>* void_ptr = ptr_att-&gt;pointer();</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;      ptr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span>(void_ptr);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0,<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a> = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){   </div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">norm</a> = ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].<a class="code" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">norm</a>();</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        <span class="keywordflow">if</span>(norm &gt; max_norm)</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;          max_norm = <a class="code" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">norm</a>;      </div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;      }</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    }</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(max_norm,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <span class="keywordflow">if</span>(max_norm &gt; <a class="code" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a>){</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordtype">double</span> div = max_norm/<a class="code" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a>;</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;      <a class="code" href="classRocblas.html#a8ddb762562e041c1c7155a8eac24e996">Rocblas::div_scalar</a>(const_cast&lt;const COM::Attribute*&gt;(w_disp),&amp;div,w_disp);</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    }</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  }</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::const_disp&quot;</span>);</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;}</div>
<div class="ttc" id="classRocblas_html_a8ddb762562e041c1c7155a8eac24e996"><div class="ttname"><a href="classRocblas.html#a8ddb762562e041c1c7155a8eac24e996">Rocblas::div_scalar</a></div><div class="ttdeci">static void div_scalar(const Attribute *x, const void *y, Attribute *z, int swap=0)</div><div class="ttdoc">Operation wrapper for division with y as a scalar pointer. </div><div class="ttdef"><b>Definition:</b> <a href="op3args_8C_source.html#l00363">op3args.C:363</a></div></div>
<div class="ttc" id="classRocmop_html_a1c0338024da3f5698c89c96991759343"><div class="ttname"><a href="classRocmop.html#a1c0338024da3f5698c89c96991759343">Rocmop::_maxdisp</a></div><div class="ttdeci">float _maxdisp</div><div class="ttdoc">Maximum displacement allowed. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00512">Rocmop_1.h:512</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="namespacenvc_html_a7ef4a2939f7598fd25136135eafb0ce6"><div class="ttname"><a href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">nvc::norm</a></div><div class="ttdeci">T norm(const NVec&lt; DIM, T &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="Rocon_2include_2NVec_8h_source.html#l00195">Rocon/include/NVec.h:195</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="classVector__3_html_afc75c733aff7cb9c0216f363888b1dff"><div class="ttname"><a href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">Vector_3::norm</a></div><div class="ttdeci">Type norm() const </div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00112">mapbasic.h:112</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a272987fd152d3b11f597ec0c6936fb29_cgraph.png" border="0" usemap="#classRocmop_a272987fd152d3b11f597ec0c6936fb29_cgraph" alt=""/></div>
<map name="classRocmop_a272987fd152d3b11f597ec0c6936fb29_cgraph" id="classRocmop_a272987fd152d3b11f597ec0c6936fb29_cgraph">
<area shape="rect" id="node3" href="classRocblas.html#a8ddb762562e041c1c7155a8eac24e996" title="Operation wrapper for division with y as a scalar pointer. " alt="" coords="223,5,359,35"/><area shape="rect" id="node7" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff" title="Vector_3::norm" alt="" coords="236,59,345,88"/><area shape="rect" id="node9" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6" title="nvc::norm" alt="" coords="251,112,331,141"/><area shape="rect" id="node5" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="408,5,544,35"/><area shape="rect" id="node11" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="455,85,497,115"/><area shape="rect" id="node13" href="namespacenvc.html#a4ea00221667e66f4029614e350ea5745" title="nvc::norm2" alt="" coords="433,139,519,168"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a272987fd152d3b11f597ec0c6936fb29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void constrain_displacements </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_disp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Contrain displacements to _maxdisp. </p>

</div>
</div>
<a class="anchor" id="a09fc306daf0e04e206377cf74dde163a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_pane_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are on pane borders. </p>

</div>
</div>
<a class="anchor" id="a09fc306daf0e04e206377cf74dde163a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_pane_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are on pane borders. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00603">603</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="read_8cpp_source.html#l00079">i</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                                  {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::determine_pane_border&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  std::vector&lt;const COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordtype">int</span> local_npanes = (int)allpanes.size();</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>.resize(local_npanes);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <a class="code" href="classRocmop.html#a13d6fc485cb1c3b7b338e5514dd4b1c0">_is_pane_bnd_elem</a>.resize(local_npanes);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt; local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordtype">int</span> size_of_real_nodes = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes();</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordtype">int</span> size_of_real_elems = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements();</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(size_of_real_nodes,0);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    std::vector&lt;bool&gt; is_isolated; <span class="comment">// is a node isolated?</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    MAP::Pane_boundary pb (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    pb.determine_border_nodes(<a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>], is_isolated);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <a class="code" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a>(<a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>,<a class="code" href="classRocmop.html#a13d6fc485cb1c3b7b338e5514dd4b1c0">_is_pane_bnd_elem</a>);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::determine_pane_border&quot;</span> &lt;&lt; std::endl;    </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_aed9d66a20551e336e052787d6f094b23"><div class="ttname"><a href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">Rocmop::_is_pane_bnd_node</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_pane_bnd_node</div><div class="ttdoc">Is the node on the pane boundary? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00435">Rocmop.h:435</a></div></div>
<div class="ttc" id="classRocmop_html_a13d6fc485cb1c3b7b338e5514dd4b1c0"><div class="ttname"><a href="classRocmop.html#a13d6fc485cb1c3b7b338e5514dd4b1c0">Rocmop::_is_pane_bnd_elem</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_pane_bnd_elem</div><div class="ttdoc">Does the element contain nodes on the pane boundary? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00436">Rocmop.h:436</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c86012e49ffd3488beacec5a4f5f03"><div class="ttname"><a href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">Rocmop::mark_elems_from_nodes</a></div><div class="ttdeci">void mark_elems_from_nodes(std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</div><div class="ttdoc">Mark the nodes which contain marked elems. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00712">Rocmop.C:712</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09fc306daf0e04e206377cf74dde163a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_pane_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are on pane borders. </p>

</div>
</div>
<a class="anchor" id="a305b7c02548073fc9d94384645dee746"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_physical_border </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_is_surface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes are on the physical border. </p>

</div>
</div>
<a class="anchor" id="a305b7c02548073fc9d94384645dee746"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_physical_border </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_is_surface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes are on the physical border. </p>

<p>Definition at line <a class="el" href="smooth__mesquite__ng_8C_source.html#l00473">473</a> of file <a class="el" href="smooth__mesquite__ng_8C_source.html">smooth_mesquite_ng.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="roccom__c_09_09_8h_source.html#l00563">COM_compatible_types()</a>, <a class="el" href="roccom__basic_8h_source.html#l00130">COM_INT</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_PCONN</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Vector__n_8h_source.html#l00354">max()</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, <a class="el" href="Rocmap_8C_source.html#l00077">Rocmap::reduce_maxabs_on_shared_nodes()</a>, <a class="el" href="ex1_8C_source.html#l00094">total_npanes</a>, and <a class="el" href="Rocmap_8C_source.html#l00087">Rocmap::update_ghosts()</a>.</p>
<div class="fragment"><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                                                                {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface, <span class="stringliteral">&quot;Unexpected NULL pointer&quot;</span>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <a class="code" href="roccom__c_09_09_8h.html#a701c22c997913a2773d36a0b47683716">COM_compatible_types</a>( w_is_surface-&gt;data_type(), <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>),</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                     <span class="stringliteral">&quot;Surface-list must have integer type&quot;</span>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface-&gt;is_nodal() == 1,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                     <span class="stringliteral">&quot;Surface-list must be nodal&quot;</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface-&gt;size_of_components() == 1,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                     <span class="stringliteral">&quot;Surface-list must have a single component&quot;</span>);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordtype">int</span> w_is_surface_id = w_is_surface-&gt;id();</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// This function is implemented as follows:</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// 0 Declare and resize data structures.</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// </span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// Loop through panes</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">//   1 Get the pane boundary nodes and faces using Rocmap::Pane_boundary</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">//   2 Identify adjacent panes, and shared nodes.  Also, create an id mappings</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">//     from a node&#39;s id to its index in the shared node array and vice versa.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">//   3 Identify &quot;possibly shared faces&quot;, those faces whose nodes are all</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">//     shared with the same adjacent pane. Make a list of these faces.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="comment">// 4 Communicate the size of the local face list to send to / recieve from</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">//   adjacent panes.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="comment">// 5 Create buffers for the incoming face list and communicate faces lists.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <span class="comment">// 6 For every face received, remove any matching faces in the list of </span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  <span class="comment">//   boundary faces.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="comment">// 7 Mark all nodes still contained in boundary faces as physical boundary</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">//   nodes.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// 0 Declare and resize data structures.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="comment">// vector corresponds to adjacent panes (reused amongst local panes)</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  std::vector&lt;bool&gt; is_border; <span class="comment">// is a node a border node?</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  std::vector&lt;bool&gt; is_shared; <span class="comment">// is a node a shared node?</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  std::vector&lt;bool&gt; is_isolated; <span class="comment">// is a node isolated?</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  std::vector&lt;MAP::Facet_ID&gt; border_facet_list;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="comment">// Space in which false pconns are built. (reused amongs local panes)</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="comment">// outside vectors correspond to adjacent panes</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// inside vectors correspond to connectivity information</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">//std::vector&lt;std::vector&lt;int&gt; &gt; false_pconn;</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// Per-local-pane data structures</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// outside vectors correspond to the local panes</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// inside vectors correspond to adjacent panes</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  std::vector&lt;std::set&lt;MAP::Facet_ID&gt; &gt; border_facets; <span class="comment">// List of all border faces.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  std::vector&lt;std::vector&lt;Corners2Face_Map&gt; &gt; maybe_shared; <span class="comment">// Possibly shared facets</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  std::vector&lt;std::vector&lt;Id_Map &gt; &gt; lid2ind; <span class="comment">// map from local id to pconn index</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  std::vector&lt;std::vector&lt;Id_Map &gt; &gt; ind2lid; <span class="comment">// map from pconn index to local id</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  std::vector&lt;std::vector&lt;std::set&lt;int&gt; &gt; &gt; adj_pane_set; <span class="comment">// nodes shared with adjacent panes</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  std::vector&lt;std::vector&lt;int&gt; &gt; adj_pane_id; <span class="comment">// ids of adjacent panes</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  std::vector&lt;std::vector&lt;int&gt; &gt; adj_pane_recv; <span class="comment">// amount of data coming from adjacent panes.</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="comment">// The amount of data to be sent by each pane</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  std::vector&lt;int&gt; send_sizes;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  std::set&lt;MAP::Facet_ID&gt;::iterator bf_it, bf_it2;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  Id_Map::iterator idm_it,idm_it2; <span class="comment">// iterator for lid2ind or ind2lid</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  Corners2Face_Map::iterator ms_it,ms_it2;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  std::set&lt;int &gt;::iterator aps_it, aps_it2; <span class="comment">//iterator for adj_pane_map</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// get the pconn offset</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keywordtype">int</span> pconn_offset = MAP::Pane_connectivity::pconn_offset();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// Resize per-local-pane data structures</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  std::vector&lt;COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  COM::Window * wrk_window = w_is_surface-&gt;window();</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  wrk_window-&gt;panes(allpanes);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a> = (int)allpanes.size(); </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  border_facets.resize(total_npanes);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  maybe_shared.resize(total_npanes);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  lid2ind.resize(total_npanes);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  ind2lid.resize(total_npanes);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  adj_pane_set.resize(total_npanes);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  adj_pane_id.resize(total_npanes);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  adj_pane_recv.resize(total_npanes);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  send_sizes.resize(total_npanes);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// Register an attribute for our fake pconn.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  COM::Attribute * false_pconn = wrk_window-&gt;new_attribute(<span class="stringliteral">&quot;false_pconn&quot;</span>, <span class="charliteral">&#39;p&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// Register an attribute for sending and receiving sizes</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// also used for sending buffer</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  COM::Attribute *com_buff = wrk_window-&gt;new_attribute(<span class="stringliteral">&quot;com_buff&quot;</span>, <span class="charliteral">&#39;p&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>, 1,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordtype">int</span> w_com_buff_id = com_buff-&gt;id();</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="comment">// Loop through panes</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="keywordtype">int</span> size_of_real_nodes = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes();</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    is_border.clear();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    is_shared.clear();</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    is_isolated.clear();</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    is_border.resize(size_of_real_nodes,0);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    is_shared.resize(size_of_real_nodes,0);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    is_isolated.resize(size_of_real_nodes,0);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    send_sizes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>] = 0;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="comment">//   1 Get the pane boundary nodes and faces using Rocmap::Pane_boundary</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// Determine the border nodes.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    MAP::Pane_boundary pb(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    pb.determine_border_nodes(is_border, is_isolated, &amp;border_facet_list);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="comment">// put the list of border facets into a set for faster searching</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> =0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=border_facet_list.size(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].insert(border_facet_list[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    </div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">//   2 Identify adjacent panes, and shared nodes.  Also, create an id mappings</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">//     from a node&#39;s id to its index in the shared node array and vice versa.</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">// Obtain the pane connectivity of the local pane</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keyword">const</span> COM::Attribute *pconn = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> *vs = (<span class="keyword">const</span> <span class="keywordtype">int</span>*)pconn-&gt;pointer() + pconn_offset;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordtype">int</span> vs_size = pconn-&gt;size_of_real_items() - pconn_offset;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// Determine the number of communicating panes for shared nodes.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0, nj=vs_size; j&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; j+=vs[j+1]+2) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">if</span> (wrk_window-&gt;owner_rank( vs[j]) &gt;=0) ++count;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="comment">// Resize per-adjacent-pane data structures</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">//false_pconn.resize(count);</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(count);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    lid2ind[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(count);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    ind2lid[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(count);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    adj_pane_set[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(count);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(count);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(count);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// Loop through communicating panes for shared nodes.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0; j&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, index+=vs[index+1]+2) {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// We skip the panes that are not in the current window </span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keywordflow">while</span> ( wrk_window-&gt;owner_rank(vs[index])&lt;0) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        index+=vs[index+1]+2;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( index&lt;=vs_size, <span class="stringliteral">&quot;Invalid communication map&quot;</span>);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      } </div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = vs[index];</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="comment">// Add this pane to current shared node&#39;s list, mark node as shared and</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="comment">// keep track of the mapping between array index and local node id</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;vs[index+1]; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        is_shared[vs[index+2+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1]=1;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        adj_pane_set[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].insert(vs[index+2+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        lid2ind[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].insert(std::make_pair(vs[index+2+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        ind2lid[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].insert(std::make_pair(<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>,vs[index+2+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]));</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    } </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Pane &quot;</span> &lt;&lt; allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id() &lt;&lt; <span class="stringliteral">&quot; lid2ind = \n&quot;</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j &lt; count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot; to Pane &quot;</span> &lt;&lt; adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] &lt;&lt; <span class="stringliteral">&quot; =\n&quot;</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> &lt; ind2lid[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].size();++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; ind2lid[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Pane &quot;</span> &lt;&lt; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; shared nodes = \n&quot;</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;is_shared.size(); ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span>(is_shared[j])</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        std::cout &lt;&lt; j+1 &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    }</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n nodes shared with othe panes&quot;</span>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    aps_it = adj_pane_set[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][0].begin();</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">for</span>(; aps_it != adj_pane_set[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][0].end(); ++aps_it){</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      std::cout &lt;&lt; *aps_it &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    }</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">//   3 Identify &quot;possibly shared faces&quot;, those faces whose nodes are all</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">//     shared with the same adjacent pane. Make a list of these faces.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    bf_it2 = border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].end();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    bf_it = border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].begin();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">//for(int j=0, nj=border_facets[i].size(); j&lt;nj; ++j){</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">for</span>(; bf_it != bf_it2; ++bf_it){</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      Element_node_enumerator ene(allpanes[i], (*bf_it).eid());</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      Facet_node_enumerator fne (&amp;ene, (*bf_it).lid());</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="comment">//if all the nodes are shared</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="keywordflow">if</span>( is_shared[fne[0]-1] &amp;&amp;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;          is_shared[fne[1]-1] &amp;&amp;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;          is_shared[fne[2]-1] &amp;&amp;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;          fne.size_of_edges()&gt;3?is_shared[fne[3]-1]:1</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;          ){</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="comment">// then see if they are all shared by the same panes</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <a class="code" href="structFour__tuple.html">Four_tuple</a> ns( fne[0], fne[1], fne[2], fne.size_of_edges()&gt;3?fne[3]:-1);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;count; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;          aps_it2 = adj_pane_set[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>].end();</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;          <span class="keywordflow">if</span>(aps_it2 != adj_pane_set[i][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>].find(fne[0]) &amp;&amp;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;             aps_it2 != adj_pane_set[i][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>].find(fne[1]) &amp;&amp;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;             aps_it2 != adj_pane_set[i][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>].find(fne[2]) &amp;&amp;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;             (fne.size_of_edges()&gt;3?(adj_pane_set[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>].find(fne[3]) != aps_it2):1)){</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            <span class="comment">// and if they are</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="comment">// then this facet is possibly shared with the adjacent node</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;            <a class="code" href="structFour__tuple.html">Four_tuple</a> ns( fne[0], fne[1], fne[2], fne.size_of_edges()&gt;3?fne[3]:-1);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            std::sort(&amp;ns[0],&amp;ns[4]);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>].insert(std::make_pair(ns,(*bf_it)));</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;          }</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      }</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    </div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">// print out the list of possibly shared nodes:</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Pane &quot;</span> &lt;&lt; allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id() &lt;&lt; <span class="stringliteral">&quot; possibly shared panes\n&quot;</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j = 0; j&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;  faces possibly shared with Pane &quot;</span> &lt;&lt; adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      ms_it2 = maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].end();</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">for</span>(ms_it = maybe_shared[i][j].begin(); ms_it != ms_it2; ++ms_it){</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; (ms_it-&gt;first)[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                  &lt;&lt; (ms_it-&gt;first)[1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                  &lt;&lt; (ms_it-&gt;first)[2] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                  &lt;&lt; (ms_it-&gt;first)[3] &lt;&lt; <span class="stringliteral">&quot;)  &quot;</span>;          </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      }</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    wrk_window-&gt;set_size(<span class="stringliteral">&quot;com_buff&quot;</span>, allpanes[i]-&gt;<span class="keywordtype">id</span>(), count, 0);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordtype">int</span>* my_buff;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    wrk_window-&gt;resize_array(<span class="stringliteral">&quot;com_buff&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">int</span>)allpanes[i]-&gt;<span class="keywordtype">id</span>(),</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                             reinterpret_cast&lt;void**&gt;(&amp;my_buff));</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// find the size of the pconn to create</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">// 3*(pconn_offset)           // number of communicating blocks</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// + 3                        // shared node block</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// + 6*count                  // (pane id,node count,array-id for each adj. pane)*2blocks</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordtype">int</span> my_size = 3*pconn_offset + 3 + 6*count;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordtype">int</span>* my_pconn;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    wrk_window-&gt;set_size(<span class="stringliteral">&quot;false_pconn&quot;</span>, allpanes[i]-&gt;<span class="keywordtype">id</span>(), my_size, </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                         my_size-(3+pconn_offset));</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    wrk_window-&gt;resize_array(<span class="stringliteral">&quot;false_pconn&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">int</span>)allpanes[i]-&gt;<span class="keywordtype">id</span>(),</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                             reinterpret_cast&lt;void**&gt;(&amp;my_pconn));</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// Add shared node data</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span>(pconn_offset){my_pconn[0]=1;++my_pconn;}</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    my_pconn[0]=1; my_pconn[1]=1; my_pconn[2]=1;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    my_pconn += 3;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="comment">// filling in send buffer and real nodes to send info.</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">if</span>(pconn_offset){my_pconn[0]=count;++my_pconn;}</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      <span class="comment">// print communicating pane id</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      my_pconn[0] = adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="comment">// print number of ints to communicate</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      my_pconn[1] = 1;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="comment">// print index-id of information</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      my_pconn[2] = j+1;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      my_pconn+=3;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="comment">// store size of information to send</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      my_buff[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 4*maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].size();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      send_sizes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>] += my_buff[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">// add ghost nodes to receive info.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span>(pconn_offset){my_pconn[0]=count;++my_pconn;}</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      my_pconn[0] = adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      my_pconn[1] = 1;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      my_pconn[2] = j+1;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      my_pconn+=3;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    </div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j=0; j&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, index+=vs[index+1]+2) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="comment">// We skip the panes that are not in the current window </span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">while</span> ( wrk_window-&gt;owner_rank(vs[index])&lt;0)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        index+=vs[index+1]+2;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="comment">// List the communicating pane, 1 item to send, and the index of that item in a </span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="comment">// local panel array</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      my_pconn[3*<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = vs[index];</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      my_pconn[3*j+1] = 1;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      my_pconn[3*j+2] = j+1;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      my_pconn[3*(count+<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)+pconn_offset] = vs[index];</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      my_pconn[3*(count+<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)+1+pconn_offset] = 1;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      my_pconn[3*(count+<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)+2+pconn_offset] = j+1;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      my_pconn[3*(2*count+<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)+2*pconn_offset] = vs[index];</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      my_pconn[3*(2*count+<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)+1+2*pconn_offset] = 1;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      my_pconn[3*(2*count+<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)+2+2*pconn_offset] = j+1;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="comment">// store the size of the buffer to send across</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      my_buff[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 4*maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].size();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      send_sizes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>] += my_buff[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;pconn_offset = &quot;</span> &lt;&lt; pconn_offset &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;total size = &quot;</span> &lt;&lt; my_size &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;ghost sized = &quot;</span> &lt;&lt; my_size - pconn_offset &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  wrk_window-&gt;init_done();</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">//print out pconn, for debugging.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;FALSE pconn for pane &quot;</span> &lt;&lt; allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    COM::Attribute *my_pconn = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_false_pconn_id);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordtype">int</span>* ptr = (<span class="keywordtype">int</span>*)my_pconn-&gt;pointer();</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=my_pconn-&gt;size_of_items();<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>;++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      std::cout &lt;&lt; ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// print out size of buffer being sent across</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;size of face list\n&quot;</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    COM::Attribute *my_bsize = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_com_buff_id);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    ptr = (<span class="keywordtype">int</span>*)my_bsize-&gt;pointer();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j =0; j&lt;my_bsize-&gt;size_of_items(); ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      std::cout &lt;&lt; ptr[j] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  <span class="comment">// 4 Communicate the size of the local face list to send to / recieve from</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="comment">//   adjacent panes.Pane_connectivity::</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(com_buff,</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                        false_pconn);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">//print out pconn, for debugging.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    COM::Attribute *my_pconn = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_false_pconn_id);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordtype">int</span>* ptr = (<span class="keywordtype">int</span>*)my_pconn-&gt;pointer();</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0,nk=my_pconn-&gt;size_of_items();<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>;++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      std::cout &lt;&lt; ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// print out possibly shared faces</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;possibly shared faces\n&quot;</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">for</span>(ms_it = maybe_shared[i][0].begin(), ms_it2 = maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][0].end(); </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        ms_it != ms_it2; ++ms_it){</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                &lt;&lt; (ms_it-&gt;first)[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                &lt;&lt; (ms_it-&gt;first)[1] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                &lt;&lt; (ms_it-&gt;first)[2] &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                &lt;&lt; (ms_it-&gt;first)[3] &lt;&lt; <span class="stringliteral">&quot;) &quot;</span>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="comment">// print out size of buffer being sent across</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;size of communicated face list\n&quot;</span>;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    COM::Attribute *my_bsize = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_com_buff_id);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    ptr = (<span class="keywordtype">int</span>*)my_bsize-&gt;pointer();</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j =0; j &lt;adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size(); ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>)</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      std::cout &lt;&lt; ptr[j] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="comment">// 5 Create buffers for the incoming face list and communicate faces lists.</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">// loop through panes</span></div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// get pane level attributes and pointers</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    COM::Attribute *p_com_buff = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_com_buff_id);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordtype">int</span> *com_buff_ptr = (<span class="keywordtype">int</span>*)p_com_buff-&gt;pointer();</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">// find the number of adjacent panes</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordtype">int</span> count = adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size();</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    <span class="comment">// find the size of data to be received and sent.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordtype">int</span> recv_size = 0;</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// add up the sizes of all the buffers being sent</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt; count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      recv_size += com_buff_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = com_buff_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordtype">int</span> send_size = send_sizes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="comment">// find the size of the pconn to create</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// 3*(pconn_offset)           // number of communicating blocks</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="comment">// + 3                        // shared node block</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="comment">// + 4*count                  // (pane id and node count for each adj. pane)*2blocks</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="comment">// + recv_size+send_size      // number of nodes in facet lists</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">int</span> pconn_size = 3*(pconn_offset)+3+4*count+recv_size+send_size;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot; SIZES\nrecv_size = &quot;</span> &lt;&lt; recv_size &lt;&lt; <span class="stringliteral">&quot; send_size = &quot;</span> &lt;&lt; send_size</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; pconn size = &quot;</span> &lt;&lt; pconn_size &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; 3*pconn_offset = &quot;</span> &lt;&lt; 3*pconn_offset</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; 4*count = &quot;</span> &lt;&lt; 4*count &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    wrk_window-&gt;set_size(<span class="stringliteral">&quot;com_buff&quot;</span>, allpanes[i]-&gt;<span class="keywordtype">id</span>(),<a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>(send_size,recv_size),0);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    wrk_window-&gt;resize_array(<span class="stringliteral">&quot;com_buff&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">int</span>)allpanes[i]-&gt;<span class="keywordtype">id</span>(),</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                             reinterpret_cast&lt;void**&gt;(&amp;com_buff_ptr));    </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordtype">int</span>* pconn_ptr;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    wrk_window-&gt;set_size(<span class="stringliteral">&quot;false_pconn&quot;</span>, allpanes[i]-&gt;<span class="keywordtype">id</span>(), pconn_size, </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                         pconn_size - (3+pconn_offset));</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    wrk_window-&gt;resize_array(<span class="stringliteral">&quot;false_pconn&quot;</span>, (<span class="keyword">const</span> <span class="keywordtype">int</span>)allpanes[i]-&gt;<span class="keywordtype">id</span>(),</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                             reinterpret_cast&lt;void**&gt;(&amp;pconn_ptr));</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// add shared node data</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordflow">if</span>(pconn_offset){pconn_ptr[0]=1;++pconn_ptr;}</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    pconn_ptr[0]=1; pconn_ptr[1]=1; pconn_ptr[2]=1;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    pconn_ptr += 3;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">// now fill in the send buffer and real nodes to send info. in the pconn</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keywordflow">if</span>(pconn_offset){pconn_ptr[0]=count;++pconn_ptr;}</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="keywordtype">int</span> com_ind = 0; <span class="comment">// index of next place in com_buff</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j =0; j&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      pconn_ptr[0]=adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      pconn_ptr[1]=4*maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].size();</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      pconn_ptr+=2;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      ms_it2 = maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].end();</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <span class="keywordflow">for</span>(ms_it = maybe_shared[i][j].begin(); ms_it != ms_it2; </div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          ++ms_it, com_ind+=4, pconn_ptr+=4){</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="comment">// Convert nodal id&#39;s to pconn based index id&#39;s and place in the comm buffer</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="keyword">const</span> <a class="code" href="structFour__tuple.html">Four_tuple</a>* ft = &amp;(ms_it-&gt;first); </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">if</span> ((*ft)[0]==-1)</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;          com_buff_ptr[com_ind] = -1;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          idm_it = lid2ind[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].find((*ft)[0]);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        idm_it = lid2ind[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].find((*ft)[1]);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        com_buff_ptr[com_ind+1] = idm_it-&gt;second;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        idm_it = lid2ind[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].find((*ft)[2]);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        com_buff_ptr[com_ind+2] = idm_it-&gt;second;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        idm_it = lid2ind[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].find((*ft)[3]);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        com_buff_ptr[com_ind+3] = idm_it-&gt;second;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        std::sort(&amp;com_buff_ptr[com_ind],&amp;com_buff_ptr[com_ind+4]);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        <span class="comment">// Also fill in the pconn</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        pconn_ptr[0] = com_ind+1;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        pconn_ptr[1] = com_ind+2;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        pconn_ptr[2] = com_ind+3;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        pconn_ptr[3] = com_ind+4;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      }</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// now fill in the ghost nodes to receive info. in the pconn</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordflow">if</span>(pconn_offset){pconn_ptr[0]=count;++pconn_ptr;}</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    com_ind = 1;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      pconn_ptr[0]=adj_pane_id[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;      pconn_ptr[1]=adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        pconn_ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+2] = <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+com_ind;     </div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      }   </div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      com_ind += adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      pconn_ptr += 2+adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="comment">//print out pconn, for debugging.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Facet list FALSE pconn for pane &quot;</span> &lt;&lt; allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    COM::Attribute *my_pconn = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_false_pconn_id);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordtype">int</span>* ptr = (<span class="keywordtype">int</span>*)my_pconn-&gt;pointer();</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0,nk=my_pconn-&gt;size_of_items();<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>;++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      std::cout &lt;&lt; ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Facet list buffer for pane &quot;</span> &lt;&lt; allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    COM::Attribute *my_buff = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_com_buff_id);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    ptr = (<span class="keywordtype">int</span>*)my_buff-&gt;pointer();</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0,nk=my_buff-&gt;size_of_items();<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>;++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      std::cout &lt;&lt; ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    }</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  }</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="comment">// update</span></div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(com_buff,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                        false_pconn);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">//print out pconn, for debugging.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Updated Facet list buffer for pane &quot;</span> &lt;&lt; allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id() &lt;&lt; std::endl;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    COM::Attribute *my_buff = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_com_buff_id);</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordtype">int</span>* ptr = (<span class="keywordtype">int</span>*)my_buff-&gt;pointer();</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0,nk=my_buff-&gt;size_of_items();<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>;++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      std::cout &lt;&lt; ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// 6 For every face received, remove any matching faces in the list of </span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">//   boundary faces.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="comment">// loop through all panes</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i =0; i&lt;<a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    COM::Attribute *my_buff = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_com_buff_id);</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordtype">int</span>* buff_ptr = (<span class="keywordtype">int</span>*)my_buff-&gt;pointer();</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordtype">int</span> count = adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// loop through adjacent panes</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;Pane &quot; &lt;&lt; allpanes[i]-&gt;id() &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;count; buff_ptr += adj_pane_recv[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>], ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;      <span class="comment">//std::cout &lt;&lt; &quot;Converting node array\n&quot;;</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      <span class="comment">// convert all node array indices to local id</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      <span class="comment">//std::cout &lt;&lt; adj_pane_recv[i][j] &lt;&lt; &quot; items being converted\n&quot;;</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0, nk =adj_pane_recv[i][j]; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">if</span>(buff_ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]!=-1){</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;          buff_ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] = ind2lid[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][buff_ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]];</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      }</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="comment">//      std::cout &lt;&lt; &quot;Checking for matching facets with pane&quot; &lt;&lt; adj_pane_id[i][j] &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;      <span class="comment">// check for matching facets</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      ms_it2 = maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].end();</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      bf_it2 = border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].end();</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0, nk=adj_pane_recv[i][j]; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+=4){</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <a class="code" href="structFour__tuple.html">Four_tuple</a> ns(buff_ptr[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>],buff_ptr[k+1],buff_ptr[k+2],buff_ptr[k+3]);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        std::sort(&amp;ns[0],&amp;ns[4]);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="comment">//std::cout &lt;&lt; &quot; (&quot; &lt;&lt; ns[0] &lt;&lt; &quot; &quot; &lt;&lt; ns[1] &lt;&lt; &quot; &quot; &lt;&lt; ns[2] &lt;&lt; &quot; &quot; &lt;&lt; ns[3] &lt;&lt; &quot;) &quot;;</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        ms_it = maybe_shared[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].find(ns);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">if</span>(ms_it != ms_it2){</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;          <span class="comment">//std::cout &lt;&lt; &quot;found &quot;;</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;          Element_node_enumerator ene(allpanes[i], (ms_it-&gt;second).eid());</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;          Facet_node_enumerator fne (&amp;ene, (ms_it-&gt;second).lid());</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;          <span class="comment">//std::cout &lt;&lt; &quot;(&quot; &lt;&lt; fne[0] &lt;&lt; &quot; &quot; &lt;&lt; fne[1]</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;          <span class="comment">//        &lt;&lt; &quot; &quot; &lt;&lt; fne[2];</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;          <span class="comment">//      if(fne.size_of_edges()&gt;3)</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;          <span class="comment">//  std::cout &lt;&lt; &quot; &quot; &lt;&lt; fne[3];</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;          <span class="comment">//std::cout &lt;&lt; &quot;)\n&quot;;</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;          MAP::Facet_ID fid = ms_it-&gt;second;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;          bf_it = border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].find(fid);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;          <span class="keywordflow">if</span>(bf_it != bf_it2)</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].erase(fid);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        }</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        else</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;          ;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;          <span class="comment">//std::cout &lt;&lt; &quot;not found\n&quot;;</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="comment">//  std::cout &lt;&lt; &quot;On to step 7 \n&quot;;</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <span class="comment">// 7 Mark all nodes still contained in boundary faces as physical boundary</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="comment">//   nodes.  </span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i =0; i &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="comment">//    std::cout &lt;&lt; &quot;Pane &quot; &lt;&lt; i &lt;&lt; &quot; detected surface faces\n&quot;;</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    bf_it2 = border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].end();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">for</span>(bf_it = border_facets[i].begin(); bf_it!= bf_it2; ++bf_it){</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      Element_node_enumerator ene(allpanes[i], (*bf_it).eid());</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      Facet_node_enumerator fne (&amp;ene, (*bf_it).lid());</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      <span class="comment">//std::cout &lt;&lt; &quot;(&quot; &lt;&lt; fne[0] &lt;&lt; &quot; &quot; &lt;&lt; fne[1]</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="comment">//                &lt;&lt; &quot; &quot; &lt;&lt; fne[2];</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      <span class="comment">//  if(fne.size_of_edges()&gt;3)</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;      <span class="comment">//        std::cout &lt;&lt; &quot; &quot; &lt;&lt; fne[3];</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="comment">//std::cout &lt;&lt; &quot;)&quot;;</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;\n\n&quot;;</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;  }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    COM::Attribute *p_is_surface = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_is_surface_id);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="keywordtype">int</span>* surf_ptr = (<span class="keywordtype">int</span>*)p_is_surface-&gt;pointer();</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">// initialize surface to 0s</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0, nj= p_is_surface-&gt;size_of_items();j&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      surf_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 0;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    }</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    bf_it2 = border_facets[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].end();</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">//std::cout &lt;&lt; &quot;Pane &quot; &lt;&lt; allpanes[i]-&gt;id() &lt;&lt; &quot; marking surface nodes\n&quot;;</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordflow">for</span>(bf_it = border_facets[i].begin(); bf_it!= bf_it2; ++bf_it){</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      Element_node_enumerator ene(allpanes[i], (*bf_it).eid());</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      Facet_node_enumerator fne (&amp;ene, (*bf_it).lid());</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      surf_ptr[fne[0]-1] = 1;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      surf_ptr[fne[1]-1] = 1;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      surf_ptr[fne[2]-1] = 1;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="comment">//std::cout &lt;&lt; fne[0] &lt;&lt; &quot; &quot; &lt;&lt; fne[1] &lt;&lt; &quot; &quot; &lt;&lt; fne[2] &lt;&lt; &quot;\n&quot;;</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      <span class="keywordflow">if</span>(fne.size_of_edges()&gt;3)</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        surf_ptr[fne[3]-1] = 1;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="comment">//    std::cout &lt;&lt; &quot;\n\n&quot;;</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    COM::Attribute *p_pconn = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">//    std::cout &lt;&lt; &quot;PANE &quot; &lt;&lt; allpanes[i]-&gt;id() &lt;&lt; &quot;&#39;s real pconn size = &quot;</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="comment">//        &lt;&lt; p_pconn-&gt;size_of_real_items() &lt;&lt; &quot; and ghost size = &quot;</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">//        &lt;&lt; p_pconn-&gt;size_of_items()-p_pconn-&gt;size_of_real_items() &lt;&lt; &quot;\n\n&quot;;</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">//int* ptr = (int*)p_pconn-&gt;pointer();</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="comment">//for(int j=0, nj=p_pconn-&gt;size_of_items(); j&lt;nj; ++j){</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      <span class="comment">//      std::cout &lt;&lt; ptr[j] &lt;&lt; &quot; &quot;;</span></div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="comment">//    std::cout &lt;&lt; &quot;\n\n&quot;;</span></div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="comment">// update</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <a class="code" href="classRocmap.html#a4669730c9a3a6f95b39f36ac44ce2718">Rocmap::reduce_maxabs_on_shared_nodes</a>(w_is_surface);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(w_is_surface);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// delete buffer and false pconn attributes</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  wrk_window-&gt;delete_attribute(com_buff-&gt;name());</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  wrk_window-&gt;delete_attribute(false_pconn-&gt;name());  </div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div>
<div class="ttc" id="structFour__tuple_html"><div class="ttname"><a href="structFour__tuple.html">Four_tuple</a></div><div class="ttdoc">A structure used to represent element faces. </div><div class="ttdef"><b>Definition:</b> <a href="Pane__boundary_8C_source.html#l00060">Pane_boundary.C:60</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="Vector__n_8h_html_a7dddfa733bea2c50f405764d775e636a"><div class="ttname"><a href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a></div><div class="ttdeci">Vector_n max(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00354">Vector_n.h:354</a></div></div>
<div class="ttc" id="ex1_8C_html_a311773deddd1b35eca23e4835577ea57"><div class="ttname"><a href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a></div><div class="ttdeci">const int total_npanes</div><div class="ttdef"><b>Definition:</b> <a href="ex1_8C_source.html#l00094">ex1.C:94</a></div></div>
<div class="ttc" id="classRocmap_html_a4669730c9a3a6f95b39f36ac44ce2718"><div class="ttname"><a href="classRocmap.html#a4669730c9a3a6f95b39f36ac44ce2718">Rocmap::reduce_maxabs_on_shared_nodes</a></div><div class="ttdeci">static void reduce_maxabs_on_shared_nodes(COM::Attribute *att, COM::Attribute *pconn=NULL)</div><div class="ttdoc">Perform a maxabs-reduction on the shared nodes for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00077">Rocmap.C:77</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM_PCONN</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_a701c22c997913a2773d36a0b47683716"><div class="ttname"><a href="roccom__c_09_09_8h.html#a701c22c997913a2773d36a0b47683716">COM_compatible_types</a></div><div class="ttdeci">int COM_compatible_types(COM_Type type1, COM_Type type2)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00563">roccom_c++.h:563</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00130">roccom_basic.h:130</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classRocmap_html_a748dccffbd1a40c058a05982d3bf04b8"><div class="ttname"><a href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a></div><div class="ttdeci">static void update_ghosts(COM::Attribute *att, const COM::Attribute *pconn=NULL)</div><div class="ttdoc">Update ghost nodal or elemental values for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00087">Rocmap.C:87</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a305b7c02548073fc9d94384645dee746_cgraph.png" border="0" usemap="#classRocmop_a305b7c02548073fc9d94384645dee746_cgraph" alt=""/></div>
<map name="classRocmop_a305b7c02548073fc9d94384645dee746_cgraph" id="classRocmop_a305b7c02548073fc9d94384645dee746_cgraph">
<area shape="rect" id="node3" href="roccom__c_09_09_8h.html#a701c22c997913a2773d36a0b47683716" title="COM_compatible_types" alt="" coords="193,5,356,35"/><area shape="rect" id="node5" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="252,59,297,88"/><area shape="rect" id="node7" href="classRocmap.html#a4669730c9a3a6f95b39f36ac44ce2718" title="Perform a maxabs&#45;reduction on the shared nodes for the given attribute. " alt="" coords="189,111,360,158"/><area shape="rect" id="node22" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8" title="Update ghost nodal or elemental values for the given attribute. " alt="" coords="193,181,356,211"/><area shape="rect" id="node9" href="classPane__communicator.html#af84e5306d7677a0665fa35099278e534" title="Initialize the communication buffers. " alt="" coords="409,151,575,180"/><area shape="rect" id="node11" href="roccom__c_09_09_8h.html#ad0963775a018dcb83d982e5cfeeb3a22" title="COM_get_sizeof" alt="" coords="647,95,767,124"/><area shape="rect" id="node15" href="classPane__communicator.html#a0db778b55c3fc482ecf132594bd6b123" title="Initialize a Pane_comm_buffers for ghost information. " alt="" coords="625,202,788,249"/><area shape="rect" id="node17" href="classPane__communicator.html#a4327966d16b9b3012f1bb61ddc0673d3" title="For a given pane, obtain an internal pane ID which is unique and contiguous across processes..." alt="" coords="837,145,987,191"/><area shape="rect" id="node13" href="commpi_8C.html#aa00c2248b16333919baea12e6935aac9" title="Get the size of a given MPI data type. " alt="" coords="871,92,953,121"/><area shape="rect" id="node19" href="classPane__communicator.html#ae7eeea984bcf7fa59efa96d05a81a901" title="Obtain the process rank of a given pane. " alt="" coords="837,214,987,261"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae6d2093e46e82c6974a7ec1f984ede34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_physical_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are on the physical border. </p>

</div>
</div>
<a class="anchor" id="ae6d2093e46e82c6974a7ec1f984ede34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_physical_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are on the physical border. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00677">677</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, and <a class="el" href="Indexing_8h_source.html#l00006">j</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                                      {</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::determine_physical_border()&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keyword">const</span> std::string surf_attr(<span class="stringliteral">&quot;is_surface&quot;</span>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  COM::Attribute* w_is_surface = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(surf_attr);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface, <span class="stringliteral">&quot;Unexpected NULL pointer&quot;</span>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="keywordtype">int</span> is_surface_id = w_is_surface-&gt;id();</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  std::vector&lt;const COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordtype">int</span> local_npanes = (int)allpanes.size();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>.resize(local_npanes);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes());</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">// get pane level pointer to physical border property.</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keyword">const</span> COM::Attribute *p_is_surface = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(is_surface_id);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordtype">int</span> *is_surface_ptr = (<span class="keywordtype">int</span>*)p_is_surface-&gt;pointer();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">// loop through real nodes</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt; allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">if</span> (is_surface_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>])</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a>(<a class="code" href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">_is_pane_bnd_node</a>,<a class="code" href="classRocmop.html#a13d6fc485cb1c3b7b338e5514dd4b1c0">_is_pane_bnd_elem</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::determine_physical_border()&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_aed9d66a20551e336e052787d6f094b23"><div class="ttname"><a href="classRocmop.html#aed9d66a20551e336e052787d6f094b23">Rocmop::_is_pane_bnd_node</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_pane_bnd_node</div><div class="ttdoc">Is the node on the pane boundary? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00435">Rocmop.h:435</a></div></div>
<div class="ttc" id="classRocmop_html_a13d6fc485cb1c3b7b338e5514dd4b1c0"><div class="ttname"><a href="classRocmop.html#a13d6fc485cb1c3b7b338e5514dd4b1c0">Rocmop::_is_pane_bnd_elem</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_pane_bnd_elem</div><div class="ttdoc">Does the element contain nodes on the pane boundary? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00436">Rocmop.h:436</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c86012e49ffd3488beacec5a4f5f03"><div class="ttname"><a href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">Rocmop::mark_elems_from_nodes</a></div><div class="ttdeci">void mark_elems_from_nodes(std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</div><div class="ttdoc">Mark the nodes which contain marked elems. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00712">Rocmop.C:712</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a305b7c02548073fc9d94384645dee746"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_physical_border </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_is_surface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes are on the physical border. </p>

</div>
</div>
<a class="anchor" id="ae6d2093e46e82c6974a7ec1f984ede34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_physical_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are on the physical border. </p>

</div>
</div>
<a class="anchor" id="a7ab9ce2c2abc714470af5935a1253b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_shared_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are shared. </p>

</div>
</div>
<a class="anchor" id="a7ab9ce2c2abc714470af5935a1253b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_shared_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are shared. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00631">631</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_PCONN</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, and <a class="el" href="Pane__connectivity_8h_source.html#l00074">Pane_connectivity::pconn_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                                    {</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::determine_shared_nodes&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  std::vector&lt;const COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordtype">int</span> local_npanes = (int)allpanes.size();</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <a class="code" href="classRocmop.html#a59ac9f726463b01a03b5beb47e018110">_is_shared_node</a>.resize(local_npanes);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  </div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="comment">//First, get the list of shared nodes.</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; (int)(local_npanes); ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="comment">// Obtain the pane connectivity of the local pane.</span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keyword">const</span> COM::Attribute *pconn = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// Use the pconn offset</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> *vs = (<span class="keyword">const</span> <span class="keywordtype">int</span>*)pconn-&gt;pointer()+<a class="code" href="classPane__connectivity.html#a072f34ae1febfd3cbcb168a18e14207f">Pane_connectivity::pconn_offset</a>();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordtype">int</span> vs_size=pconn-&gt;size_of_real_items()-<a class="code" href="classPane__connectivity.html#a072f34ae1febfd3cbcb168a18e14207f">Pane_connectivity::pconn_offset</a>();    </div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <a class="code" href="classRocmop.html#a59ac9f726463b01a03b5beb47e018110">_is_shared_node</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(),0);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">// Determine the number of communicating panes for shared nodes.</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=vs_size; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+=vs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+1]+2) {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;owner_rank( vs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]) &gt;=0) ++count;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    </div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">// Loop through communicating panes for shared nodes.</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, index+=vs[index+1]+2) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="comment">// We skip the panes that are not in the current window </span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keywordflow">while</span> ( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;owner_rank(vs[index])&lt;0) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        index+=vs[index+1]+2;</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( index&lt;=vs_size, <span class="stringliteral">&quot;Invalid communication map&quot;</span>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      } </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="comment">// Add shared nodes to the list</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;vs[index+1]; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <a class="code" href="classRocmop.html#a59ac9f726463b01a03b5beb47e018110">_is_shared_node</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][vs[index+2+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] = 1;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      }</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <a class="code" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a>(<a class="code" href="classRocmop.html#a59ac9f726463b01a03b5beb47e018110">_is_shared_node</a>,<a class="code" href="classRocmop.html#ab4fce00eeb4e715e4b24cec46c30f6de">_is_shared_elem</a>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::determine_shared_nodes&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;}</div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classPane__connectivity_html_a072f34ae1febfd3cbcb168a18e14207f"><div class="ttname"><a href="classPane__connectivity.html#a072f34ae1febfd3cbcb168a18e14207f">Pane_connectivity::pconn_offset</a></div><div class="ttdeci">static int pconn_offset()</div><div class="ttdoc">Retrieve an offset to avoid the number of communicating panes when reading a pconn attribute...</div><div class="ttdef"><b>Definition:</b> <a href="Pane__connectivity_8h_source.html#l00074">Pane_connectivity.h:74</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM_PCONN</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c86012e49ffd3488beacec5a4f5f03"><div class="ttname"><a href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">Rocmop::mark_elems_from_nodes</a></div><div class="ttdeci">void mark_elems_from_nodes(std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</div><div class="ttdoc">Mark the nodes which contain marked elems. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00712">Rocmop.C:712</a></div></div>
<div class="ttc" id="classRocmop_html_ab4fce00eeb4e715e4b24cec46c30f6de"><div class="ttname"><a href="classRocmop.html#ab4fce00eeb4e715e4b24cec46c30f6de">Rocmop::_is_shared_elem</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_shared_elem</div><div class="ttdoc">Does the element contain shared nodes? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00432">Rocmop.h:432</a></div></div>
<div class="ttc" id="classRocmop_html_a59ac9f726463b01a03b5beb47e018110"><div class="ttname"><a href="classRocmop.html#a59ac9f726463b01a03b5beb47e018110">Rocmop::_is_shared_node</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_shared_node</div><div class="ttdoc">Is the node shared? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00431">Rocmop.h:431</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a7ab9ce2c2abc714470af5935a1253b51_cgraph.png" border="0" usemap="#classRocmop_a7ab9ce2c2abc714470af5935a1253b51_cgraph" alt=""/></div>
<map name="classRocmop_a7ab9ce2c2abc714470af5935a1253b51_cgraph" id="classRocmop_a7ab9ce2c2abc714470af5935a1253b51_cgraph">
<area shape="rect" id="node3" href="classPane__connectivity.html#a072f34ae1febfd3cbcb168a18e14207f" title="Retrieve an offset to avoid the number of communicating panes when reading a pconn attribute..." alt="" coords="223,5,359,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ab9ce2c2abc714470af5935a1253b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void determine_shared_border </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine which nodes and elements are shared. </p>

</div>
</div>
<a class="anchor" id="a951f6a38a9e200878fabe2fe295d23ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int eigen_analyze_vertex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A_io</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>b_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>nrm_nz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angle_defect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l01081">1081</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00421">_dir_thres</a>, <a class="el" href="Rocmop_8h_source.html#l00420">_eig_thres</a>, <a class="el" href="Rocmop_8h_source.html#l00418">_reorthog</a>, <a class="el" href="Rocmop_8h_source.html#l00422">_saliency_crn</a>, <a class="el" href="number__utils_8h_source.html#l00130">NTS::abs()</a>, <a class="el" href="CImg_8h_source.html#l06061">cimg_library::atan()</a>, <a class="el" href="smooth__medial_8C_source.html#l01191">compute_eigenvectors()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Vector__n_8h_source.html#l00354">max()</a>, <a class="el" href="mapbasic_8h_source.html#l00114">Vector_3&lt; Type &gt;::normalize()</a>, <a class="el" href="smooth__medial_8C_source.html#l00043">pi</a>, <a class="el" href="double_8h_source.html#l00073">sqrt()</a>, and <a class="el" href="read_8cpp_source.html#l00074">x</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00286">compute_medial_quadric()</a>.</p>
<div class="fragment"><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                                                           {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  <span class="comment">// A_io will be replaced by its eigenvectors.</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *es = A_io;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="comment">// Create a backup of b_io, as b_io will be replaced by eigenvalues.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  <span class="keyword">const</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> b = b_io;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> &amp;lambdas = b_io;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  <span class="comment">// Compute the eigenvalues and eigenvectors of the matrix. </span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="comment">// Note that lambdas will be in decreasing order!</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  <a class="code" href="classRocmop.html#a77616b2e5e1035b58e2e4438abea5cb7">compute_eigenvectors</a>( es, lambdas);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keywordtype">int</span> nrank;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordtype">double</span> eps = lambdas[0]*1.e-8;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordtype">double</span> gs[] = { b*es[0]/lambdas[0],</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                  b*es[1]/<a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>(eps,lambdas[1]), </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                  b*es[2]/<a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>(eps,lambdas[2]) };</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordtype">double</span> gs_abs[] = {<a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">std::abs</a>(gs[0]), <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">std::abs</a>(gs[1]), <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">std::abs</a>(gs[2])};</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="comment">// Classify offset intersection based on acos(-b.norm()/rv) and lambdas</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keywordflow">if</span> ( lambdas[2] &gt;= <a class="code" href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">_saliency_crn</a> *</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;       <a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>(lambdas[0]-lambdas[1], lambdas[1]-lambdas[2]) || ad &gt;= .5*<a class="code" href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a>)</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    nrank = 3;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( gs_abs[1] &gt;= gs_abs[0] || lambdas[0]*<a class="code" href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">_dir_thres</a>&lt;lambdas[1]) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordflow">if</span> ( lambdas[1] &lt; lambdas[0]*<a class="code" href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">_eig_thres</a>) {</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      lambdas[1] = lambdas[0]*<a class="code" href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">_eig_thres</a>;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocprop Warning: Mesh contains near cusp.&quot;</span> </div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;lambdas[1]=&quot;</span> &lt;&lt; lambdas[1] &lt;&lt; <span class="stringliteral">&quot; and lambdas[0]=&quot;</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                &lt;&lt; lambdas[0] &lt;&lt; std::endl;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    nrank = 2; <span class="comment">// ridge vertex</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="preprocessor">#if PRINT_FEATURE</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">if</span> ( gs_abs[1] &lt; gs_abs[0]) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <span class="keywordtype">double</span> theta = (360/<a class="code" href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a>)*<a class="code" href="namespacecimg__library.html#a2ff3d5bed4426af215f53f21b5ae68cf">std::atan</a>(<a class="code" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">std::sqrt</a>(lambdas[1]/lambdas[0]));</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <span class="keywordflow">if</span> ( theta&lt;fangle_min_eigen) fangle_min_eigen=theta;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="keywordflow">if</span> ( theta&gt;fangle_max_eigen) fangle_max_eigen=theta;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    nrank = 1; <span class="comment">// smooth vertex</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keywordflow">if</span> ( !<a class="code" href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">_reorthog</a> || nrank==1)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    *nrm_nz=( es[0]*b&gt;0)?-es[0]:es[0];</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="comment">// Solve for x within primary space</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a>(0,0,0);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;nrank; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a> -= gs[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]*es[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>];</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    *nrm_nz = <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a>.normalize();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  }</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">return</span> nrank;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;}</div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Vector__n_8h_html_a7dddfa733bea2c50f405764d775e636a"><div class="ttname"><a href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a></div><div class="ttdeci">Vector_n max(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00354">Vector_n.h:354</a></div></div>
<div class="ttc" id="classRocmop_html_af7b1e5ce31f5e001ab4c4253681b5093"><div class="ttname"><a href="classRocmop.html#af7b1e5ce31f5e001ab4c4253681b5093">Rocmop::_reorthog</a></div><div class="ttdeci">bool _reorthog</div><div class="ttdoc">Reorthogonalize? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00418">Rocmop.h:418</a></div></div>
<div class="ttc" id="classRocmop_html_a921d90d99e5f31f862c60cc38be37e90"><div class="ttname"><a href="classRocmop.html#a921d90d99e5f31f862c60cc38be37e90">Rocmop::_eig_thres</a></div><div class="ttdeci">double _eig_thres</div><div class="ttdoc">Eigenvalue thresholds. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00420">Rocmop.h:420</a></div></div>
<div class="ttc" id="double_8h_html_ac12b3d29117dc72313c36cdb5a9d3e0e"><div class="ttname"><a href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">sqrt</a></div><div class="ttdeci">double sqrt(double d)</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00073">double.h:73</a></div></div>
<div class="ttc" id="classRocmop_html_a77616b2e5e1035b58e2e4438abea5cb7"><div class="ttname"><a href="classRocmop.html#a77616b2e5e1035b58e2e4438abea5cb7">Rocmop::compute_eigenvectors</a></div><div class="ttdeci">static void compute_eigenvectors(Vector_3&lt; double &gt; A[3], Vector_3&lt; double &gt; &amp;lambdas)</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l01191">smooth_medial.C:1191</a></div></div>
<div class="ttc" id="smooth__medial_8C_html_a43016d873124d39034edb8cd164794db"><div class="ttname"><a href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a></div><div class="ttdeci">static const double pi</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00043">smooth_medial.C:43</a></div></div>
<div class="ttc" id="read_8cpp_html_a855d5d0028073e23b7804f2848fbe67d"><div class="ttname"><a href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a></div><div class="ttdeci">void int int REAL * x</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="namespacecimg__library_html_a2ff3d5bed4426af215f53f21b5ae68cf"><div class="ttname"><a href="namespacecimg__library.html#a2ff3d5bed4426af215f53f21b5ae68cf">cimg_library::atan</a></div><div class="ttdeci">CImg&lt; _cimg_Tfloat &gt; atan(const CImg&lt; T &gt; &amp;instance)</div><div class="ttdef"><b>Definition:</b> <a href="CImg_8h_source.html#l06061">CImg.h:6061</a></div></div>
<div class="ttc" id="classRocmop_html_a85aadec6c44aa08f45cbc6bbe221a299"><div class="ttname"><a href="classRocmop.html#a85aadec6c44aa08f45cbc6bbe221a299">Rocmop::_saliency_crn</a></div><div class="ttdeci">double _saliency_crn</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00422">Rocmop.h:422</a></div></div>
<div class="ttc" id="classRocmop_html_a636256f97cbf038ca33ff7c0a64754f1"><div class="ttname"><a href="classRocmop.html#a636256f97cbf038ca33ff7c0a64754f1">Rocmop::_dir_thres</a></div><div class="ttdeci">double _dir_thres</div><div class="ttdoc">Another threshold. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00421">Rocmop.h:421</a></div></div>
<div class="ttc" id="namespaceNTS_html_a61aa0d7bc8a0439c1008dbb20e14c771"><div class="ttname"><a href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">NTS::abs</a></div><div class="ttdeci">NT abs(const NT &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="number__utils_8h_source.html#l00130">number_utils.h:130</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a951f6a38a9e200878fabe2fe295d23ed_cgraph.png" border="0" usemap="#classRocmop_a951f6a38a9e200878fabe2fe295d23ed_cgraph" alt=""/></div>
<map name="classRocmop_a951f6a38a9e200878fabe2fe295d23ed_cgraph" id="classRocmop_a951f6a38a9e200878fabe2fe295d23ed_cgraph">
<area shape="rect" id="node3" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771" title="NTS::abs" alt="" coords="241,296,319,325"/><area shape="rect" id="node5" href="namespacecimg__library.html#a2ff3d5bed4426af215f53f21b5ae68cf" title="cimg_library::atan" alt="" coords="217,349,343,379"/><area shape="rect" id="node9" href="classRocmop.html#a77616b2e5e1035b58e2e4438abea5cb7" title="compute_eigenvectors" alt="" coords="204,403,356,432"/><area shape="rect" id="node17" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="832,455,875,484"/><area shape="rect" id="node64" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="257,557,303,587"/><area shape="rect" id="node66" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="211,611,349,640"/><area shape="rect" id="node7" href="structcimg__library_1_1CImg.html#ae34fafc7bd6868ac7dcfbe2d8e9bf3b4" title="cimg_library::CImg\l::get_atan" alt="" coords="407,125,537,171"/><area shape="rect" id="node11" href="smooth__medial_8C.html#ac59a848fa2ab164102030221f21de474" title="dsyevq3" alt="" coords="437,403,507,432"/><area shape="rect" id="node21" href="namespacecimg__library_1_1cimg.html#ac1b66fe77173de9e5e8542b2823d6071" title="Print informations about CImg environement variables. " alt="" coords="408,247,536,294"/><area shape="rect" id="node62" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460" title="swap" alt="" coords="445,195,499,224"/><area shape="rect" id="node13" href="smooth__medial_8C.html#a064649646f4641b48463cf641b032e32" title="dsytrd3" alt="" coords="632,403,696,432"/><area shape="rect" id="node15" href="smooth__medial_8C.html#a008137b55395036613fb97c40e7ba8b5" title="SQR" alt="" coords="828,376,879,405"/><area shape="rect" id="node23" href="namespacecimg__library_1_1cimg.html#a0d2a283a3aa2572e9d343f040c8c4c6b" title="Return the current endianness of the CPU. " alt="" coords="600,282,728,329"/><area shape="rect" id="node25" href="namespacecimg__library_1_1cimg.html#ad0db1003e37cc111d9eddd282c1ab27b" title="Return or set path to the ImageMagick&#39;s convert tool. " alt="" coords="595,74,733,121"/><area shape="rect" id="node37" href="namespacecimg__library_1_1cimg.html#aa9f7e166f51b43facc8ecc9f05e4ceba" title="Return path of the GraphicsMagick&#39;s gm tool. " alt="" coords="588,143,740,190"/><area shape="rect" id="node42" href="namespacecimg__library_1_1cimg.html#aaedba1291890f50edb5be58ef662e516" title="Return or set path of the XMedcon tool. " alt="" coords="600,5,728,51"/><area shape="rect" id="node47" href="namespacecimg__library_1_1cimg.html#a797797a309ca40aa28cdfbb92f4d1621" title="Return or set path to store temporary files. " alt="" coords="600,213,728,259"/><area shape="rect" id="node27" href="namespacecimg__library_1_1cimg.html#a19ad60edf05bad32e75b7077509ef566" title="Open a file, and check for possible errors. " alt="" coords="789,5,917,51"/><area shape="rect" id="node29" href="namespacecimg__library_1_1cimg.html#ae54f76e8c2bcff93277e9cae1906a3d6" title="Close a file, and check for possible errors. " alt="" coords="789,74,917,121"/><area shape="rect" id="node35" href="namespacecimg__library_1_1cimg.html#a6a835b5fd5ea1699929cb8a1f91e8729" title="cimg_library::cimg\l::winformat_string" alt="" coords="789,143,917,190"/><area shape="rect" id="node31" href="namespacecimg__library_1_1cimg.html#a93ec28267b101050d949d1ebff1b88cf" title="Display a warning message. " alt="" coords="965,74,1093,121"/><area shape="rect" id="node33" href="namespacecimg__library_1_1cimg.html#aacf66918a1173b3f72fe6f088d94f26b" title="Get/set the current CImg exception mode. " alt="" coords="1141,74,1269,121"/><area shape="rect" id="node49" href="namespacecimg__library_1_1cimg.html#a7748b6c9db13b5262f059994f0b8c117" title="cimg_library::cimg\l::filenamerand" alt="" coords="789,213,917,259"/><area shape="rect" id="node51" href="namespacecimg__library_1_1cimg.html#a84a2f7a220ba6a54893f695b3bcc36e2" title="cimg_library::cimg\l::srand" alt="" coords="965,243,1093,290"/><area shape="rect" id="node55" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1] with respect to an uniform distribution. " alt="" coords="1141,213,1269,259"/><area shape="rect" id="node53" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision. " alt="" coords="1141,282,1269,329"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a951f6a38a9e200878fabe2fe295d23ed_icgraph.png" border="0" usemap="#classRocmop_a951f6a38a9e200878fabe2fe295d23ed_icgraph" alt=""/></div>
<map name="classRocmop_a951f6a38a9e200878fabe2fe295d23ed_icgraph" id="classRocmop_a951f6a38a9e200878fabe2fe295d23ed_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5" title="Compute medial quadric for every vertex. " alt="" coords="204,5,369,35"/><area shape="rect" id="node5" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="419,5,557,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a951f6a38a9e200878fabe2fe295d23ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int eigen_analyze_vertex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A_io</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>b_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>nrm_nz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angle_defect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a951f6a38a9e200878fabe2fe295d23ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int eigen_analyze_vertex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A_io</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>b_io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; *&#160;</td>
          <td class="paramname"><em>nrm_nz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angle_defect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a800007d963d8c7320124ed29897db40a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void evaluate_face_normals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluate face normals (copied from <a class="el" href="classFaceOffset__3.html">FaceOffset_3</a>.[hC]. </p>

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l00903">903</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00453">_verb</a>, <a class="el" href="Rocmop_8h_source.html#l00439">_wrk_window</a>, <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="mapbasic_8h_source.html#l00104">Vector_3&lt; Type &gt;::cross_product()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Element__accessors_8C_source.html#l00079">Element_node_enumerator::next()</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="mapbasic_8h_source.html#l00114">Vector_3&lt; Type &gt;::normalize()</a>, <a class="el" href="Element__accessors_8h_source.html#l00244">Element_node_vectors_k_const&lt; Value &gt;::set()</a>, <a class="el" href="Element__accessors_8h_source.html#l00091">Element_node_enumerator::size_of_edges()</a>, and <a class="el" href="Element__accessors_8h_source.html#l00074">Element_node_enumerator::size_of_nodes()</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>
<div class="fragment"><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                                   {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::evaluate_face_normals&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>, <span class="stringliteral">&quot;Unexpected NULL pointer encountered.&quot;</span>);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 3) </div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Getting attribute ids&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keyword">const</span> std::string att1(<span class="stringliteral">&quot;facenormals&quot;</span>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keyword">const</span> std::string att2(<span class="stringliteral">&quot;facecenters&quot;</span>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  <span class="keywordtype">int</span> facenormals_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att1)-&gt;id();</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="keywordtype">int</span> facecenters_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att2)-&gt;id();</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="comment">// Loop through the panes and its real faces</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  std::vector&lt; COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  std::vector&lt; COM::Pane*&gt;::iterator it = allpanes.begin();</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) { </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="comment">// Obtain nodal coordinates of current pane, assuming contiguous layout</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( pane-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a>)-&gt;stride()==3 ||</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                       pane-&gt;size_of_real_nodes()==0, </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                       <span class="stringliteral">&quot;Coordinates must be stored in contiguous layout.&quot;</span>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *pnts = <span class="keyword">reinterpret_cast&lt;</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* <span class="keyword">&gt;</span></div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      (pane-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a>)-&gt;pointer());</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *nrms = <span class="keyword">reinterpret_cast&lt;</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* <span class="keyword">&gt;</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      ( pane-&gt;attribute(facenormals_id)-&gt;pointer());</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cnts = <span class="keyword">reinterpret_cast&lt;</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* <span class="keyword">&gt;</span></div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      ( pane-&gt;attribute(facecenters_id)-&gt;pointer());</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(pnts, <span class="stringliteral">&quot;NULL pointer to nodal coords.&quot;</span>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(nrms, <span class="stringliteral">&quot;NULL pointer to face normals.&quot;</span>);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(cnts, <span class="stringliteral">&quot;NULL pointer to face centers.&quot;</span>);    </div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, 1); </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=pane-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, ene.next()) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <span class="comment">// Obtain current face normal</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <a class="code" href="classElement__node__vectors__k__const.html">Element_node_vectors_k_const&lt;Vector_3&lt;double&gt;</a> &gt; ps; ps.<a class="code" href="classElement__node__vectors__k__const.html#a012daf687ea85e9da2bc2d064de92aa6">set</a>( pnts, ene, 1);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      SURF::Generic_element_2 e(ene.size_of_edges(), ene.size_of_nodes());</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="classVector__2.html">Vector_2&lt;double&gt;</a> nc(0.5,0.5);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> J[2];</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      e.Jacobian( ps, nc, J);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      nrms[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = <a class="code" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f">Vector_3&lt;double&gt;::cross_product</a>( J[0], J[1]);</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      nrms[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>].<a class="code" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">normalize</a>();</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      e.interpolate_to_center( ps, &amp;cnts[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]);</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::evaluate_face_normals&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div>
<div class="ttc" id="classElement__node__enumerator_html"><div class="ttname"><a href="classElement__node__enumerator.html">Element_node_enumerator</a></div><div class="ttdoc">An adaptor for enumerating node IDs of an element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00043">Element_accessors.h:43</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classVector__3_html_a378898ca48cb8e4a1cf466e85d33f429"><div class="ttname"><a href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">Vector_3::normalize</a></div><div class="ttdeci">Vector_3 &amp; normalize()</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00114">mapbasic.h:114</a></div></div>
<div class="ttc" id="classElement__node__vectors__k__const_html"><div class="ttname"><a href="classElement__node__vectors__k__const.html">Element_node_vectors_k_const</a></div><div class="ttdoc">This is a helper class for accessing nodal data. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00234">Element_accessors.h:234</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classVector__2_html"><div class="ttname"><a href="classVector__2.html">Vector_2</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00199">mapbasic.h:199</a></div></div>
<div class="ttc" id="classVector__3_html_aa8b58e0e93d63afb1387a36b49d7d16f"><div class="ttname"><a href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f">Vector_3::cross_product</a></div><div class="ttdeci">static Vector_3 cross_product(const Vector_3 &amp;v, const Vector_3 &amp;w)</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00104">mapbasic.h:104</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classElement__node__vectors__k__const_html_a012daf687ea85e9da2bc2d064de92aa6"><div class="ttname"><a href="classElement__node__vectors__k__const.html#a012daf687ea85e9da2bc2d064de92aa6">Element_node_vectors_k_const::set</a></div><div class="ttdeci">void set(const Value *p, Element_node_enumerator &amp;ene, int strd)</div><div class="ttdoc">initialize the accessor with a pointer and a specific stride. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00244">Element_accessors.h:244</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a800007d963d8c7320124ed29897db40a_cgraph.png" border="0" usemap="#classRocmop_a800007d963d8c7320124ed29897db40a_cgraph" alt=""/></div>
<map name="classRocmop_a800007d963d8c7320124ed29897db40a_cgraph" id="classRocmop_a800007d963d8c7320124ed29897db40a_cgraph">
<area shape="rect" id="node3" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f" title="Vector_3::cross_product" alt="" coords="219,227,381,256"/><area shape="rect" id="node5" href="classElement__node__enumerator.html#a041249f802c5bf4c2deae666610e03c4" title="Go to the next element within the connectivity tables of a pane. " alt="" coords="439,269,615,315"/><area shape="rect" id="node55" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="231,520,369,549"/><area shape="rect" id="node57" href="classElement__node__vectors__k__const.html#a012daf687ea85e9da2bc2d064de92aa6" title="initialize the accessor with a pointer and a specific stride. " alt="" coords="223,381,377,427"/><area shape="rect" id="node59" href="classElement__node__enumerator.html#a35a62313d45990cfa4cab8caa1dfbff6" title="Number of nodes per element. " alt="" coords="439,381,615,427"/><area shape="rect" id="node63" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899" title="Number of edges per element. " alt="" coords="212,450,388,497"/><area shape="rect" id="node7" href="classPane.html#a62d5a7a3e02da8c334472006166d67ea" title="Obtain the connectivity table containing the element with the given ID. " alt="" coords="664,173,795,203"/><area shape="rect" id="node9" href="classConnectivity.html#a69bd059da8cf335fbee896488f5c1e97" title="Get the index of the first element. " alt="" coords="844,113,977,159"/><area shape="rect" id="node15" href="classConnectivity.html#a89f1396a7f4dc43120977a9a42c3ceef" title="Get the total number of elements (including ghost elements) in the table. " alt="" coords="848,194,973,241"/><area shape="rect" id="node23" href="classConnectivity.html#a3ab0f5b4dbc683714ef15ccfb16225ac" title="Get a constant pointer to the connectivity array. " alt="" coords="1045,309,1187,339"/><area shape="rect" id="node44" href="classPane.html#ae5acbe47d704ceb866e3717e2ac9422f" title="Dimension of the pane. " alt="" coords="671,451,788,480"/><area shape="rect" id="node48" href="classPane.html#a78f646f49fb83340032b735b056a19d3" title="Get the number of nodes in i&#45;dimension if the mesh is structured. " alt="" coords="683,328,776,357"/><area shape="rect" id="node53" href="classConnectivity.html#a6b814939135364a0cd18ee54799897ee" title="Get the number of nodes per element of the current connectivity table. " alt="" coords="667,381,792,427"/><area shape="rect" id="node11" href="classConnectivity.html#aafbe63b1107c964c3673375df9a7472a" title="Root of use&#45;inheritance. " alt="" coords="1053,5,1179,35"/><area shape="rect" id="node13" href="classAttribute.html#a77f06f41441a97714ec0acf49c89b568" title="Root of use&#45;inheritance. " alt="" coords="1271,5,1372,35"/><area shape="rect" id="node17" href="classPane.html#a20818cc1edd59ab35c1eded37741f6ee" title="Pane::ignore_ghost" alt="" coords="1255,67,1388,96"/><area shape="rect" id="node19" href="classConnectivity.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Determine whether the mesh is quadratic. " alt="" coords="1027,203,1205,232"/><area shape="rect" id="node21" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="1093,256,1139,285"/><area shape="rect" id="node25" href="classAttribute.html#a61bd804508cb1f9b4c33fd54351b315e" title="Obtain the number of items in the attribute. " alt="" coords="1056,133,1176,179"/><area shape="rect" id="node27" href="classPane.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain the attribute from given name. " alt="" coords="1437,176,1544,205"/><area shape="rect" id="node40" href="classAttribute.html#a376398cab240594dd4ec0d158b658172" title="Obtain the number of real items in the attribute. " alt="" coords="1261,209,1381,255"/><area shape="rect" id="node29" href="classWindow.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain a pointer to the attribute metadata from its name. " alt="" coords="1593,145,1716,175"/><area shape="rect" id="node35" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="1783,204,1871,233"/><area shape="rect" id="node31" href="classAttribute.html#a75d5ab968c772d5ad3d4269a514b9d80" title="Attribute::is_digit" alt="" coords="1767,81,1887,111"/><area shape="rect" id="node33" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="1767,134,1887,181"/><area shape="rect" id="node50" href="classPane.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Is mesh of the pane structured? " alt="" coords="844,328,977,357"/><area shape="rect" id="node66" href="classConnectivity.html#a85e2c3a17c45bc48b5613929dedb216a" title="Get the number of edges per element of the current connectivity table. " alt="" coords="464,502,589,549"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a800007d963d8c7320124ed29897db40a_icgraph.png" border="0" usemap="#classRocmop_a800007d963d8c7320124ed29897db40a_icgraph" alt=""/></div>
<map name="classRocmop_a800007d963d8c7320124ed29897db40a_icgraph" id="classRocmop_a800007d963d8c7320124ed29897db40a_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="211,5,349,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a800007d963d8c7320124ed29897db40a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void evaluate_face_normals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluate face normals (copied from <a class="el" href="classFaceOffset__3.html">FaceOffset_3</a>.[hC]. </p>

</div>
</div>
<a class="anchor" id="a800007d963d8c7320124ed29897db40a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void evaluate_face_normals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluate face normals (copied from <a class="el" href="classFaceOffset__3.html">FaceOffset_3</a>.[hC]. </p>

</div>
</div>
<a class="anchor" id="a825cee2d39eb78bdfcce44848cf42046"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void get_constraint_directions </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>ndirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>dirs</em>[2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get orthonormals of the constraints. </p>
<p>If nnrms is 0, then not constrained. If nnrms is 3, then the point is fixed. Otherwise, the point is constrained either in a plane or a line. </p>

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l01245">1245</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="number__utils_8h_source.html#l00130">NTS::abs()</a>, <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="blastest_8C_source.html#l00080">s</a>, <a class="el" href="double_8h_source.html#l00073">sqrt()</a>, and <a class="el" href="mapbasic_8h_source.html#l00110">Vector_3&lt; Type &gt;::squared_norm()</a>.</p>
<div class="fragment"><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                                                                 {</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="keywordflow">if</span> ( type == 1 || type == -1)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( &amp;dir &amp;&amp; <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">std::abs</a>(dir.<a class="code" href="classVector__3.html#a7905d5be1116a4920d9e7b85b2ef8834">squared_norm</a>()-1)&lt;=1.e-6, </div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;                       <span class="stringliteral">&quot;Constrained direction must be normalized&quot;</span>);</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordflow">switch</span> ( type) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="keywordflow">case</span> 0: </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    ndirs = 0;</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <span class="keywordflow">case</span> 2: </div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    ndirs = 3;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    ndirs = 1; dirs[0] = dir;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="keywordflow">case</span> -1: {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    ndirs = 2;</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordtype">double</span> sqnrm;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">std::abs</a>( dir[2])&gt;0.7) {</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      sqnrm = dir[1]*dir[1]+dir[2]*dir[2];</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>( 0, -dir[2], dir[1]);</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      dirs[1] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>( sqnrm, -dir[0]*dir[1], -dir[0]*dir[2]);</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      sqnrm = dir[0]*dir[0]+dir[1]*dir[1];</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;      dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>( dir[1], -dir[0], 0);</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      dirs[1] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>( -dir[0]*dir[2], -dir[1]*dir[2], sqnrm);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    }</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a> = 1./<a class="code" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">std::sqrt</a>( sqnrm);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    dirs[0] *= <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>; dirs[1] *= <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  }</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:  </div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    ndirs = 1; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(1,0,0); </div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">case</span> -<span class="charliteral">&#39;x&#39;</span>: </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    ndirs = 2; </div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(0,1,0); </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    dirs[1] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(0,0,1); </div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>: </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    ndirs = 1; </div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(0,1,0); </div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <span class="keywordflow">case</span> -<span class="charliteral">&#39;y&#39;</span>:</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    ndirs = 2;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(1,0,0); </div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    dirs[1] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(0,0,1); </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>: </div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    ndirs = 1; </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(0,0,1); </div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keywordflow">case</span> -<span class="charliteral">&#39;z&#39;</span>:</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    ndirs = 2;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    dirs[0] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(1,0,0); </div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    dirs[1] = <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>(0,1,0); </div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">default</span>: <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <span class="keyword">false</span>, <span class="stringliteral">&quot;Unknown type of constraint&quot;</span>);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;}</div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="double_8h_html_ac12b3d29117dc72313c36cdb5a9d3e0e"><div class="ttname"><a href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">sqrt</a></div><div class="ttdeci">double sqrt(double d)</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00073">double.h:73</a></div></div>
<div class="ttc" id="classVector__3_html_a7905d5be1116a4920d9e7b85b2ef8834"><div class="ttname"><a href="classVector__3.html#a7905d5be1116a4920d9e7b85b2ef8834">Vector_3::squared_norm</a></div><div class="ttdeci">Type squared_norm() const </div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00110">mapbasic.h:110</a></div></div>
<div class="ttc" id="namespaceNTS_html_a61aa0d7bc8a0439c1008dbb20e14c771"><div class="ttname"><a href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771">NTS::abs</a></div><div class="ttdeci">NT abs(const NT &amp;x)</div><div class="ttdef"><b>Definition:</b> <a href="number__utils_8h_source.html#l00130">number_utils.h:130</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a825cee2d39eb78bdfcce44848cf42046_cgraph.png" border="0" usemap="#classRocmop_a825cee2d39eb78bdfcce44848cf42046_cgraph" alt=""/></div>
<map name="classRocmop_a825cee2d39eb78bdfcce44848cf42046_cgraph" id="classRocmop_a825cee2d39eb78bdfcce44848cf42046_cgraph">
<area shape="rect" id="node3" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771" title="NTS::abs" alt="" coords="265,5,343,35"/><area shape="rect" id="node5" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="283,59,325,88"/><area shape="rect" id="node7" href="classVector__3.html#a7905d5be1116a4920d9e7b85b2ef8834" title="Vector_3::squared_norm" alt="" coords="223,112,385,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ffc5a8492991d55ba49da94798695a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_constraint_directions </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>ndirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>dirs</em>[2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get orthonormals of the constraints. </p>
<p>If nnrms is 0, then not constrained. If nnrms is 3, then the point is fixed. Otherwise, the point is constrained either in a plane or a line. </p>

</div>
</div>
<a class="anchor" id="a3ffc5a8492991d55ba49da94798695a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void get_constraint_directions </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>ndirs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>dirs</em>[2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get orthonormals of the constraints. </p>
<p>If nnrms is 0, then not constrained. If nnrms is 3, then the point is fixed. Otherwise, the point is constrained either in a plane or a line. </p>

</div>
</div>
<a class="anchor" id="a4fb274a52abfb27d778d4c6d5c690866"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void get_redist_safe_factor </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>c_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l00825">825</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00439">_wrk_window</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="op2args_8C_source.html#l00583">Rocblas::copy_scalar()</a>, <a class="el" href="mapbasic_8h_source.html#l00104">Vector_3&lt; Type &gt;::cross_product()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Vector__n_8h_source.html#l00354">max()</a>, <a class="el" href="Element__accessors_8C_source.html#l00079">Element_node_enumerator::next()</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="mapbasic_8h_source.html#l00114">Vector_3&lt; Type &gt;::normalize()</a>, <a class="el" href="Manifold__2_8h_source.html#l00353">Window_manifold_2::OP_MAX</a>, <a class="el" href="Element__accessors_8h_source.html#l00091">Element_node_enumerator::size_of_edges()</a>, and <a class="el" href="Rocmop_8h_source.html#l00378">solve()</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00547">redistribute_vertices_ridge()</a>, and <a class="el" href="smooth__medial_8C_source.html#l00682">redistribute_vertices_smooth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                                  {</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordtype">double</span> zero=0;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;zero, w_attr);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <span class="keyword">const</span> std::string att1(<span class="stringliteral">&quot;tangranks&quot;</span>), att2(<span class="stringliteral">&quot;weights2&quot;</span>),</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    att3(<span class="stringliteral">&quot;barycrds&quot;</span>), att4(<span class="stringliteral">&quot;PNelemids&quot;</span>);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordtype">int</span> tangranks_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att1)-&gt;id(),</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    weights2_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att2)-&gt;id(),</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    barycrds_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att3)-&gt;id(),</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    PNelemid_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att4)-&gt;id();</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  std::vector&lt; COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  std::vector&lt; COM::Pane*&gt;::iterator it = allpanes.begin();</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) { </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keyword">const</span> <a class="code" href="classPoint__3.html">Point_3&lt;double&gt;</a> *pnts = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classPoint__3.html">Point_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      (pane-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a>)-&gt;pointer());</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      ( pane-&gt;attribute(c_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">double</span>   *ws = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;      ( pane-&gt;attribute(w_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordtype">int</span> *tranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      ( pane-&gt;attribute(tangranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordtype">double</span> *ws2 = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      ( pane-&gt;attribute(weights2_id)-&gt;pointer());</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">double</span> *bcs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      ( pane-&gt;attribute(barycrds_id)-&gt;pointer());</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordtype">int</span> *PNids = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      ( pane-&gt;attribute(PNelemid_id)-&gt;pointer());</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, 1); </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=pane-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, ene.next()) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      <span class="keywordtype">int</span> ne = ene.size_of_edges();</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      <span class="keywordtype">int</span> uindex=ene[ne-1]-1, vindex=ene[0]-1;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> nrm_nz;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="comment">// Loop through all vertices of current face.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;ne; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        <span class="keywordtype">int</span> windex = ene[(<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1==ne)?0:k+1]-1;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="comment">// Only redistribute correct classification of vertices </span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">if</span> ( tranks[vindex]==<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> tngs[2] = {pnts[uindex]-pnts[vindex], </div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                              pnts[windex]-pnts[vindex]};</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;          <span class="comment">// Compute normal of face offset</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;          <span class="keywordflow">if</span> ( k==0 || ne&gt;3) {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            nrm_nz = <a class="code" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f">Vector_3&lt;double&gt;::cross_product</a>( tngs[1], tngs[0]);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            nrm_nz.<a class="code" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">normalize</a>();</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;          }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;          <span class="comment">// Solve for vector x, to determine maximum time step</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> S[3] = { tngs[1], tngs[0], nrm_nz};</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> xs; <a class="code" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">solve</a>( S, cs[windex], xs);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          <span class="keywordtype">double</span> temp = ws[windex];</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          ws[windex] = <a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>( (6-ne)*<a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>( xs[0], xs[1]), ws[windex]);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;          <span class="keywordflow">if</span>(temp != ws[windex]){</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            ws2[windex] = ws[windex];</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            bcs[windex*2]= xs[0];</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;            bcs[windex*2+1] = xs[1];</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            PNids[windex] = <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+1;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;          }</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        }</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        uindex=vindex; vindex=windex;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  _wm-&gt;reduce_on_shared_nodes( w_attr, <a class="code" href="classWindow__manifold__2.html#aa6affd2367f55636fc9e25d12474c3e4">Window_manifold_2::OP_MAX</a>);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="ttc" id="classElement__node__enumerator_html"><div class="ttname"><a href="classElement__node__enumerator.html">Element_node_enumerator</a></div><div class="ttdoc">An adaptor for enumerating node IDs of an element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00043">Element_accessors.h:43</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="classPoint__3_html"><div class="ttname"><a href="classPoint__3.html">Point_3</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00147">mapbasic.h:147</a></div></div>
<div class="ttc" id="Vector__n_8h_html_a7dddfa733bea2c50f405764d775e636a"><div class="ttname"><a href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a></div><div class="ttdeci">Vector_n max(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00354">Vector_n.h:354</a></div></div>
<div class="ttc" id="classVector__3_html_a378898ca48cb8e4a1cf466e85d33f429"><div class="ttname"><a href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">Vector_3::normalize</a></div><div class="ttdeci">Vector_3 &amp; normalize()</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00114">mapbasic.h:114</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classVector__3_html_aa8b58e0e93d63afb1387a36b49d7d16f"><div class="ttname"><a href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f">Vector_3::cross_product</a></div><div class="ttdeci">static Vector_3 cross_product(const Vector_3 &amp;v, const Vector_3 &amp;w)</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00104">mapbasic.h:104</a></div></div>
<div class="ttc" id="classRocblas_html_a67987d3b72ffb73c5fa0cc2930822afd"><div class="ttname"><a href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a></div><div class="ttdeci">static void copy_scalar(const void *x, Attribute *y)</div><div class="ttdoc">Operation wrapper for copy (x is a scalar pointer). </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00583">op2args.C:583</a></div></div>
<div class="ttc" id="classRocmop_html_ac8e5fea6a907d82647fe6689f599d167"><div class="ttname"><a href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">Rocmop::solve</a></div><div class="ttdeci">static void solve(const FT &amp;a1, const FT &amp;a2, const FT &amp;b1, const FT &amp;b2, const FT &amp;c1, const FT &amp;c2, FT &amp;x, FT &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00378">Rocmop.h:378</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="classWindow__manifold__2_html_aa6affd2367f55636fc9e25d12474c3e4"><div class="ttname"><a href="classWindow__manifold__2.html#aa6affd2367f55636fc9e25d12474c3e4">Window_manifold_2::OP_MAX</a></div><div class="ttdeci">static MPI_Op OP_MAX</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00353">Manifold_2.h:353</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a4fb274a52abfb27d778d4c6d5c690866_cgraph.png" border="0" usemap="#classRocmop_a4fb274a52abfb27d778d4c6d5c690866_cgraph" alt=""/></div>
<map name="classRocmop_a4fb274a52abfb27d778d4c6d5c690866_cgraph" id="classRocmop_a4fb274a52abfb27d778d4c6d5c690866_cgraph">
<area shape="rect" id="node3" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd" title="Operation wrapper for copy (x is a scalar pointer). " alt="" coords="221,5,368,35"/><area shape="rect" id="node7" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f" title="Vector_3::cross_product" alt="" coords="213,59,376,88"/><area shape="rect" id="node9" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="867,68,912,97"/><area shape="rect" id="node11" href="classElement__node__enumerator.html#a041249f802c5bf4c2deae666610e03c4" title="Go to the next element within the connectivity tables of a pane. " alt="" coords="207,299,383,346"/><area shape="rect" id="node60" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="225,439,364,468"/><area shape="rect" id="node62" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899" title="Number of edges per element. " alt="" coords="207,369,383,415"/><area shape="rect" id="node67" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167" title="solve" alt="" coords="268,492,321,521"/><area shape="rect" id="node5" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="432,5,568,35"/><area shape="rect" id="node13" href="classPane.html#a62d5a7a3e02da8c334472006166d67ea" title="Obtain the connectivity table containing the element with the given ID. " alt="" coords="435,333,565,363"/><area shape="rect" id="node15" href="classConnectivity.html#a69bd059da8cf335fbee896488f5c1e97" title="Get the index of the first element. " alt="" coords="617,365,751,411"/><area shape="rect" id="node21" href="classConnectivity.html#a89f1396a7f4dc43120977a9a42c3ceef" title="Get the total number of elements (including ghost elements) in the table. " alt="" coords="621,165,747,211"/><area shape="rect" id="node28" href="classConnectivity.html#a3ab0f5b4dbc683714ef15ccfb16225ac" title="Get a constant pointer to the connectivity array. " alt="" coords="819,319,960,348"/><area shape="rect" id="node49" href="classPane.html#ae5acbe47d704ceb866e3717e2ac9422f" title="Dimension of the pane. " alt="" coords="441,491,559,520"/><area shape="rect" id="node53" href="classPane.html#a78f646f49fb83340032b735b056a19d3" title="Get the number of nodes in i&#45;dimension if the mesh is structured. " alt="" coords="453,437,547,467"/><area shape="rect" id="node58" href="classConnectivity.html#a6b814939135364a0cd18ee54799897ee" title="Get the number of nodes per element of the current connectivity table. " alt="" coords="437,213,563,259"/><area shape="rect" id="node17" href="classConnectivity.html#aafbe63b1107c964c3673375df9a7472a" title="Root of use&#45;inheritance. " alt="" coords="827,373,952,403"/><area shape="rect" id="node19" href="classAttribute.html#a77f06f41441a97714ec0acf49c89b568" title="Root of use&#45;inheritance. " alt="" coords="1044,373,1145,403"/><area shape="rect" id="node23" href="classPane.html#a20818cc1edd59ab35c1eded37741f6ee" title="Pane::ignore_ghost" alt="" coords="1028,173,1161,203"/><area shape="rect" id="node25" href="classConnectivity.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Determine whether the mesh is quadratic. " alt="" coords="800,121,979,151"/><area shape="rect" id="node30" href="classAttribute.html#a61bd804508cb1f9b4c33fd54351b315e" title="Obtain the number of items in the attribute. " alt="" coords="829,249,949,295"/><area shape="rect" id="node32" href="classPane.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain the attribute from given name. " alt="" coords="1211,289,1317,319"/><area shape="rect" id="node45" href="classAttribute.html#a376398cab240594dd4ec0d158b658172" title="Obtain the number of real items in the attribute. " alt="" coords="1035,250,1155,297"/><area shape="rect" id="node34" href="classWindow.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain a pointer to the attribute metadata from its name. " alt="" coords="1367,259,1489,288"/><area shape="rect" id="node40" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="1556,317,1644,347"/><area shape="rect" id="node36" href="classAttribute.html#a75d5ab968c772d5ad3d4269a514b9d80" title="Attribute::is_digit" alt="" coords="1540,195,1660,224"/><area shape="rect" id="node38" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="1540,247,1660,294"/><area shape="rect" id="node55" href="classPane.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Is mesh of the pane structured? " alt="" coords="617,437,751,467"/><area shape="rect" id="node65" href="classConnectivity.html#a85e2c3a17c45bc48b5613929dedb216a" title="Get the number of edges per element of the current connectivity table. " alt="" coords="437,543,563,590"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a4fb274a52abfb27d778d4c6d5c690866_icgraph.png" border="0" usemap="#classRocmop_a4fb274a52abfb27d778d4c6d5c690866_icgraph" alt=""/></div>
<map name="classRocmop_a4fb274a52abfb27d778d4c6d5c690866_icgraph" id="classRocmop_a4fb274a52abfb27d778d4c6d5c690866_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c" title="Redistribute ridge vertices within their tangent spaces. " alt="" coords="205,5,344,51"/><area shape="rect" id="node7" href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77" title="Redistribute smooth vertices within their tangent spaces. " alt="" coords="205,74,344,121"/><area shape="rect" id="node5" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="392,48,531,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4fb274a52abfb27d778d4c6d5c690866"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void get_redist_safe_factor </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>c_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4fb274a52abfb27d778d4c6d5c690866"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void get_redist_safe_factor </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>c_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>w_attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1c23d92a358fb715951f770ab1e38a6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void get_usr_disp </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>pmesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>timestep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get displacement in _usr_window based on nc in _buf_window. </p>
<p>Use nodal coordinates in _buf_window as target and nodal coordinates in _usr_window as initial position. Determine displacement in _usr_window. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8C_source.html#l01001">1001</a> of file <a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="op3args_8C_source.html#l00363">Rocblas::div_scalar()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="op3args_8C_source.html#l00237">Rocblas::sub()</a>, and <a class="el" href="Rocmap_8C_source.html#l00087">Rocmap::update_ghosts()</a>.</p>
<div class="fragment"><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;{</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">   *    Disp array contains all nodal displacements. </span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">   *    For the real part, all displacements must not exceed </span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">   *    a given constraint. For the ghost part, they can since </span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">   *    they need to make up for incorrect initial positions </span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">   *    given by Rocflu (Rocflu never updates ghost nodes).</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">   *    </span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="comment">   *    The following steps are done.</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">   * 1. Store displacements of REAL nodes in disp</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment">   * 2. Check if any displacements exceed the constraint</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">   *    2.1 If so, scale down all REAL displacements</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">   * 3. Put updated NC in disp</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">   * 4. Update ghost NC using Rocmap::update_ghosts(disp)</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">   * 5. Disp now can be correctly calculated using </span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">   *    Rocblas::sub(disp, orig_nc, disp)</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">   *    Pornput Suriyamongkol </span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;<span class="comment">   *         02/20/2007</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  std::vector&lt;const Pane*&gt; allusrpanes;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  std::vector&lt;const Pane*&gt; allbufpanes;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;panes(allusrpanes);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;panes(allbufpanes);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(allbufpanes.size() == allusrpanes.size(),</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    <span class="stringliteral">&quot;Different number of panes on buffer and user windows.&quot;</span>);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <span class="comment">// 1.  Store REAL displacment in disp </span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  </div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keywordtype">int</span> disp_id = disp-&gt;id();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> = 0, <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allusrpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    </div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keyword">const</span> COM::Attribute *old_nc = allusrpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keyword">const</span> COM::Attribute *new_nc = allbufpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    COM::Attribute *p_disp       = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      (allusrpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(disp_id));</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    </div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>((p_disp-&gt;size_of_real_items() == new_nc-&gt;size_of_real_items()) &amp;&amp;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                      (p_disp-&gt;size_of_real_items() == old_nc-&gt;size_of_real_items()),</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                      <span class="stringliteral">&quot;Number of real items differs between buffer and user windows&quot;</span>);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordtype">double</span>* old_nc_ptr = (<span class="keywordtype">double</span>*)old_nc-&gt;pointer();</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    <span class="keywordtype">double</span>* new_nc_ptr = (<span class="keywordtype">double</span>*)new_nc-&gt;pointer();</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="keywordtype">double</span>* p_disp_ptr = (<span class="keywordtype">double</span>*)p_disp-&gt;pointer();</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordtype">int</span> old_nc_stride = old_nc-&gt;stride();</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordtype">int</span> new_nc_stride = new_nc-&gt;stride();</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordtype">int</span> p_disp_stride = p_disp-&gt;stride();</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    </div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="comment">// Set distances to the next component for each data structure</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <span class="keywordtype">int</span> old_nc_next_comp;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordtype">int</span> new_nc_next_comp;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordtype">int</span> p_disp_next_comp;</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    </div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    <span class="keywordflow">if</span> (old_nc_stride == 1)</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      old_nc_next_comp = old_nc-&gt;size_of_items();</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      old_nc_next_comp = 1;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    </div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> (new_nc_stride == 1)</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      new_nc_next_comp = new_nc-&gt;size_of_items();</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      new_nc_next_comp = 1;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (p_disp_stride == 1)</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      p_disp_next_comp = p_disp-&gt;size_of_items();</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      p_disp_next_comp = 1;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// Put displacements for real nodes in p_disp</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> = 0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a> = new_nc-&gt;size_of_real_items(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      </div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      *p_disp_ptr                      = *new_nc_ptr                      - *old_nc_ptr;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      *(p_disp_ptr+1*p_disp_next_comp) = *(new_nc_ptr+1*new_nc_next_comp) - *(old_nc_ptr+1*old_nc_next_comp);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      *(p_disp_ptr+2*p_disp_next_comp) = *(new_nc_ptr+2*new_nc_next_comp) - *(old_nc_ptr+2*old_nc_next_comp);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      </div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      <span class="comment">// go to next item</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      old_nc_ptr += old_nc_stride;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      new_nc_ptr += new_nc_stride;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      p_disp_ptr += p_disp_stride;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  </div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="comment">// 2. Constrain displacements</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <a class="code" href="classRocmop.html#a272987fd152d3b11f597ec0c6936fb29">constrain_displacements</a>(disp);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="comment">// 3. Update real NC in disp</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> = 0, ni = allusrpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keyword">const</span> COM::Attribute *old_nc = allusrpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    COM::Attribute *p_disp       = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      (allusrpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(disp_id));</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    </div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordtype">double</span>* old_nc_ptr = (<span class="keywordtype">double</span>*)old_nc-&gt;pointer();</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordtype">double</span>* p_disp_ptr = (<span class="keywordtype">double</span>*)p_disp-&gt;pointer();</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    </div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="keywordtype">int</span> old_nc_stride = old_nc-&gt;stride();</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordtype">int</span> p_disp_stride = p_disp-&gt;stride();</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="comment">// Set distances to the next component for each data structure</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    </div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordtype">int</span> old_nc_next_comp;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordtype">int</span> p_disp_next_comp;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    </div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordflow">if</span> (old_nc_stride == 1)</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      old_nc_next_comp = old_nc-&gt;size_of_items();</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      old_nc_next_comp = 1;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (p_disp_stride == 1)</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      p_disp_next_comp = p_disp-&gt;size_of_items();</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;      p_disp_next_comp = 1;</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="comment">// Update real part of NC in disp</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> = 0, nj = p_disp-&gt;size_of_real_items(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      *p_disp_ptr                      = *old_nc_ptr                      + *p_disp_ptr;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      *(p_disp_ptr+1*p_disp_next_comp) = *(old_nc_ptr+1*old_nc_next_comp) + *(p_disp_ptr+1*p_disp_next_comp);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      *(p_disp_ptr+2*p_disp_next_comp) = *(old_nc_ptr+2*old_nc_next_comp) + *(p_disp_ptr+2*p_disp_next_comp);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="comment">// go to next item</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      old_nc_ptr += old_nc_stride;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      p_disp_ptr += p_disp_stride;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  }</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// 4. Update ghost part of disp </span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  </div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(disp);  </div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  </div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="comment">// 5. Get displacment</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  </div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keyword">const</span> COM::Attribute *orig_nc = pmesh-&gt;window()-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <a class="code" href="classRocblas.html#a7c4e389cce4e1bb681a77878e6105f29">Rocblas::sub</a>(disp, orig_nc, disp);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">if</span>(timestep)</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="classRocblas.html#a8ddb762562e041c1c7155a8eac24e996">Rocblas::div_scalar</a> (disp,(<span class="keyword">const</span> <span class="keywordtype">void</span>*)timestep, disp);</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
<div class="ttc" id="classRocblas_html_a8ddb762562e041c1c7155a8eac24e996"><div class="ttname"><a href="classRocblas.html#a8ddb762562e041c1c7155a8eac24e996">Rocblas::div_scalar</a></div><div class="ttdeci">static void div_scalar(const Attribute *x, const void *y, Attribute *z, int swap=0)</div><div class="ttdoc">Operation wrapper for division with y as a scalar pointer. </div><div class="ttdef"><b>Definition:</b> <a href="op3args_8C_source.html#l00363">op3args.C:363</a></div></div>
<div class="ttc" id="classRocblas_html_a7c4e389cce4e1bb681a77878e6105f29"><div class="ttname"><a href="classRocblas.html#a7c4e389cce4e1bb681a77878e6105f29">Rocblas::sub</a></div><div class="ttdeci">static void sub(const Attribute *x, const Attribute *y, Attribute *z)</div><div class="ttdoc">Operation wrapper for subtraction. </div><div class="ttdef"><b>Definition:</b> <a href="op3args_8C_source.html#l00237">op3args.C:237</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a272987fd152d3b11f597ec0c6936fb29"><div class="ttname"><a href="classRocmop.html#a272987fd152d3b11f597ec0c6936fb29">Rocmop::constrain_displacements</a></div><div class="ttdeci">void constrain_displacements(COM::Attribute *w_disp)</div><div class="ttdoc">Contrain displacements to _maxdisp. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l01424">Rocmop_1.C:1424</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmap_html_a748dccffbd1a40c058a05982d3bf04b8"><div class="ttname"><a href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a></div><div class="ttdeci">static void update_ghosts(COM::Attribute *att, const COM::Attribute *pconn=NULL)</div><div class="ttdoc">Update ghost nodal or elemental values for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00087">Rocmap.C:87</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a1c23d92a358fb715951f770ab1e38a6c_cgraph.png" border="0" usemap="#classRocmop_a1c23d92a358fb715951f770ab1e38a6c_cgraph" alt=""/></div>
<map name="classRocmop_a1c23d92a358fb715951f770ab1e38a6c_cgraph" id="classRocmop_a1c23d92a358fb715951f770ab1e38a6c_cgraph">
<area shape="rect" id="node3" href="classRocblas.html#a8ddb762562e041c1c7155a8eac24e996" title="Operation wrapper for division with y as a scalar pointer. " alt="" coords="164,29,300,59"/><area shape="rect" id="node7" href="classRocblas.html#a7c4e389cce4e1bb681a77878e6105f29" title="Operation wrapper for subtraction. " alt="" coords="183,83,281,112"/><area shape="rect" id="node26" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8" title="Update ghost nodal or elemental values for the given attribute. " alt="" coords="151,231,313,260"/><area shape="rect" id="node5" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="379,29,515,59"/><area shape="rect" id="node9" href="classRocblas.html#a014ebce01bb2ec4eacb969b142b13d97" title="Chooses which calc function to call based on type of y. " alt="" coords="373,83,520,112"/><area shape="rect" id="node16" href="classAttribute.html#a59792315103c4358049673a86e8579fb" title="Obtain the full name of the attribute including window name suitable for printing out error messages..." alt="" coords="383,167,511,196"/><area shape="rect" id="node11" href="classAttribute.html#ab642771d1269b6ccb9e6ba87ec15de3b" title="Checks whether the attribute is associated with the window. " alt="" coords="584,5,739,35"/><area shape="rect" id="node13" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="601,58,721,105"/><area shape="rect" id="node18" href="classWindow.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the window&#39;s name. " alt="" coords="607,128,716,157"/><area shape="rect" id="node20" href="classAttribute.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the name of the attribute. " alt="" coords="607,181,716,211"/><area shape="rect" id="node22" href="classAttribute.html#ae879462c456db18c8c3b111bcd2d1a01" title="Obtain a constant pointer to the parent window of the attribute. " alt="" coords="600,235,723,264"/><area shape="rect" id="node24" href="classPane.html#a05d1abca9cbb0ec7bdc59f58dd81797c" title="Obtain a constant pointer to its owner window object. " alt="" coords="815,235,919,264"/><area shape="rect" id="node28" href="classPane__communicator.html#af84e5306d7677a0665fa35099278e534" title="Initialize the communication buffers. " alt="" coords="364,315,529,344"/><area shape="rect" id="node30" href="roccom__c_09_09_8h.html#ad0963775a018dcb83d982e5cfeeb3a22" title="COM_get_sizeof" alt="" coords="601,288,721,317"/><area shape="rect" id="node34" href="classPane__communicator.html#a0db778b55c3fc482ecf132594bd6b123" title="Initialize a Pane_comm_buffers for ghost information. " alt="" coords="580,391,743,438"/><area shape="rect" id="node36" href="classPane__communicator.html#a4327966d16b9b3012f1bb61ddc0673d3" title="For a given pane, obtain an internal pane ID which is unique and contiguous across processes..." alt="" coords="792,341,941,387"/><area shape="rect" id="node32" href="commpi_8C.html#aa00c2248b16333919baea12e6935aac9" title="Get the size of a given MPI data type. " alt="" coords="825,288,908,317"/><area shape="rect" id="node38" href="classPane__communicator.html#ae7eeea984bcf7fa59efa96d05a81a901" title="Obtain the process rank of a given pane. " alt="" coords="792,410,941,457"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4163833a771108c7f3243d9da3a685f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void identify_ridge_edges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identify ridge edges. </p>

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l00969">969</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00426">_edges</a>, <a class="el" href="Rocmop_8h_source.html#l00439">_wrk_window</a>, <a class="el" href="roccom__basic_8h_source.html#l00131">COM_DOUBLE</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Element__accessors_8C_source.html#l00079">Element_node_enumerator::next()</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="mapbasic_8h_source.html#l00114">Vector_3&lt; Type &gt;::normalize()</a>, <a class="el" href="Manifold__2_8h_source.html#l00353">Window_manifold_2::OP_MAX</a>, <a class="el" href="Manifold__2_8h_source.html#l00353">Window_manifold_2::OP_MIN</a>, and <a class="el" href="Manifold__2_8h_source.html#l00052">REAL_PANE</a>.</p>
<div class="fragment"><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;{</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="comment">// Allocate buffer space for maximum and minedgev</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  COM::Attribute *maxedgev = </div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;maxedgev&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( maxedgev, 0);</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  COM::Attribute *minedgev = </div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;minedgev&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( minedgev, 0);</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// Loop through the panes and its real faces</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  std::vector&lt; COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  std::vector&lt; COM::Pane*&gt;::iterator it = allpanes.begin();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <a class="code" href="classWindow__manifold__2.html#a62d7fff29a5689df2645f0463f04f0f5">Window_manifold_2::PM_iterator</a> pm_it=_wm-&gt;pm_begin();</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keyword">const</span> std::string att1(<span class="stringliteral">&quot;eigvecs&quot;</span>), att2(<span class="stringliteral">&quot;tangranks&quot;</span>);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordtype">int</span> eigvecs_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att1)-&gt;id();</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordtype">int</span> tangranks_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att2)-&gt;id();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  std::vector&lt;std::map&lt;Edge_ID, double&gt; &gt; edge_maps( allpanes.size());</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); </div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it, ++pm_it) { </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    std::map&lt; Edge_ID, double&gt; &amp;edges_pn = edge_maps[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="comment">// Obtain pointers to A_attr, bm_attr, and r_attr </span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *es = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      ( pane-&gt;attribute(eigvecs_id)-&gt;pointer());</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keywordtype">int</span> *tranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      ( pane-&gt;attribute(tangranks_id)-&gt;pointer());</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="keywordtype">double</span> *minvs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      ( pane-&gt;attribute(minedgev-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordtype">double</span> *maxvs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;      ( pane-&gt;attribute(maxedgev-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, 1); </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=pane-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, ene.next()) {</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <a class="code" href="classHalfedge.html">Halfedge</a> h( &amp;*pm_it, <a class="code" href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a>(<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+1,0), <a class="code" href="Manifold__2_8h.html#a89f93e032c30177474ff80a8fb380c56a420551bea5fe666279e91b4fd68c1aa8">SURF::REAL_PANE</a>), h0=h;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;      </div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      <span class="keywordtype">int</span> vindex = ene[ h.id().lid()]-1;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="keywordtype">int</span> windex = ene[ h.next().id().lid()]-1;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        </div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="comment">// If vertex is on a ridge</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">if</span> ( tranks[ vindex]==1) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;          <span class="keywordtype">int</span> m = 1 + (tranks[windex]&lt;2);</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> tng = h.tangent(); tng.<a class="code" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">normalize</a>();</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          <span class="keywordtype">double</span> feg = m * (es[3*vindex+2]* tng);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;          edges_pn[ h.id()] = feg;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;          <span class="keywordflow">if</span> ( feg &gt; maxvs[vindex]) maxvs[vindex] = feg;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          <span class="keywordflow">if</span> ( feg &lt; minvs[vindex]) minvs[vindex] = feg;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="comment">// Process border edge</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        <span class="keywordflow">if</span> ( h.is_border() &amp;&amp; tranks[windex]==1) {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;          <span class="keywordtype">int</span> m = 1 + (tranks[vindex]&lt;2);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> tng = -h.tangent(); tng.<a class="code" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">normalize</a>();</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;          <span class="keywordtype">double</span> feg = m * (es[3*windex+2]* tng);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;          edges_pn[ h.opposite().id()] = feg;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;          <span class="keywordflow">if</span> ( feg &gt; maxvs[windex]) maxvs[windex] = feg;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;          <span class="keywordflow">if</span> ( feg &lt; minvs[windex]) minvs[windex] = feg;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="comment">// Update vindex</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        vindex = windex;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      } <span class="keywordflow">while</span> ( (h=h.next()) != h0);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    }</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;  <span class="comment">// Reduce on shared nodes for minedgev and maxedgev</span></div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  _wm-&gt;reduce_on_shared_nodes( minedgev, <a class="code" href="classWindow__manifold__2.html#af09f58870372f80738da979b8e5032bc">Window_manifold_2::OP_MIN</a>);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  _wm-&gt;reduce_on_shared_nodes( maxedgev, <a class="code" href="classWindow__manifold__2.html#aa6affd2367f55636fc9e25d12474c3e4">Window_manifold_2::OP_MAX</a>);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  it = allpanes.begin(); </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="comment">// Insert ridge edges onto _edges</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <a class="code" href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">_edges</a>.clear(); <a class="code" href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">_edges</a>.resize( allpanes.size());</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) { </div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    std::map&lt; Edge_ID, double&gt; &amp;emap_pn = edge_maps[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    std::set&lt; Edge_ID&gt; &amp;eset_pn = <a class="code" href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">_edges</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> *minvs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      ( pane-&gt;attribute(minedgev-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> *maxvs = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      ( pane-&gt;attribute(maxedgev-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="comment">// Loop throug ebuf and put ridges edges onto edges_pn</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    <span class="keywordflow">for</span> ( std::map&lt; Edge_ID, double&gt;::const_iterator eit=emap_pn.begin(), </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            eend=emap_pn.end(); eit!=eend; ++eit) {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, eit-&gt;first.eid());</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="keywordtype">int</span> vindex = ene[eit-&gt;first.lid()]-1;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="comment">// Push edge onto edge</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="keywordflow">if</span> ( eit-&gt;second == minvs[vindex] || eit-&gt;second == maxvs[vindex])</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        eset_pn.insert( eit-&gt;first);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  }</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// Deallocate minedgev and maxedgev</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;delete_attribute( minedgev-&gt;name());</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;delete_attribute( maxedgev-&gt;name());</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;}</div>
<div class="ttc" id="classElement__node__enumerator_html"><div class="ttname"><a href="classElement__node__enumerator.html">Element_node_enumerator</a></div><div class="ttdoc">An adaptor for enumerating node IDs of an element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00043">Element_accessors.h:43</a></div></div>
<div class="ttc" id="Manifold__2_8h_html_afcea40412870eda456b22d8d6bdbd094"><div class="ttname"><a href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a></div><div class="ttdeci">MAP::Facet_ID Edge_ID</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00049">Manifold_2.h:49</a></div></div>
<div class="ttc" id="classHalfedge_html"><div class="ttname"><a href="classHalfedge.html">Halfedge</a></div><div class="ttdoc">This class encapsulate a halfedge over a window manifold. </div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00446">Manifold_2.h:446</a></div></div>
<div class="ttc" id="classVector__3_html_a378898ca48cb8e4a1cf466e85d33f429"><div class="ttname"><a href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">Vector_3::normalize</a></div><div class="ttdeci">Vector_3 &amp; normalize()</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00114">mapbasic.h:114</a></div></div>
<div class="ttc" id="classWindow__manifold__2_html_a62d7fff29a5689df2645f0463f04f0f5"><div class="ttname"><a href="classWindow__manifold__2.html#a62d7fff29a5689df2645f0463f04f0f5">Window_manifold_2::PM_iterator</a></div><div class="ttdeci">std::vector&lt; Pane_manifold_2 &gt;::iterator PM_iterator</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00187">Manifold_2.h:187</a></div></div>
<div class="ttc" id="Manifold__2_8h_html_a89f93e032c30177474ff80a8fb380c56a420551bea5fe666279e91b4fd68c1aa8"><div class="ttname"><a href="Manifold__2_8h.html#a89f93e032c30177474ff80a8fb380c56a420551bea5fe666279e91b4fd68c1aa8">REAL_PANE</a></div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00052">Manifold_2.h:52</a></div></div>
<div class="ttc" id="classWindow__manifold__2_html_af09f58870372f80738da979b8e5032bc"><div class="ttname"><a href="classWindow__manifold__2.html#af09f58870372f80738da979b8e5032bc">Window_manifold_2::OP_MIN</a></div><div class="ttdeci">static MPI_Op OP_MIN</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00353">Manifold_2.h:353</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="classWindow__manifold__2_html_aa6affd2367f55636fc9e25d12474c3e4"><div class="ttname"><a href="classWindow__manifold__2.html#aa6affd2367f55636fc9e25d12474c3e4">Window_manifold_2::OP_MAX</a></div><div class="ttdeci">static MPI_Op OP_MAX</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00353">Manifold_2.h:353</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00131">roccom_basic.h:131</a></div></div>
<div class="ttc" id="classRocmop_html_a4e1d92d364da276f6b7f647c100f01e7"><div class="ttname"><a href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">Rocmop::_edges</a></div><div class="ttdeci">std::vector&lt; std::set&lt; Edge_ID &gt; &gt; _edges</div><div class="ttdoc">ridge edges </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00426">Rocmop.h:426</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a4163833a771108c7f3243d9da3a685f3_cgraph.png" border="0" usemap="#classRocmop_a4163833a771108c7f3243d9da3a685f3_cgraph" alt=""/></div>
<map name="classRocmop_a4163833a771108c7f3243d9da3a685f3_cgraph" id="classRocmop_a4163833a771108c7f3243d9da3a685f3_cgraph">
<area shape="rect" id="node3" href="classElement__node__enumerator.html#a041249f802c5bf4c2deae666610e03c4" title="Go to the next element within the connectivity tables of a pane. " alt="" coords="196,227,372,274"/><area shape="rect" id="node53" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="215,297,353,327"/><area shape="rect" id="node5" href="classPane.html#a62d5a7a3e02da8c334472006166d67ea" title="Obtain the connectivity table containing the element with the given ID. " alt="" coords="421,133,552,163"/><area shape="rect" id="node7" href="classConnectivity.html#a69bd059da8cf335fbee896488f5c1e97" title="Get the index of the first element. " alt="" coords="601,73,735,119"/><area shape="rect" id="node13" href="classConnectivity.html#a89f1396a7f4dc43120977a9a42c3ceef" title="Get the total number of elements (including ghost elements) in the table. " alt="" coords="605,154,731,201"/><area shape="rect" id="node21" href="classConnectivity.html#a3ab0f5b4dbc683714ef15ccfb16225ac" title="Get a constant pointer to the connectivity array. " alt="" coords="803,309,944,339"/><area shape="rect" id="node42" href="classPane.html#ae5acbe47d704ceb866e3717e2ac9422f" title="Dimension of the pane. " alt="" coords="428,288,545,317"/><area shape="rect" id="node46" href="classPane.html#a78f646f49fb83340032b735b056a19d3" title="Get the number of nodes in i&#45;dimension if the mesh is structured. " alt="" coords="440,341,533,371"/><area shape="rect" id="node51" href="classConnectivity.html#a6b814939135364a0cd18ee54799897ee" title="Get the number of nodes per element of the current connectivity table. " alt="" coords="424,394,549,441"/><area shape="rect" id="node9" href="classConnectivity.html#aafbe63b1107c964c3673375df9a7472a" title="Root of use&#45;inheritance. " alt="" coords="811,5,936,35"/><area shape="rect" id="node11" href="classAttribute.html#a77f06f41441a97714ec0acf49c89b568" title="Root of use&#45;inheritance. " alt="" coords="1028,5,1129,35"/><area shape="rect" id="node15" href="classPane.html#a20818cc1edd59ab35c1eded37741f6ee" title="Pane::ignore_ghost" alt="" coords="1012,105,1145,135"/><area shape="rect" id="node17" href="classConnectivity.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Determine whether the mesh is quadratic. " alt="" coords="784,109,963,139"/><area shape="rect" id="node19" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="851,163,896,192"/><area shape="rect" id="node23" href="classAttribute.html#a61bd804508cb1f9b4c33fd54351b315e" title="Obtain the number of items in the attribute. " alt="" coords="813,239,933,286"/><area shape="rect" id="node25" href="classPane.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain the attribute from given name. " alt="" coords="1195,248,1301,277"/><area shape="rect" id="node38" href="classAttribute.html#a376398cab240594dd4ec0d158b658172" title="Obtain the number of real items in the attribute. " alt="" coords="1019,281,1139,327"/><area shape="rect" id="node27" href="classWindow.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain a pointer to the attribute metadata from its name. " alt="" coords="1351,217,1473,247"/><area shape="rect" id="node33" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="1540,276,1628,305"/><area shape="rect" id="node29" href="classAttribute.html#a75d5ab968c772d5ad3d4269a514b9d80" title="Attribute::is_digit" alt="" coords="1524,153,1644,183"/><area shape="rect" id="node31" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="1524,206,1644,253"/><area shape="rect" id="node48" href="classPane.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Is mesh of the pane structured? " alt="" coords="601,341,735,371"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4163833a771108c7f3243d9da3a685f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void identify_ridge_edges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identify ridge edges. </p>

</div>
</div>
<a class="anchor" id="a4163833a771108c7f3243d9da3a685f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void identify_ridge_edges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Identify ridge edges. </p>

</div>
</div>
<a class="anchor" id="aef6de14f2d8c8b8243f50ff6e732f23a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void invert_elements </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>conn_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair inverted tets or hexes. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8C_source.html#l01713">1713</a> of file <a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a>.</p>

<p>References <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="MesqPane_8C_source.html#l00045">MesqPane::invert()</a>, and <a class="el" href="read_8cpp_source.html#l00077">ni</a>.</p>
<div class="fragment"><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                                         {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::invert_elements&quot;</span>);</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;Entering Rocmop::invert_elements&quot;</span>);</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <a class="code" href="classMesqPane.html">MesqPane</a>* mp = <span class="keyword">new</span> <a class="code" href="classMesqPane.html">MesqPane</a>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]);</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    mp-&gt;<a class="code" href="classMesqPane.html#a7fa1616cc61c19a5efcc863c950f7f30">invert</a>();</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    <span class="comment">//mp-&gt;invert(conn_type);</span></div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    <span class="keywordflow">if</span>(mp)</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <span class="keyword">delete</span> mp;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    mp = NULL;</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  }  </div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;Exiting Rocmop::invert_elements&quot;</span>);</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::invert_tets&quot;</span>);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;}</div>
<div class="ttc" id="classMesqPane_html_a7fa1616cc61c19a5efcc863c950f7f30"><div class="ttname"><a href="classMesqPane.html#a7fa1616cc61c19a5efcc863c950f7f30">MesqPane::invert</a></div><div class="ttdeci">void invert()</div><div class="ttdoc">Invert Tetrahedrons. </div><div class="ttdef"><b>Definition:</b> <a href="MesqPane_8C_source.html#l00045">MesqPane.C:45</a></div></div>
<div class="ttc" id="classMesqPane_html"><div class="ttname"><a href="classMesqPane.html">MesqPane</a></div><div class="ttdoc">A class enabling Mesquite calls on Rocmop panes. </div><div class="ttdef"><b>Definition:</b> <a href="MesqPane_8h_source.html#l00095">MesqPane.h:95</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a7b4df805a767c8b80da5b47b7a649e2f"><div class="ttname"><a href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">Rocmop::print_legible</a></div><div class="ttdeci">void print_legible(int verb, const char *msg)</div><div class="ttdoc">Single process print message if given verbosity level is exceeded. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l01408">Rocmop_1.C:1408</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aef6de14f2d8c8b8243f50ff6e732f23a_cgraph.png" border="0" usemap="#classRocmop_aef6de14f2d8c8b8243f50ff6e732f23a_cgraph" alt=""/></div>
<map name="classRocmop_aef6de14f2d8c8b8243f50ff6e732f23a_cgraph" id="classRocmop_aef6de14f2d8c8b8243f50ff6e732f23a_cgraph">
<area shape="rect" id="node3" href="classMesqPane.html#a7fa1616cc61c19a5efcc863c950f7f30" title="Invert Tetrahedrons. " alt="" coords="169,5,292,35"/><area shape="rect" id="node5" href="PlaneNorm_8f90.html#aff8c3fba8a8281aa23276c4e54edc470" title="offset" alt="" coords="343,5,396,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a33f7bffb33a186986f213c3e9d8bfcdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void invert_tets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair inverted tets. </p>

</div>
</div>
<a class="anchor" id="a33f7bffb33a186986f213c3e9d8bfcdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void invert_tets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repair inverted tets. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00748">748</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="MesqPane_8C_source.html#l00045">MesqPane::invert()</a>, and <a class="el" href="read_8cpp_source.html#l00077">ni</a>.</p>
<div class="fragment"><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                        {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="classMesqPane.html">MesqPane</a>* mp = <span class="keyword">new</span> <a class="code" href="classMesqPane.html">MesqPane</a>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]);</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    mp-&gt;<a class="code" href="classMesqPane.html#a7fa1616cc61c19a5efcc863c950f7f30">invert</a>();</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">if</span>(mp)</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keyword">delete</span> mp;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    mp = NULL;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  }  </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;}</div>
<div class="ttc" id="classMesqPane_html_a7fa1616cc61c19a5efcc863c950f7f30"><div class="ttname"><a href="classMesqPane.html#a7fa1616cc61c19a5efcc863c950f7f30">MesqPane::invert</a></div><div class="ttdeci">void invert()</div><div class="ttdoc">Invert Tetrahedrons. </div><div class="ttdef"><b>Definition:</b> <a href="MesqPane_8C_source.html#l00045">MesqPane.C:45</a></div></div>
<div class="ttc" id="classMesqPane_html"><div class="ttname"><a href="classMesqPane.html">MesqPane</a></div><div class="ttdoc">A class enabling Mesquite calls on Rocmop panes. </div><div class="ttdef"><b>Definition:</b> <a href="MesqPane_8h_source.html#l00095">MesqPane.h:95</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a33f7bffb33a186986f213c3e9d8bfcdc_cgraph.png" border="0" usemap="#classRocmop_a33f7bffb33a186986f213c3e9d8bfcdc_cgraph" alt=""/></div>
<map name="classRocmop_a33f7bffb33a186986f213c3e9d8bfcdc_cgraph" id="classRocmop_a33f7bffb33a186986f213c3e9d8bfcdc_cgraph">
<area shape="rect" id="node3" href="classMesqPane.html#a7fa1616cc61c19a5efcc863c950f7f30" title="Invert Tetrahedrons. " alt="" coords="137,5,260,35"/><area shape="rect" id="node5" href="PlaneNorm_8f90.html#aff8c3fba8a8281aa23276c4e54edc470" title="offset" alt="" coords="311,5,364,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4aab2663cc7cef9510e14b6cf12ec12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> onto Roccom with a given module name. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00088">88</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__basic_8h_source.html#l00138">COM_METADATA</a>, <a class="el" href="roccom__c_09_09_8h_source.html#l00118">COM_new_attribute()</a>, <a class="el" href="roccom__c_09_09_8h_source.html#l00086">COM_new_window()</a>, <a class="el" href="roccom__basic_8h_source.html#l00138">COM_RAWDATA</a>, <a class="el" href="roccom__c_8h.html#ab41e262f86b991f367a93a005e0694b8">COM_set_member_function()</a>, <a class="el" href="roccom__c_09_09_8h_source.html#l00144">COM_set_object()</a>, <a class="el" href="roccom__basic_8h_source.html#l00138">COM_STRING</a>, <a class="el" href="roccom__basic_8h_source.html#l00138">COM_VOID</a>, <a class="el" href="roccom__c_09_09_8h_source.html#l00102">COM_window_init_done()</a>, <a class="el" href="Rocmop_8C_source.html#l00529">set_value()</a>, <a class="el" href="Rocmop_8C_source.html#l00132">smooth()</a>, and <a class="el" href="Rocmop_8C_source.html#l00204">smooth_in_place()</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8C_source.html#l00957">COM_F_FUNC2()</a>, and <a class="el" href="Rocmop_8C_source.html#l00950">Rocmop_load_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                         {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classRocmop.html">Rocmop</a> *mop = <span class="keyword">new</span> <a class="code" href="classRocmop.html#a0e60a6a34154024b5c17092bbb52693c">Rocmop</a>();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="roccom__c_09_09_8h.html#a4859cec968839295988dd58b44f5237e">COM_new_window</a>( mname.c_str());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  std::string glb=mname+<span class="stringliteral">&quot;.global&quot;</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="roccom__c_09_09_8h.html#ad7bf2c13f6aa69e81834215fd3e05203">COM_new_attribute</a>( glb.c_str(), <span class="charliteral">&#39;w&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea282f48d2b19046fc2308907d7a3e1a75">COM_VOID</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="roccom__c_09_09_8h.html#a5e5321de4f0f8940ea99b25b0060afe3">COM_set_object</a>( glb.c_str(), 0, mop);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="roccom__basic_8h.html#ae5dca36df81592858b837960b81cece6">COM_Type</a> types[3];</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  types[0] = <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea87391b54ed3f3fb0671cf4350a5d6344">COM_RAWDATA</a>; types[1] = <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea17dce372be9e41eb4ef96dec508b5d2f">COM_METADATA</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  types[2] = <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea17dce372be9e41eb4ef96dec508b5d2f">COM_METADATA</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="roccom__c_8h.html#ab41e262f86b991f367a93a005e0694b8">COM_set_member_function</a>( (mname+<span class="stringliteral">&quot;.smooth&quot;</span>).c_str(), </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                           (Member_func_ptr)(&amp;<a class="code" href="classRocmop.html#a4f438b3fbdef34029dda3ef9564f2272">Rocmop::smooth</a>),</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                           glb.c_str(), <span class="stringliteral">&quot;biB&quot;</span>, types);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="roccom__c_8h.html#ab41e262f86b991f367a93a005e0694b8">COM_set_member_function</a>( (mname+<span class="stringliteral">&quot;.smooth_in_place&quot;</span>).c_str(), </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                           (Member_func_ptr)(&amp;<a class="code" href="classRocmop.html#ac248e110186c57ebe9e9775996404554">Rocmop::smooth_in_place</a>),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                           glb.c_str(), <span class="stringliteral">&quot;bb&quot;</span>, types);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  types[1] = <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9eaf2d511ad97b01dd3f36c7eed2f96c95d">COM_STRING</a>; types[2] = <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea282f48d2b19046fc2308907d7a3e1a75">COM_VOID</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="roccom__c_8h.html#ab41e262f86b991f367a93a005e0694b8">COM_set_member_function</a>( (mname+<span class="stringliteral">&quot;.set_value&quot;</span>).c_str(), </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                           (Member_func_ptr)(&amp;<a class="code" href="classRocmop.html#ad7b8e28a93fe2b5fa69d4b896aaddcb2">Rocmop::set_value</a>),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                           glb.c_str(), <span class="stringliteral">&quot;bii&quot;</span>, types);    </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="roccom__c_09_09_8h.html#a194cf98ab438699fba9f1d1705044e70">COM_window_init_done</a>( mname.c_str());</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="ttc" id="roccom__basic_8h_html_ae5dca36df81592858b837960b81cece6"><div class="ttname"><a href="roccom__basic_8h.html#ae5dca36df81592858b837960b81cece6">COM_Type</a></div><div class="ttdeci">int COM_Type</div><div class="ttdoc">Indices for derived data types. </div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00122">roccom_basic.h:122</a></div></div>
<div class="ttc" id="classRocmop_html_ac248e110186c57ebe9e9775996404554"><div class="ttname"><a href="classRocmop.html#ac248e110186c57ebe9e9775996404554">Rocmop::smooth_in_place</a></div><div class="ttdeci">void smooth_in_place(COM::Attribute *pmesh)</div><div class="ttdoc">Smooth a mesh in place.. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00204">Rocmop.C:204</a></div></div>
<div class="ttc" id="classRocmop_html"><div class="ttname"><a href="classRocmop.html">Rocmop</a></div><div class="ttdoc">A Roccom mesh optimization module. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00041">Rocmop.h:41</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_a5e5321de4f0f8940ea99b25b0060afe3"><div class="ttname"><a href="roccom__c_09_09_8h.html#a5e5321de4f0f8940ea99b25b0060afe3">COM_set_object</a></div><div class="ttdeci">void COM_set_object(const char *wa_str, int pane_id, Type *addr)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00144">roccom_c++.h:144</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_a194cf98ab438699fba9f1d1705044e70"><div class="ttname"><a href="roccom__c_09_09_8h.html#a194cf98ab438699fba9f1d1705044e70">COM_window_init_done</a></div><div class="ttdeci">void COM_window_init_done(const char *w_str, int pane_changed=true)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00102">roccom_c++.h:102</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea17dce372be9e41eb4ef96dec508b5d2f"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea17dce372be9e41eb4ef96dec508b5d2f">COM_METADATA</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00138">roccom_basic.h:138</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_a4859cec968839295988dd58b44f5237e"><div class="ttname"><a href="roccom__c_09_09_8h.html#a4859cec968839295988dd58b44f5237e">COM_new_window</a></div><div class="ttdeci">void COM_new_window(const char *wname, MPI_Comm c=MPI_COMM_NULL)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00086">roccom_c++.h:86</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea282f48d2b19046fc2308907d7a3e1a75"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea282f48d2b19046fc2308907d7a3e1a75">COM_VOID</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00138">roccom_basic.h:138</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea87391b54ed3f3fb0671cf4350a5d6344"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea87391b54ed3f3fb0671cf4350a5d6344">COM_RAWDATA</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00138">roccom_basic.h:138</a></div></div>
<div class="ttc" id="classRocmop_html_a4f438b3fbdef34029dda3ef9564f2272"><div class="ttname"><a href="classRocmop.html#a4f438b3fbdef34029dda3ef9564f2272">Rocmop::smooth</a></div><div class="ttdeci">void smooth(const COM::Attribute *pmesh, COM::Attribute *disp)</div><div class="ttdoc">Smooth the mesh in a Rocmop managed buffer. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00132">Rocmop.C:132</a></div></div>
<div class="ttc" id="roccom__c_8h_html_ab41e262f86b991f367a93a005e0694b8"><div class="ttname"><a href="roccom__c_8h.html#ab41e262f86b991f367a93a005e0694b8">COM_set_member_function</a></div><div class="ttdeci">void COM_set_member_function(const char *wf_str, Func_ptr func, const char *wa_str, const char *intents, const COM_Type *types)</div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_ad7bf2c13f6aa69e81834215fd3e05203"><div class="ttname"><a href="roccom__c_09_09_8h.html#ad7bf2c13f6aa69e81834215fd3e05203">COM_new_attribute</a></div><div class="ttdeci">void COM_new_attribute(const char *wa_str, const char loc, const int type, int ncomp, const char *unit)</div><div class="ttdoc">Registering an attribute type. </div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00118">roccom_c++.h:118</a></div></div>
<div class="ttc" id="classRocmop_html_a0e60a6a34154024b5c17092bbb52693c"><div class="ttname"><a href="classRocmop.html#a0e60a6a34154024b5c17092bbb52693c">Rocmop::Rocmop</a></div><div class="ttdeci">Rocmop()</div><div class="ttdoc">Default Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00055">Rocmop.h:55</a></div></div>
<div class="ttc" id="classRocmop_html_ad7b8e28a93fe2b5fa69d4b896aaddcb2"><div class="ttname"><a href="classRocmop.html#ad7b8e28a93fe2b5fa69d4b896aaddcb2">Rocmop::set_value</a></div><div class="ttdeci">void set_value(const char *opt, const void *val)</div><div class="ttdoc">Set a Rocomp option. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00529">Rocmop.C:529</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9eaf2d511ad97b01dd3f36c7eed2f96c95d"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9eaf2d511ad97b01dd3f36c7eed2f96c95d">COM_STRING</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00138">roccom_basic.h:138</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_cgraph.png" border="0" usemap="#classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_cgraph" alt=""/></div>
<map name="classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_cgraph" id="classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_cgraph">
<area shape="rect" id="node3" href="roccom__c_09_09_8h.html#ad7bf2c13f6aa69e81834215fd3e05203" title="Registering an attribute type. " alt="" coords="125,5,264,35"/><area shape="rect" id="node7" href="roccom__c_09_09_8h.html#a4859cec968839295988dd58b44f5237e" title="COM_new_window" alt="" coords="128,59,261,88"/><area shape="rect" id="node10" href="roccom__c_8h.html#ab41e262f86b991f367a93a005e0694b8" title="COM_set_member_function" alt="" coords="103,112,287,141"/><area shape="rect" id="node12" href="roccom__c_09_09_8h.html#a5e5321de4f0f8940ea99b25b0060afe3" title="COM_set_object" alt="" coords="135,165,255,195"/><area shape="rect" id="node15" href="roccom__c_09_09_8h.html#a194cf98ab438699fba9f1d1705044e70" title="COM_window_init_done" alt="" coords="113,219,276,248"/><area shape="rect" id="node18" href="classRocmop.html#ad7b8e28a93fe2b5fa69d4b896aaddcb2" title="Set a Rocomp option. " alt="" coords="156,272,233,301"/><area shape="rect" id="node24" href="classRocmop.html#a4f438b3fbdef34029dda3ef9564f2272" title="Smooth the mesh in a Rocmop managed buffer. " alt="" coords="163,325,227,355"/><area shape="rect" id="node46" href="classRocmop.html#ac248e110186c57ebe9e9775996404554" title="Smooth a mesh in place.. " alt="" coords="135,379,255,408"/><area shape="rect" id="node5" href="Roccom__base_8h.html#acae08a4a05370b226bc5aef8c478a00b" title="COM_get_roccom" alt="" coords="336,112,464,141"/><area shape="rect" id="node20" href="namespacecimg__library_1_1cimg.html#ab9308a5128017dd92d3f602a19ca7611" title="cimg_library::cimg\l::option" alt="" coords="336,246,464,293"/><area shape="rect" id="node22" href="namespacecimg__library_1_1cimg.html#abc491a5ed3a8d97e395138a379767a45" title="Compute the basename of a filename. " alt="" coords="521,233,649,279"/><area shape="rect" id="node26" href="classRocblas.html#a7c4e389cce4e1bb681a77878e6105f29" title="Operation wrapper for subtraction. " alt="" coords="351,343,449,372"/><area shape="rect" id="node28" href="classRocblas.html#a014ebce01bb2ec4eacb969b142b13d97" title="Chooses which calc function to call based on type of y. " alt="" coords="512,303,659,332"/><area shape="rect" id="node34" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="517,356,653,385"/><area shape="rect" id="node36" href="classAttribute.html#a59792315103c4358049673a86e8579fb" title="Obtain the full name of the attribute including window name suitable for printing out error messages..." alt="" coords="521,413,649,443"/><area shape="rect" id="node30" href="classAttribute.html#ab642771d1269b6ccb9e6ba87ec15de3b" title="Checks whether the attribute is associated with the window. " alt="" coords="707,241,861,271"/><area shape="rect" id="node32" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="724,294,844,341"/><area shape="rect" id="node38" href="classWindow.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the window&#39;s name. " alt="" coords="729,364,839,393"/><area shape="rect" id="node40" href="classAttribute.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the name of the attribute. " alt="" coords="729,417,839,447"/><area shape="rect" id="node42" href="classAttribute.html#ae879462c456db18c8c3b111bcd2d1a01" title="Obtain a constant pointer to the parent window of the attribute. " alt="" coords="723,471,845,500"/><area shape="rect" id="node44" href="classPane.html#a05d1abca9cbb0ec7bdc59f58dd81797c" title="Obtain a constant pointer to its owner window object. " alt="" coords="909,471,1013,500"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_icgraph.png" border="0" usemap="#classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_icgraph" alt=""/></div>
<map name="classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_icgraph" id="classRocmop_aa4aab2663cc7cef9510e14b6cf12ec12_icgraph">
<area shape="rect" id="node3" href="Rocmop_8C.html#a22b71c82a1713e49ad1aae9533033f29" title="COM_F_FUNC2" alt="" coords="117,5,237,35"/><area shape="rect" id="node5" href="Rocmop_8C.html#a30f9b111edcdc155ec96cd08ab117b18" title="Rocmop_load_module" alt="" coords="103,59,252,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6ae6b685a1228664165da5f86e3a7f28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> onto Roccom with a given module name. </p>

</div>
</div>
<a class="anchor" id="a6ae6b685a1228664165da5f86e3a7f28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> onto Roccom with a given module name. </p>

</div>
</div>
<a class="anchor" id="a71254cee007425aa22f9566f1965001d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual SURF::Window_manifold_2* manifold </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a reference to the manifold. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00201">201</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  { <span class="keywordflow">return</span> _wm;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71254cee007425aa22f9566f1965001d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual SURF::Window_manifold_2* manifold </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a reference to the manifold. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00202">202</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  { <span class="keywordflow">return</span> _wm;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a71254cee007425aa22f9566f1965001d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual SURF::Window_manifold_2* manifold </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a reference to the manifold. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00223">223</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  { <span class="keywordflow">return</span> _wm;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5c86012e49ffd3488beacec5a4f5f03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_elems_from_nodes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_elems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the nodes which contain marked elems. </p>

</div>
</div>
<a class="anchor" id="ad5c86012e49ffd3488beacec5a4f5f03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_elems_from_nodes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_elems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the nodes which contain marked elems. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00712">712</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, and <a class="el" href="read_8cpp_source.html#l00074">nk</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                                                             {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::mark_elems_from_nodes&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  std::vector&lt;const COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keywordtype">int</span> local_npanes = (int)allpanes.size();</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  marked_elems.clear();</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  marked_elems.resize(local_npanes);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="comment">//Loop through panes</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; (int)(local_npanes); ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    marked_elems[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].clear();</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    marked_elems[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements(),<span class="keyword">false</span>);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">// Loop through real elements.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// Mark for quality check if they contain shared nodes.</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="keywordtype">int</span> s_real_elems = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements();</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    std::vector&lt;int&gt; nodes;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=1; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;= s_real_elems; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      ene.get_nodes(nodes);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0, <a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=nodes.size(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordflow">if</span> (marked_nodes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][nodes[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1])</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          marked_elems[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>-1] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    }</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::mark_elems_from_nodes&quot;</span> &lt;&lt; std::endl;  </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;}</div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad5c86012e49ffd3488beacec5a4f5f03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mark_elems_from_nodes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>marked_elems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the nodes which contain marked elems. </p>

</div>
</div>
<a class="anchor" id="a68df94f4705a5056a0324b5ec65ab466"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void obtain_extremal_dihedrals </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain the min and max dihedral angles. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8C_source.html#l01991">1991</a> of file <a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a>.</p>

<p>References <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                                                                                                   {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;  <span class="keyword">const</span> COM::Window *win = att-&gt;window();</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordtype">bool</span> cominit = <a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>();</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  <span class="keywordflow">if</span>(cominit){</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank( win-&gt;get_communicator(),</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                              &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); assert( ierr == 0);</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  }</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  std::vector&lt;const Pane*&gt; allpanes;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;  win-&gt;panes(allpanes);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;  max_angle[0] = 0.0;</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;  min_angle[0] = 180.0;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="keywordflow">if</span>(angles[1]&gt;max_angle[0])</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        max_angle[0] = angles[1];</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;      <span class="keywordflow">if</span>(angles[0]&lt;min_angle[0])</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        min_angle[0] = angles[0];</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    }</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;  }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;  <span class="keywordflow">if</span>(cominit){</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;    <span class="keywordtype">double</span> temp = max_angle[0];</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    MPI_Allreduce(&amp;max_angle[0], &amp;temp, 1, MPI_DOUBLE, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>,</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                  win-&gt;get_communicator());</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    max_angle[0] = temp;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    temp = min_angle[0];</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    MPI_Allreduce(&amp;min_angle[0], &amp;temp, 1, MPI_DOUBLE, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>,</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                  win-&gt;get_communicator());</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    min_angle[0] = temp;</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  }</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a68df94f4705a5056a0324b5ec65ab466_cgraph.png" border="0" usemap="#classRocmop_a68df94f4705a5056a0324b5ec65ab466_cgraph" alt=""/></div>
<map name="classRocmop_a68df94f4705a5056a0324b5ec65ab466_cgraph" id="classRocmop_a68df94f4705a5056a0324b5ec65ab466_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="243,5,381,35"/><area shape="rect" id="node5" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="227,59,397,88"/><area shape="rect" id="node7" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="239,111,385,158"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a79e21051b9bdb94452808bc6740afc89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_iterative_smoothing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform iterative smoothing. </p>
<p>Run an iterative smoothing method if needed until either the maximum number of iterations is reached or the required quality is achieved. </p>

</div>
</div>
<a class="anchor" id="a79e21051b9bdb94452808bc6740afc89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_iterative_smoothing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform iterative smoothing. </p>
<p>Run an iterative smoothing method if needed until either the maximum number of iterations is reached or the required quality is achieved. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l00798">798</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                        {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">// All internal iterative behavior has been removed.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::perform_itersmooth&quot;</span>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;    Entering Rocmop::perform_iterative_smoothing&quot;</span>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>, <span class="stringliteral">&quot;Unexpected NULL pointer encountered.&quot;</span>);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  std::vector&lt;const Pane*&gt; allpanes;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="preprocessor">#ifdef MESQUITE</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <a class="code" href="classRocmop.html#a35de0b32e6ac1098a26269c458f15f5b">smooth_vol_mesq_wg</a>();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <a class="code" href="classRocmop.html#ad94a043bec4799aa0bb568acd4b9f705">smooth_vol_mesq_ng</a>();</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">if</span>((<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>) || (<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>))</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0,<span class="stringliteral">&quot;Rocmop not compiled with MESQUITE&quot;</span>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <a class="code" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f">smooth_surf_medial</a>();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0, <span class="stringliteral">&quot;No valid iterative smoothing method selected&quot;</span>);  </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;    Exiting Rocmop::perform_iterative_smoothing&quot;</span>);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::perform_itersmooth&quot;</span>);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a35de0b32e6ac1098a26269c458f15f5b"><div class="ttname"><a href="classRocmop.html#a35de0b32e6ac1098a26269c458f15f5b">Rocmop::smooth_vol_mesq_wg</a></div><div class="ttdeci">void smooth_vol_mesq_wg()</div><div class="ttdoc">Smooth a volume via Mesquite using ghost information. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__mesquite__1_8C_source.html#l00058">smooth_mesquite_1.C:58</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_ad94a043bec4799aa0bb568acd4b9f705"><div class="ttname"><a href="classRocmop.html#ad94a043bec4799aa0bb568acd4b9f705">Rocmop::smooth_vol_mesq_ng</a></div><div class="ttdeci">void smooth_vol_mesq_ng()</div><div class="ttdoc">Smooths a volume using Mesquite with only shared node information. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00276">Rocmop_1.h:276</a></div></div>
<div class="ttc" id="classRocmop_html_a7b4df805a767c8b80da5b47b7a649e2f"><div class="ttname"><a href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">Rocmop::print_legible</a></div><div class="ttdeci">void print_legible(int verb, const char *msg)</div><div class="ttdoc">Single process print message if given verbosity level is exceeded. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l01408">Rocmop_1.C:1408</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">Rocmop::SMOOTH_SURF_MEDIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">Rocmop::SMOOTH_VOL_MESQ_NG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_a679bfb8c7da7e819b00dc132ba57dc8f"><div class="ttname"><a href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f">Rocmop::smooth_surf_medial</a></div><div class="ttdeci">void smooth_surf_medial()</div><div class="ttdoc">Smooths a surface using the medial quadric. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00230">smooth_medial.C:230</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada1b36ea37818e0495235d69db409c3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_iterative_smoothing </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pre_quality</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform iterative smoothing. </p>
<p>Run an iterative smoothing method if needed until either the maximum number of iterations is reached or the required quality is achieved.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td>see <a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2" title="Perform smoothing on _buf_window. ">perform_smoothing()</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00290">290</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, and <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                                          {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;    Entering Rocmop::perform_iterative_smoothing&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>, <span class="stringliteral">&quot;Unexpected NULL pointer encountered.&quot;</span>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="comment">// bool_iter is true until the max number of iterations (_niter)</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// is reached or the minimum quality (_tol) is reached.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordtype">int</span> to_iter = <span class="keyword">true</span>; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  std::vector&lt;const Pane*&gt; allpanes;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordtype">double</span> cur_qual = pre_quality;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> = 0; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      ( (<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; <a class="code" href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">_niter</a>) &amp;&amp; (to_iter) ); </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, <a class="code" href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">agree_int</a>(to_iter, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>)){</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 2)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;      Smoothing iteration &quot;</span> &lt;&lt; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="preprocessor">#ifdef MESQUITE</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>){</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="comment">//std::string msg(&quot;\nQuality prior to smoothing = &quot;);</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <span class="comment">//print_quality(msg);</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      <a class="code" href="classRocmop.html#a35de0b32e6ac1098a26269c458f15f5b">smooth_vol_mesq_wg</a>(cur_qual);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">//    else if(_method == SMOOTH_LAPLACE)</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="comment">//  smooth_laplace();</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a> == <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>){</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="comment">//std::string msg(&quot;Quality prior to smoothing = &quot;);</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="comment">//print_quality(msg);</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <a class="code" href="classRocmop.html#ad94a043bec4799aa0bb568acd4b9f705">smooth_vol_mesq_ng</a>(cur_qual);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>) || (<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>))</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0,<span class="stringliteral">&quot;Rocmop not compiled with MESQUITE&quot;</span>);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <a class="code" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f">smooth_surf_medial</a>();</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">else</span> <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0, <span class="stringliteral">&quot;No valid iterative smoothing method selected&quot;</span>);  </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">// If a non zero quality tolerance is set, then determine if quality</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// is low enough to warrant smoothing.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a> != 0.0 ){</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      cur_qual = <a class="code" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a>(allpanes);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">if</span>(cur_qual &gt;= <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        to_iter = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;    Exiting Rocmop::perform_iterative_smoothing&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_ab8a56d10bd215a994da860edae29be78"><div class="ttname"><a href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">Rocmop::check_all_elem_quality</a></div><div class="ttdeci">double check_all_elem_quality(std::vector&lt; const COM::Pane * &gt; &amp;allpanes, bool with_ghost=false)</div><div class="ttdoc">Get the largest dihedral angle of all real elements. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00785">Rocmop.C:785</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_a35de0b32e6ac1098a26269c458f15f5b"><div class="ttname"><a href="classRocmop.html#a35de0b32e6ac1098a26269c458f15f5b">Rocmop::smooth_vol_mesq_wg</a></div><div class="ttdeci">void smooth_vol_mesq_wg()</div><div class="ttdoc">Smooth a volume via Mesquite using ghost information. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__mesquite__1_8C_source.html#l00058">smooth_mesquite_1.C:58</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_ad94a043bec4799aa0bb568acd4b9f705"><div class="ttname"><a href="classRocmop.html#ad94a043bec4799aa0bb568acd4b9f705">Rocmop::smooth_vol_mesq_ng</a></div><div class="ttdeci">void smooth_vol_mesq_ng()</div><div class="ttdoc">Smooths a volume using Mesquite with only shared node information. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00276">Rocmop_1.h:276</a></div></div>
<div class="ttc" id="classRocmop_html_a96ba011a343077f4e01e89ab7f15c791"><div class="ttname"><a href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">Rocmop::_niter</a></div><div class="ttdeci">int _niter</div><div class="ttdoc">Maximum number of iterations for smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00469">Rocmop.h:469</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">Rocmop::SMOOTH_SURF_MEDIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">Rocmop::SMOOTH_VOL_MESQ_NG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a679bfb8c7da7e819b00dc132ba57dc8f"><div class="ttname"><a href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f">Rocmop::smooth_surf_medial</a></div><div class="ttdeci">void smooth_surf_medial()</div><div class="ttdoc">Smooths a surface using the medial quadric. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00230">smooth_medial.C:230</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_aff58f80a52e7dd9a4610db0a68713899"><div class="ttname"><a href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">Rocmop::agree_int</a></div><div class="ttdeci">void agree_int(int &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on an integer value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00226">Rocmop.h:226</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a8cdb8629071d7ca975031d1d63e6b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_noniterative_smoothing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform noniterative smoothing. </p>

</div>
</div>
<a class="anchor" id="a8a8cdb8629071d7ca975031d1d63e6b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_noniterative_smoothing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform noniterative smoothing. </p>

</div>
</div>
<a class="anchor" id="a8a8cdb8629071d7ca975031d1d63e6b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_noniterative_smoothing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform noniterative smoothing. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00344">344</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>.</p>
<div class="fragment"><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                           {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;    Entering Rocmop::perform_noniterative_smoothing&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">_niter</a> != 1){</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Although the maximum number of iterations &gt; 1 is selected,\n&quot;</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;the smoothing method is noniterative, and will run once.\n&quot;</span>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">if</span> (0)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    ;<span class="comment">// Currently, no noniterative methods exist.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0, <span class="stringliteral">&quot;No valid noniterative smoothing method selected&quot;</span>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;    Exiting Rocmop::perform_noniterative_smoothing&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a96ba011a343077f4e01e89ab7f15c791"><div class="ttname"><a href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">Rocmop::_niter</a></div><div class="ttdeci">int _niter</div><div class="ttdoc">Maximum number of iterations for smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00469">Rocmop.h:469</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aceadec08b7100ec1b2d1252e4d1b1da2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_smoothing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform smoothing on _buf_window. </p>
<p>Calls <a class="el" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7" title="Perform smoother specific initialization. ">smoother_specific_init()</a>, and then selects between <a class="el" href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89" title="Perform iterative smoothing. ">perform_iterative_smoothing()</a> and <a class="el" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1" title="Perform noniterative smoothing. ">perform_noniterative_smoothing()</a> as required by the currently selected smoothing method. </p>

</div>
</div>
<a class="anchor" id="aa1ec452c2f77be3c17016a61c8ce0772"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_smoothing </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pre_quality</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform smoothing on _wrk_window. </p>
<p>Calls <a class="el" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7" title="Perform smoother specific initialization. ">smoother_specific_init()</a>, and then selects between <a class="el" href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89" title="Perform iterative smoothing. ">perform_iterative_smoothing()</a> and <a class="el" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1" title="Perform noniterative smoothing. ">perform_noniterative_smoothing()</a> as required by the currently selected smoothing method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td>pre-smoothed mesh quality or the worst quality possible if not in lazy or monotone mode. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00269">269</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                                {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Entering Rocmop::perform_smoothing&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>, <span class="stringliteral">&quot;Unexpected NULL pointer encountered.&quot;</span>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// Perform initialization specific to the smoother.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <a class="code" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7">smoother_specific_init</a>();</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// Select iterative or noniterative option depending on the smoother.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="keywordflow">if</span> (0) <span class="comment">// No noniterative smoothers currently</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <a class="code" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1">perform_noniterative_smoothing</a>();</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a> &lt; <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89">perform_iterative_smoothing</a>(pre_quality);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0, <span class="stringliteral">&quot;No valid smoothing method selected&quot;</span>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Exiting Rocmop::perform_smoothing&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a8a8cdb8629071d7ca975031d1d63e6b1"><div class="ttname"><a href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1">Rocmop::perform_noniterative_smoothing</a></div><div class="ttdeci">void perform_noniterative_smoothing()</div><div class="ttdoc">Perform noniterative smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00344">Rocmop.C:344</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_aa4ccb82202e8cfdb21a511ff6336bab7"><div class="ttname"><a href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7">Rocmop::smoother_specific_init</a></div><div class="ttdeci">void smoother_specific_init()</div><div class="ttdoc">Perform smoother specific initialization. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00364">Rocmop.C:364</a></div></div>
<div class="ttc" id="classRocmop_html_a79e21051b9bdb94452808bc6740afc89"><div class="ttname"><a href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89">Rocmop::perform_iterative_smoothing</a></div><div class="ttdeci">void perform_iterative_smoothing()</div><div class="ttdoc">Perform iterative smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00798">Rocmop_1.C:798</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aceadec08b7100ec1b2d1252e4d1b1da2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perform_smoothing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform smoothing on _buf_window. </p>
<p>Calls <a class="el" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7" title="Perform smoother specific initialization. ">smoother_specific_init()</a>, and then selects between <a class="el" href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89" title="Perform iterative smoothing. ">perform_iterative_smoothing()</a> and <a class="el" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1" title="Perform noniterative smoothing. ">perform_noniterative_smoothing()</a> as required by the currently selected smoothing method. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l00776">776</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>.</p>
<div class="fragment"><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                              {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::perform_smoothing&quot;</span>);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;  Entering Rocmop::perform_smoothing&quot;</span>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>, <span class="stringliteral">&quot;Unexpected NULL pointer encountered.&quot;</span>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="comment">// Select iterative or noniterative option depending on the smoother.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="keywordflow">if</span> (0) <span class="comment">// No noniterative smoothers currently</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <a class="code" href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1">perform_noniterative_smoothing</a>();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a> &lt; <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89">perform_iterative_smoothing</a>();</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0, <span class="stringliteral">&quot;No valid smoothing method selected&quot;</span>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;  Exiting Rocmop::perform_smoothing&quot;</span>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::perform_smoothing&quot;</span>);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;}</div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a8a8cdb8629071d7ca975031d1d63e6b1"><div class="ttname"><a href="classRocmop.html#a8a8cdb8629071d7ca975031d1d63e6b1">Rocmop::perform_noniterative_smoothing</a></div><div class="ttdeci">void perform_noniterative_smoothing()</div><div class="ttdoc">Perform noniterative smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00344">Rocmop.C:344</a></div></div>
<div class="ttc" id="classRocmop_html_a7b4df805a767c8b80da5b47b7a649e2f"><div class="ttname"><a href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">Rocmop::print_legible</a></div><div class="ttdeci">void print_legible(int verb, const char *msg)</div><div class="ttdoc">Single process print message if given verbosity level is exceeded. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l01408">Rocmop_1.C:1408</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
<div class="ttc" id="classRocmop_html_a79e21051b9bdb94452808bc6740afc89"><div class="ttname"><a href="classRocmop.html#a79e21051b9bdb94452808bc6740afc89">Rocmop::perform_iterative_smoothing</a></div><div class="ttdeci">void perform_iterative_smoothing()</div><div class="ttdoc">Perform iterative smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00798">Rocmop_1.C:798</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a124effafd55e3f6b6c663e771b1f7f31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perturb_stationary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Randomly perturn stationary nodes on pane boundary, not on phys. surface. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l01689">1689</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="includeLinks_2Vector3D_8hpp_source.html#l00400">Mesquite::length()</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="CImg_8h_source.html#l04833">cimg_library::cimg::rand()</a>.</p>
<div class="fragment"><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                               {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::perturb_stat&quot;</span>);</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;  <span class="comment">// first calculate current quality of all nodes.</span></div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  std::vector&lt;const Pane*&gt; allpanes;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  std::vector&lt;const Pane*&gt; allpanes_usr;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;panes(allpanes_usr);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  COM::Attribute *w_fgpn_bnd = </div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<span class="stringliteral">&quot;is_fgpn_bnd&quot;</span>);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  COM::Attribute *w_qual_b_perturb =</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<span class="stringliteral">&quot;qual_b_perturb&quot;</span>);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  COM::Attribute *w_qual_a_perturb =</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;    <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<span class="stringliteral">&quot;qual_a_perturb&quot;</span>);</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  </div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">// Get worst quality on local panes</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>=allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  </div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    COM::Attribute *p_fgpn_bnd = </div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_fgpn_bnd-&gt;id()));</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    COM::Attribute *p_qual_b_perturb = </div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_qual_b_perturb-&gt;id()));</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160; </div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="keywordtype">int</span>* fgpn_bnd_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span>(p_fgpn_bnd-&gt;pointer());</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordtype">double</span>* qual_b_perturb_ptr = </div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span>(p_qual_b_perturb-&gt;pointer());</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    std::vector&lt;int&gt; elist;</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    <span class="comment">// only worry about real nodes, ghost nodes should be fixed      </span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>= allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <span class="keywordflow">if</span>(fgpn_bnd_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]){</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        <a class="code" href="classRocmop.html#a356bd34e4b257a8aba764708984ef3c5">_dcs</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;incident_elements(j+1,elist);</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;        qual_b_perturb_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 0.0;</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordflow">for</span>(uint <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0, <a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=elist.size(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;          Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;          <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;          am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;          am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;          <span class="keywordflow">if</span>(angles[1]&gt;qual_b_perturb_ptr[j])</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;            qual_b_perturb_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = angles[1];  </div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        }</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      }</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    }</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  }</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="comment">// Get the worst quality across all panes</span></div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    MAP::Pane_communicator pc(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>, <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    pc.init(w_qual_b_perturb);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    pc.begin_update_shared_nodes();</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    pc.reduce_on_shared_nodes(<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    pc.end_update_shared_nodes();</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  }    </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="comment">// Now generate random perturbations</span></div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,ni=allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    COM::Attribute *p_fgpn_bnd = </div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_fgpn_bnd-&gt;id()));</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    COM::Attribute *p_nc = </div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>));</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160; </div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordtype">int</span>* fgpn_bnd_ptr = </div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span>(p_fgpn_bnd-&gt;pointer());</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* nc_ptr = </div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span>(p_nc-&gt;pointer());</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    std::vector&lt;int&gt; elist;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    <span class="comment">// only worry about real nodes, ghost nodes should be fixed      </span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0, nj= (<span class="keywordtype">int</span>)allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); j&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <span class="keywordflow">if</span>(fgpn_bnd_ptr[j]){</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <a class="code" href="classRocmop.html#a356bd34e4b257a8aba764708984ef3c5">_dcs</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;incident_elements(j+1,elist);</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        </div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1)</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Perturbing node &quot;</span> &lt;&lt; j+1 &lt;&lt; std::endl;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        <span class="comment">//select a random element</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;        <span class="keywordtype">int</span> rand_el = (<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4">std::rand</a>()%elist.size());</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],elist[rand_el]);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        std::vector&lt;int&gt; enodes;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        ene.get_nodes(enodes);</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        </div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;        <span class="comment">// get length of a randomly selected incident edge of the element</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordtype">int</span> rand_ed = (<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4">std::rand</a>()%3)+1;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        <span class="keywordtype">int</span> nindex = 0;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> nk= (<span class="keywordtype">int</span>)enodes.size(); nindex&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++nindex){</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;          <span class="keywordflow">if</span>(enodes[nindex]==j+1)        </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;        }      </div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        </div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>((nindex&gt;=0 &amp;&amp; nindex&lt;= (<span class="keywordtype">int</span>)enodes.size()),</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;                          <span class="stringliteral">&quot;Node not found in supposedly adjacent element\n&quot;</span>);</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="namespaceMesquite.html#ac7fe4c546e08637612bd9b212daa45e9">length</a> = (nc_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]-nc_ptr[enodes[(nindex+rand_ed)%4]-1]).norm();</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        </div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> perturb(length,length,length);</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;3; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;          perturb[0] *= (<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4">std::rand</a>()%2 == 0) ?</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            (<span class="keywordtype">double</span>)((<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4">std::rand</a>()%1000)+1)/1000.0 :</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            -1.0*((double)((<a class="code" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4">std::rand</a>()%1000)+1)/1000.0);         </div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        }</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        nc_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] += perturb;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;      }</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    }</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  }</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="comment">// Get perturbed worst quality on local panes</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,ni=(<span class="keywordtype">int</span>)allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  </div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    COM::Attribute *p_fgpn_bnd = </div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_fgpn_bnd-&gt;id()));</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    COM::Attribute *p_qual_a_perturb = </div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_qual_a_perturb-&gt;id()));</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160; </div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordtype">int</span>* fgpn_bnd_ptr = </div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span>(p_fgpn_bnd-&gt;pointer());</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <span class="keywordtype">double</span>* qual_a_perturb_ptr = </div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span>(p_qual_a_perturb-&gt;pointer());</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;    std::vector&lt;int&gt; elist;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    <span class="comment">// only worry about real nodes, ghost nodes should be fixed      </span></div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0, nj= (<span class="keywordtype">int</span>)allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); j&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      <span class="keywordflow">if</span>(fgpn_bnd_ptr[j]){</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        <a class="code" href="classRocmop.html#a356bd34e4b257a8aba764708984ef3c5">_dcs</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;incident_elements(j+1,elist);</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        qual_a_perturb_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 0.0;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0, nk=(<span class="keywordtype">int</span>)elist.size(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;          Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;          <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;          am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;          am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;          <span class="keywordflow">if</span>(angles[1]&gt;qual_a_perturb_ptr[j])</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;            qual_a_perturb_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = angles[1];  </div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        }</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;      }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    }</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  }</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="comment">// Get the perturbed worst quality across all panes</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    MAP::Pane_communicator pc(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>, <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    pc.init(w_qual_a_perturb);</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    pc.begin_update_shared_nodes();</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    pc.reduce_on_shared_nodes(<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    pc.end_update_shared_nodes();</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  }    </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="comment">// Reset positions of any nodes whose worst adj. element quality</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="comment">// has gotten worse.</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,ni=allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    COM::Attribute *p_fgpn_bnd = </div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_fgpn_bnd-&gt;id()));</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    COM::Attribute *p_nc = </div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>));</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    COM::Attribute *p_nc_usr = </div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes_usr[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>));</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;      </div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    COM::Attribute *p_qual_b_perturb = </div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_qual_b_perturb-&gt;id()));</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    COM::Attribute *p_qual_a_perturb = </div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(w_qual_a_perturb-&gt;id()));</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160; </div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    <span class="keywordtype">int</span>* fgpn_bnd_ptr = </div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span>(p_fgpn_bnd-&gt;pointer());</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* nc_ptr = </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span>(p_nc-&gt;pointer());</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* nc_ptr_usr = </div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span>(p_nc_usr-&gt;pointer());</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    <span class="keywordtype">double</span>* qual_b_perturb_ptr = </div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span>(p_qual_b_perturb-&gt;pointer());</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordtype">double</span>* qual_a_perturb_ptr = </div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span>(p_qual_a_perturb-&gt;pointer());</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="comment">// only worry about real nodes, ghost nodes should be fixed      </span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0, nj= (<span class="keywordtype">int</span>)allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); j&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <span class="keywordflow">if</span>(fgpn_bnd_ptr[j] &amp;&amp;</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;         (qual_a_perturb_ptr[j] &gt; qual_b_perturb_ptr[j]))</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        nc_ptr[j] = nc_ptr_usr[j];</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    }</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  }  </div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::perturb_stat&quot;</span>);</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="namespaceMesquite_html_ac7fe4c546e08637612bd9b212daa45e9"><div class="ttname"><a href="namespaceMesquite.html#ac7fe4c546e08637612bd9b212daa45e9">Mesquite::length</a></div><div class="ttdeci">double length(Vector3D *const v, int n)</div><div class="ttdef"><b>Definition:</b> <a href="includeLinks_2Vector3D_8hpp_source.html#l00400">includeLinks/Vector3D.hpp:400</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="namespacecimg__library_1_1cimg_html_af31db729637ea4dad61e49e5729839c4"><div class="ttname"><a href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4">cimg_library::cimg::rand</a></div><div class="ttdeci">double rand()</div><div class="ttdoc">Return a random variable between [0,1] with respect to an uniform distribution. </div><div class="ttdef"><b>Definition:</b> <a href="CImg_8h_source.html#l04833">CImg.h:4833</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
<div class="ttc" id="classRocmop_html_a356bd34e4b257a8aba764708984ef3c5"><div class="ttname"><a href="classRocmop.html#a356bd34e4b257a8aba764708984ef3c5">Rocmop::_dcs</a></div><div class="ttdeci">std::vector&lt; MAP::Pane_dual_connectivity * &gt; _dcs</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00466">Rocmop_1.h:466</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a124effafd55e3f6b6c663e771b1f7f31_cgraph.png" border="0" usemap="#classRocmop_a124effafd55e3f6b6c663e771b1f7f31_cgraph" alt=""/></div>
<map name="classRocmop_a124effafd55e3f6b6c663e771b1f7f31_cgraph" id="classRocmop_a124effafd55e3f6b6c663e771b1f7f31_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="197,5,336,35"/><area shape="rect" id="node5" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="181,59,352,88"/><area shape="rect" id="node7" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="193,111,340,158"/><area shape="rect" id="node9" href="namespaceMesquite.html#ac7fe4c546e08637612bd9b212daa45e9" title="Mesquite::length" alt="" coords="208,181,325,211"/><area shape="rect" id="node13" href="namespacecimg__library_1_1cimg.html#af31db729637ea4dad61e49e5729839c4" title="Return a random variable between [0,1] with respect to an uniform distribution. " alt="" coords="203,234,331,281"/><area shape="rect" id="node11" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="443,181,485,211"/><area shape="rect" id="node15" href="namespacecimg__library_1_1cimg.html#a84a2f7a220ba6a54893f695b3bcc36e2" title="cimg_library::cimg\l::srand" alt="" coords="400,234,528,281"/><area shape="rect" id="node17" href="namespacecimg__library_1_1cimg.html#af883131bbc64e996d212114cc2b2b21a" title="Get the value of a system timer with a millisecond precision. " alt="" coords="576,234,704,281"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a124effafd55e3f6b6c663e771b1f7f31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void perturb_stationary </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Randomly perturn stationary nodes on pane boundary, not on phys. surface. </p>

</div>
</div>
<a class="anchor" id="a3398a11c308e88338e4799033b97acc9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_extremal_dihedrals </td>
          <td>(</td>
          <td class="paramtype">COM::Window *&#160;</td>
          <td class="paramname"><em>window</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the min and max dihedral angles along with their locations. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l01463">1463</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                                                       {</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::ext_dihedrals&quot;</span>);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="comment">// Find the rank of this processor, making sure to only make</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="comment">// MPI calls on parallel runs</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordtype">int</span> myrank =0;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){ <span class="comment">// true if in parallel</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank( window-&gt;get_communicator(),</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                              &amp;myrank); </div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    assert( ierr == 0);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  }</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  <span class="comment">// Calculate extremal angles on local panes, and</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="comment">// record their locations by pane id and element id</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="keywordtype">double</span> max_angle = 0.0;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  <span class="keywordtype">double</span> min_angle = 180.0; </div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <span class="keywordtype">int</span> max_pane = -1; <span class="comment">// id of pane w/ the largest dihedral angle</span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <span class="keywordtype">int</span> min_pane = -1; <span class="comment">// id of pane w/ the smallest dihedral angle</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <span class="keywordtype">int</span> max_elem = -1; <span class="comment">// id of element w/ the largest dihedral angle</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordtype">int</span> min_elem = -1; <span class="comment">// id of element w/ the smallest dihedral angle</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  window-&gt;panes(allpanes);</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  </div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <span class="keywordflow">if</span>(angles[1]&gt;max_angle){</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;        max_angle = angles[1];</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        max_pane = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id();</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        max_elem = <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <span class="keywordflow">if</span>(angles[0]&lt;min_angle){</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        min_angle = angles[0];</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        min_pane = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;id();</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        min_elem = <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="comment">// Find minimum angle across all panes.</span></div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <span class="comment">// create MPI_DOUBLE_INT data types for send/recv buffs</span></div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <span class="keyword">struct </span>{</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordtype">double</span> value;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>;</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  } send, recv;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  send.value = min_angle;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  send.rank = myrank;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    MPI_Allreduce(&amp;send,&amp;recv,1,MPI_DOUBLE_INT,MPI_MINLOC,</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;               window-&gt;get_communicator());</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  }</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">if</span>(recv.rank == myrank &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1){</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop:&quot;</span> &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;Rocmop: &quot;</span> </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;                &lt;&lt; std::setw(10) &lt;&lt; min_angle &lt;&lt; <span class="stringliteral">&quot; on element &quot;</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;                &lt;&lt; min_elem &lt;&lt; <span class="stringliteral">&quot; of pane &quot;</span> &lt;&lt; min_pane </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    </div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// Sync. output.</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    MPI_Barrier(window-&gt;get_communicator());</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;  }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  <span class="comment">// Find maximum angle across all panes.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  send.value = max_angle;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    MPI_Allreduce(&amp;send,&amp;recv,1,MPI_DOUBLE_INT,MPI_MAXLOC,</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;               window-&gt;get_communicator());</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  }</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="keywordflow">if</span>(recv.rank == myrank &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1){</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop:&quot;</span> &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;Rocmop: &quot;</span> </div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;              &lt;&lt; std::setw(10) &lt;&lt; max_angle &lt;&lt; <span class="stringliteral">&quot; on element &quot;</span></div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;              &lt;&lt; max_elem &lt;&lt; <span class="stringliteral">&quot; of pane &quot;</span> &lt;&lt; max_pane &lt;&lt; std::endl;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="comment">// Sync. output.</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    MPI_Barrier(window-&gt;get_communicator());</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  }</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::ext_dihedrals&quot;</span>);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a3398a11c308e88338e4799033b97acc9_cgraph.png" border="0" usemap="#classRocmop_a3398a11c308e88338e4799033b97acc9_cgraph" alt=""/></div>
<map name="classRocmop_a3398a11c308e88338e4799033b97acc9_cgraph" id="classRocmop_a3398a11c308e88338e4799033b97acc9_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="232,5,371,35"/><area shape="rect" id="node5" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="216,59,387,88"/><area shape="rect" id="node7" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="228,111,375,158"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3398a11c308e88338e4799033b97acc9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_extremal_dihedrals </td>
          <td>(</td>
          <td class="paramtype">COM::Window *&#160;</td>
          <td class="paramname"><em>window</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the min and max dihedral angles along with their locations. </p>

</div>
</div>
<a class="anchor" id="a7b4df805a767c8b80da5b47b7a649e2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_legible </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Single process print message if given verbosity level is exceeded. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l01408">1408</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                                                   {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; verb){</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank( <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;get_communicator(),</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                              &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); </div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    assert( ierr == 0);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;  }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordflow">if</span> (rank==0)</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: &quot;</span> &lt;&lt; msg &lt;&lt; std::endl;</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  }</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a7b4df805a767c8b80da5b47b7a649e2f_cgraph.png" border="0" usemap="#classRocmop_a7b4df805a767c8b80da5b47b7a649e2f_cgraph" alt=""/></div>
<map name="classRocmop_a7b4df805a767c8b80da5b47b7a649e2f_cgraph" id="classRocmop_a7b4df805a767c8b80da5b47b7a649e2f_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="144,5,283,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b4df805a767c8b80da5b47b7a649e2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_legible </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Single process print message if given verbosity level is exceeded. </p>

</div>
</div>
<a class="anchor" id="a7acd2506a68d3e766370f6f60e827e81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_mquality </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>to_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the quality range of marked elements, for debugging. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00883">883</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                                                                  {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  std::vector&lt;std::vector&lt;bool&gt; &gt; elem_to_check;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <a class="code" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a>(to_check, elem_to_check);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  </div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordtype">double</span> max_angle = 0.0;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordtype">double</span> min_angle = 180.0;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordtype">int</span> <span class="keywordtype">id</span> = -1;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a> = elem_to_check[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].size(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">if</span>(elem_to_check[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]){</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],k+1);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">if</span>(angles[1]&gt;max_angle)</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;          max_angle = angles[1];</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordflow">if</span>(angles[0]&lt;min_angle){</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;          <span class="keywordtype">id</span> = <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;          min_angle = angles[0];</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        }</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  }</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  <span class="keywordtype">double</span> temp = min_angle;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(max_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(min_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator()</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                              , &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); </div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    assert( ierr == 0);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  }  </div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordflow">if</span> (rank==0){</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="keywordtype">string</span> outstr(<span class="stringliteral">&quot;angles.txt&quot;</span>);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    ofstream file (outstr.c_str(), std::ios::app);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( file, <span class="stringliteral">&quot;File failed to open\n&quot;</span>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    file &lt;&lt; std::left &lt;&lt; std::setw(30) &lt;&lt; <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a> &lt;&lt; std::setw(0)</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; min_angle &lt;&lt; <span class="stringliteral">&quot; , &quot;</span> &lt;&lt; max_angle &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    file.close();</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>())</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Barrier(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">if</span>(min_angle == temp){</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    </div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;    <span class="keywordtype">string</span> outstr(<span class="stringliteral">&quot;angles.txt&quot;</span>);</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    ofstream file (outstr.c_str(), std::ios::app);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( file, <span class="stringliteral">&quot;File failed to open\n&quot;</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    </div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    file &lt;&lt; <span class="stringliteral">&quot;  worst = (&quot;</span> &lt;&lt; rank &lt;&lt; <span class="stringliteral">&quot; , &quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    file.close();</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>())</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Barrier(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c86012e49ffd3488beacec5a4f5f03"><div class="ttname"><a href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">Rocmop::mark_elems_from_nodes</a></div><div class="ttdeci">void mark_elems_from_nodes(std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</div><div class="ttdoc">Mark the nodes which contain marked elems. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00712">Rocmop.C:712</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a7acd2506a68d3e766370f6f60e827e81_cgraph.png" border="0" usemap="#classRocmop_a7acd2506a68d3e766370f6f60e827e81_cgraph" alt=""/></div>
<map name="classRocmop_a7acd2506a68d3e766370f6f60e827e81_cgraph" id="classRocmop_a7acd2506a68d3e766370f6f60e827e81_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="173,5,312,35"/><area shape="rect" id="node5" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="157,59,328,88"/><area shape="rect" id="node7" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="169,111,316,158"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7acd2506a68d3e766370f6f60e827e81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_mquality </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>to_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the quality range of marked elements, for debugging. </p>

</div>
</div>
<a class="anchor" id="a7acd2506a68d3e766370f6f60e827e81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_mquality </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>to_check</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the quality range of marked elements, for debugging. </p>

</div>
</div>
<a class="anchor" id="a849151f093b2ba49f390acfb835e97da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_quality </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the quality range of all elements, for debugging. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00846">846</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                                      {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordtype">string</span> outstr(<span class="stringliteral">&quot;angles.txt&quot;</span>);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  ofstream file (outstr.c_str(), std::ios::app);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( file, <span class="stringliteral">&quot;File failed to open\n&quot;</span>);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="keywordtype">double</span> max_angle = 0.0;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="keywordtype">double</span> min_angle = 180.0;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;      am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordflow">if</span>(angles[1]&gt;max_angle)</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        max_angle = angles[1];</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keywordflow">if</span>(angles[0]&lt;min_angle)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        min_angle = angles[0];</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    }</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(max_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(min_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator(),</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                              &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); assert( ierr == 0);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  }</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keywordflow">if</span> (rank==0){</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    file &lt;&lt; std::left &lt;&lt; std::setw(30) &lt;&lt; <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a> &lt;&lt; std::setw(0)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; min_angle &lt;&lt; <span class="stringliteral">&quot; , &quot;</span> &lt;&lt; max_angle &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a849151f093b2ba49f390acfb835e97da_cgraph.png" border="0" usemap="#classRocmop_a849151f093b2ba49f390acfb835e97da_cgraph" alt=""/></div>
<map name="classRocmop_a849151f093b2ba49f390acfb835e97da_cgraph" id="classRocmop_a849151f093b2ba49f390acfb835e97da_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="163,5,301,35"/><area shape="rect" id="node5" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="147,59,317,88"/><area shape="rect" id="node7" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="159,111,305,158"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8bc6b9b3fbe65a1222fdab7e08cbe8e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_quality </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the quality range of all elements, for debugging. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l01559">1559</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                                                          {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;  <span class="keywordtype">string</span> outstr(<span class="stringliteral">&quot;angles.txt&quot;</span>);</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;  ofstream file;</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  ofstream file2;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordtype">bool</span> cominit = <a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>();</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="keywordflow">if</span>(cominit){</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank( <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;get_communicator(),</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                              &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); assert( ierr == 0);</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;  <span class="keywordtype">double</span> max_angle = 0.0;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;  <span class="keywordtype">double</span> min_angle = 180.0;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;  file2.open(s2.c_str());</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>=allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      Element_node_enumerator ene(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>],<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;      <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      file2 &lt;&lt; angles[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; angles[1] &lt;&lt; std::endl;</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="keywordflow">if</span>(angles[1]&gt;max_angle)</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        max_angle = angles[1];</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="keywordflow">if</span>(angles[0]&lt;min_angle)</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;        min_angle = angles[0];</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    }</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  }</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  file2.close();</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(max_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(min_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <span class="keywordflow">if</span> (rank==0){</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    file.open(outstr.c_str(), std::ios::app);</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( file, <span class="stringliteral">&quot;File failed to open\n&quot;</span>);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    file &lt;&lt; std::left &lt;&lt; std::setw(30) &lt;&lt; <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a> &lt;&lt; std::setw(0)</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;         &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; min_angle &lt;&lt; <span class="stringliteral">&quot; , &quot;</span> &lt;&lt; max_angle &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    file.close();</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  }</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a8bc6b9b3fbe65a1222fdab7e08cbe8e4_cgraph.png" border="0" usemap="#classRocmop_a8bc6b9b3fbe65a1222fdab7e08cbe8e4_cgraph" alt=""/></div>
<map name="classRocmop_a8bc6b9b3fbe65a1222fdab7e08cbe8e4_cgraph" id="classRocmop_a8bc6b9b3fbe65a1222fdab7e08cbe8e4_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="163,5,301,35"/><area shape="rect" id="node5" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="147,59,317,88"/><area shape="rect" id="node7" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="159,111,305,158"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8bc6b9b3fbe65a1222fdab7e08cbe8e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void print_quality </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print the quality range of all elements, for debugging. </p>

</div>
</div>
<a class="anchor" id="ac8ec411fb1e3a30074db5fc7e022a7c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_config_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>cfname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l00122">122</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Rocmop__1_8C_source.html#l00106">get_next_line()</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_COMM_WORLD</a>, and <a class="el" href="advectest_8C_source.html#l00066">rank</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  std::ifstream Inf;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  Inf.open(cfname.c_str());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// We can&#39;t use the usual print_legible function here because the</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="comment">// buffer winodw may not be created yet.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank(<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#afe544bcc89b1725a611755e7ed00f013">MPI_COMM_WORLD</a>,&amp;rank); </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    assert( ierr == 0);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// If the file doesn&#39;t exist, fire off a warning and continue</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span>(!Inf){</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span>(rank == 0)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Warning: Could not open configfile, &quot;</span> </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                &lt;&lt; cfname &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  std::string line;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  std::istringstream Istr;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// Read and set the verbosity</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">int</span> verbosity;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a>(Inf,line,<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">//     At this point, &quot;line&quot; should have data in it.  By using the </span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">//     istringstream object this way, we eliminate all whitespace</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">//     and extract only the valid part of the line.  If the file </span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">//     has already closed, line will be empty, and verbosity will</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">//     usually take on some nonsense value.  </span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  Istr.str(line);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  Istr &gt;&gt; verbosity;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">//     If the line had only the one chunk of data in it, Istr will </span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">//     have a bit set that needs to be cleared with a call to &quot;clear()&quot;</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="comment">//     before populating it with another string.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  Istr.clear();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span>(verbosity &lt; 0 || verbosity &gt; 10){</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Warning: Invalid verbosity from configfile. &quot;</span> </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Giving up on &quot;</span> &lt;&lt; cfname &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    Inf.close();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> = verbosity;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// Speak up if verbosity is turned on!</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">if</span> (rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>){</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Found configfile, &quot;</span> &lt;&lt; cfname &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Rocmop: Setting verbosity to &quot;</span> &lt;&lt; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }  </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// Load the next line from configfile and set smoothing method</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <a class="code" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a>(Inf,line,<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  Istr.str(line);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  Istr &gt;&gt; <a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  Istr.clear();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">if</span>(_method &lt; 0 || _method &gt; <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a>){</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Warning: Invalid smoothing method from configfile. &quot;</span> </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Giving up on &quot;</span> &lt;&lt; cfname &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    Inf.close();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// I love these ternary operators</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">if</span> (rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>){</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Setting method to &quot;</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;              &lt;&lt; (_method == <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a> ? <span class="stringliteral">&quot;SMOOTH_VOL_MESQ_WG&quot;</span> :</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                  (_method == <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a> ? <span class="stringliteral">&quot;SMOOTH_VOL_MESQ_NG&quot;</span> :</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                   (_method == <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a> ? <span class="stringliteral">&quot;SMOOTH_SURF_MEDIAL&quot;</span> :</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                    <span class="stringliteral">&quot;SMOOTH_NONE&quot;</span>))) &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// Load the next line and set laziness</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordtype">int</span> lazy;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a>(Inf,line,<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  Istr.str(line);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  Istr &gt;&gt; lazy;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  Istr.clear();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span>(lazy &gt; 0) </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a> = 1;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">if</span> (rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>){</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Setting lazy to &quot;</span> &lt;&lt; <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }  </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// Load the next line and set tolerance for lazy threshold</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordtype">float</span> tol;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <a class="code" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a>(Inf,line,<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">#if ! NO_STRINGSTREAM</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  Istr.str(line);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  Istr &gt;&gt; tol;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  Istr.clear();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  sscanf(line.c_str(), <span class="stringliteral">&quot;%f&quot;</span>, &amp;tol);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span>(tol &lt; 0. || tol &gt; 180.){</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Warning: Invalid dihedral angle tolerance&quot;</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;              &lt;&lt; <span class="stringliteral">&quot; from configfile. &quot;</span> </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Giving up on &quot;</span> &lt;&lt; cfname &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    Inf.close();</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a> = tol;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>){</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Setting tolerance to &quot;</span> &lt;&lt; <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  }  </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// Load the next line and set node displacement constraint for Mesquite smoothing </span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordtype">float</span> max_disp;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a>(Inf,line,<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">#if ! NO_STRINGSTREAM</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  Istr.str(line);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  Istr &gt;&gt; max_disp;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  Istr.clear();</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  sscanf(line.c_str(), <span class="stringliteral">&quot;%f&quot;</span>, &amp;max_disp);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span>(max_disp &lt; 0. || max_disp &gt; 10.0){</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    std::cerr &lt;&lt; <span class="stringliteral">&quot;Rocmop: Warning: Invalid displacement constraint from configfile. &quot;</span> </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;              &lt;&lt; <span class="stringliteral">&quot;Giving up on &quot;</span> &lt;&lt; cfname &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    Inf.close();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a> = max_disp;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">if</span> (rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>){</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Setting displacement constraint to &quot;</span> </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;              &lt;&lt; <a class="code" href="classRocmop.html#a1c0338024da3f5698c89c96991759343">_maxdisp</a> &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  }  </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="comment">// Load the next line and set N, which forces Rocmop to smooth every Nth step</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a>(Inf,line,<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  Istr.str(line);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  Istr &gt;&gt; <a class="code" href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">_smoothfreq</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  Istr.clear();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">if</span>(_smoothfreq &lt;= 0 || _method == SMOOTH_NONE)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    _smoothfreq = 0;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>){</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span>(_method == SMOOTH_NONE){</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: No method selected, setting N to 0&quot;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                &lt;&lt; <span class="stringliteral">&quot;, disabling smoothing.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Setting N to &quot;</span> &lt;&lt; _smoothfreq </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                &lt;&lt; (_smoothfreq==0 ? <span class="stringliteral">&quot;, disabling smoothing.&quot;</span> : <span class="stringliteral">&quot;.&quot;</span>) </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }  </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="comment">// Displacement threshold.  When the max displacement among all processors </span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">// exceeds this value, smooth.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a>(Inf,line,<span class="charliteral">&#39;#&#39;</span>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="preprocessor">#if ! NO_STRINGSTREAM</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  Istr.str(line);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  Istr &gt;&gt; <a class="code" href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">_disp_thresh</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  Istr.clear();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  sscanf(line.c_str(), <span class="stringliteral">&quot;%f&quot;</span>, &amp;<a class="code" href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">_disp_thresh</a>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span>(_disp_thresh &lt; 0.0)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    _disp_thresh = 0.0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((_smoothfreq &gt; 1) &amp;&amp; (_disp_thresh &gt; 0.0) ){</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    _smoothfreq = 1;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span>(rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: WARNING: N reset to 1 to enable displacement thresholding.&quot;</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                &lt;&lt; std::endl;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (rank==0 &amp;&amp; <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>){</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Rocmop: Setting displacement threshold to &quot;</span> </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;              &lt;&lt; _disp_thresh &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }  </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// Close up the file, we&#39;re done.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  Inf.close();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classRocmop.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a> = _smoothfreq-1;          <span class="comment">// initial value used in smooth() function</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;}</div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_afe544bcc89b1725a611755e7ed00f013"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#afe544bcc89b1725a611755e7ed00f013">MPI_COMM_WORLD</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_COMM_WORLD</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_a31a640fdb5eaa778ab738ebcae03624b"><div class="ttname"><a href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">Rocmop::_smoothfreq</a></div><div class="ttdeci">int _smoothfreq</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00514">Rocmop_1.h:514</a></div></div>
<div class="ttc" id="classRocmop_html_a1c0338024da3f5698c89c96991759343"><div class="ttname"><a href="classRocmop.html#a1c0338024da3f5698c89c96991759343">Rocmop::_maxdisp</a></div><div class="ttdeci">float _maxdisp</div><div class="ttdoc">Maximum displacement allowed. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00512">Rocmop_1.h:512</a></div></div>
<div class="ttc" id="Rocmop__1_8C_html_a26c7425d248b6aedb18b39286a175772"><div class="ttname"><a href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772">get_next_line</a></div><div class="ttdeci">std::ifstream &amp; get_next_line(std::ifstream &amp;Inf, std::string &amp;line, const char noop)</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00106">Rocmop_1.C:106</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">Rocmop::SMOOTH_SURF_MEDIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a4cd212ed9ad7f1dbf30678f91437f680"><div class="ttname"><a href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">Rocmop::_disp_thresh</a></div><div class="ttdeci">float _disp_thresh</div><div class="ttdoc">originally a static in check_displacements </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00520">Rocmop_1.h:520</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">Rocmop::SMOOTH_VOL_MESQ_NG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="classRocmop_html_a7722c8ecbb62d99aee7ce68b1752f337"><div class="ttname"><a href="classRocmop.html#a7722c8ecbb62d99aee7ce68b1752f337">Rocmop::N</a></div><div class="ttdeci">int N</div><div class="ttdoc">Smooth every _smoothfreq&#39;th call. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00516">Rocmop_1.h:516</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ac8ec411fb1e3a30074db5fc7e022a7c2_cgraph.png" border="0" usemap="#classRocmop_ac8ec411fb1e3a30074db5fc7e022a7c2_cgraph" alt=""/></div>
<map name="classRocmop_ac8ec411fb1e3a30074db5fc7e022a7c2_cgraph" id="classRocmop_ac8ec411fb1e3a30074db5fc7e022a7c2_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="168,5,307,35"/><area shape="rect" id="node5" href="Rocmop__1_8C.html#a26c7425d248b6aedb18b39286a175772" title="get_next_line" alt="" coords="188,59,287,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac8ec411fb1e3a30074db5fc7e022a7c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_config_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad736dd98cc6ca328994641cb3939fc7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void redistribute_vertices_ridge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redistribute ridge vertices within their tangent spaces. </p>

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l00547">547</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00426">_edges</a>, <a class="el" href="Rocmop_8h_source.html#l00439">_wrk_window</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="op2args_8C_source.html#l00583">Rocblas::copy_scalar()</a>, <a class="el" href="smooth__medial_8C_source.html#l00825">get_redist_safe_factor()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Vector__n_8h_source.html#l00346">min()</a>, <a class="el" href="Manifold__2_8h_source.html#l00353">Window_manifold_2::OP_SUM</a>, <a class="el" href="Element__accessors_8h_source.html#l00091">Element_node_enumerator::size_of_edges()</a>, and <a class="el" href="buildface_8cpp_source.html#l00088">swap()</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>
<div class="fragment"><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                              {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="comment">// Use the following buffer spaces: _eigvalues for vector c (only first one)</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keyword">const</span> std::string att1(<span class="stringliteral">&quot;disps&quot;</span>), att2(<span class="stringliteral">&quot;lambda&quot;</span>), att3(<span class="stringliteral">&quot;weights&quot;</span>),</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    att4(<span class="stringliteral">&quot;cntnvecs&quot;</span>), att5(<span class="stringliteral">&quot;cntnranks&quot;</span>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="keywordtype">int</span> disps_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att1)-&gt;id();</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// c_attr are the edge centers</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// w_attr is the nodal safe factor </span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  COM::Attribute *c_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att2);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  COM::Attribute *w_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att3);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordtype">int</span> cntnvecs_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att4)-&gt;id();</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordtype">int</span> cntnranks_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att5)-&gt;id();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordtype">double</span> zero = 0.;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;zero, c_attr);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">// Loop through the panes and its real faces</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  std::vector&lt; COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  std::vector&lt; COM::Pane*&gt;::iterator it = allpanes.begin();</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="classWindow__manifold__2.html#a62d7fff29a5689df2645f0463f04f0f5">Window_manifold_2::PM_iterator</a> pm_it=_wm-&gt;pm_begin();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it, ++pm_it) { </div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *es = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      ( pane-&gt;attribute(cntnvecs_id)-&gt;pointer());</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keyword">const</span> <a class="code" href="classPoint__3.html">Point_3&lt;double&gt;</a> *pnts = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classPoint__3.html">Point_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      (pane-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a>)-&gt;pointer());</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      ( pane-&gt;attribute(c_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordtype">int</span> *cranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      ( pane-&gt;attribute(cntnranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    std::set&lt; Edge_ID&gt; &amp;eset_pn = <a class="code" href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">_edges</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">for</span> ( std::set&lt; Edge_ID&gt;::const_iterator eit=eset_pn.begin(),</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            eend=eset_pn.end(); eit!=eend; ++eit) {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <a class="code" href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a> eid = *eit;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <span class="keywordtype">bool</span>    is_border = eid.is_border();</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keywordflow">if</span> ( is_border) eid = pm_it-&gt;get_opposite_real_edge( eid);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, eid.eid()); </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordtype">int</span> ne = ene.<a class="code" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899">size_of_edges</a>();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordtype">int</span> vindex=ene[eid.lid()]-1, windex=ene[(eid.lid()+1)%ne]-1;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <span class="keywordflow">if</span> ( is_border) <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( vindex, windex);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <span class="keywordflow">if</span> ( cranks[vindex]&gt;0) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> diff_wv = pnts[windex]-pnts[vindex];</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="comment">// OLD:: Vector_3&lt;double&gt; diff_wv = pnts[windex]-pnts[vindex] + ds[windex] - ds[vindex];</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">// get average of edge centers</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        cs[vindex][0] += 0.5*(es[2*vindex]*diff_wv);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  _wm-&gt;reduce_on_shared_nodes( c_attr, <a class="code" href="classWindow__manifold__2.html#a0db45f89b17426125c1538bbe2e023f3">Window_manifold_2::OP_SUM</a>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="comment">// Loop through all vertices to computer center</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  it = allpanes.begin();  pm_it=_wm-&gt;pm_begin();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); </div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it, ++pm_it) { </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *es = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      ( pane-&gt;attribute(cntnvecs_id)-&gt;pointer());</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      ( pane-&gt;attribute( c_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordtype">int</span> *cranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      ( pane-&gt;attribute(cntnranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">// Loop through all real nodes of the pane</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    std::set&lt; Edge_ID&gt; &amp;eset_pn = <a class="code" href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">_edges</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">for</span> ( std::set&lt; Edge_ID&gt;::const_iterator eit=eset_pn.begin(),</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            eend=eset_pn.end(); eit!=eend; ++eit) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <a class="code" href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a> eid = *eit;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;      <span class="keywordtype">bool</span>    is_border = eid.is_border();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="keywordflow">if</span> ( is_border) eid = pm_it-&gt;get_opposite_real_edge( eid);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, eid.eid()); </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordtype">int</span> ne = ene.<a class="code" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899">size_of_edges</a>();</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordtype">int</span> vindex=ene[eid.lid()]-1, windex=ene[(eid.lid()+1)%ne]-1;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">if</span> ( is_border) <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( vindex, windex);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      <span class="keywordflow">if</span> ( cranks[vindex]&gt;0)</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        cs[vindex] = 0.5*cs[vindex][0]*es[2*vindex];</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  }</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// Loop through the panes and its real faces to compute safe factors.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866">get_redist_safe_factor</a>( c_attr, w_attr, 1);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="comment">// Loop through all vertices to update displacement vector </span></div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  it = allpanes.begin();  pm_it=_wm-&gt;pm_begin();</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it, ++pm_it) { </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;      ( pane-&gt;attribute( c_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *ds = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      ( pane-&gt;attribute( disps_id)-&gt;pointer());</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordtype">double</span>   *ws = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      ( pane-&gt;attribute(w_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// Loop through all real nodes of the pane</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    std::set&lt; Edge_ID&gt; &amp;eset_pn = <a class="code" href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">_edges</a>[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>];</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">for</span> ( std::set&lt; Edge_ID&gt;::const_iterator eit=eset_pn.begin(),</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            eend=eset_pn.end(); eit!=eend; ++eit) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <a class="code" href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a> eid = *eit;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="keywordtype">bool</span>    is_border = eid.is_border();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <span class="keywordflow">if</span> ( is_border) eid = pm_it-&gt;get_opposite_real_edge( eid);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, eid.eid()); </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordtype">int</span> ne = ene.<a class="code" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899">size_of_edges</a>();</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordtype">int</span> vindex=ene[eid.lid()]-1, windex=ene[(eid.lid()+1)%ne]-1;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      <span class="keywordflow">if</span> ( is_border) <a class="code" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">std::swap</a>( vindex, windex);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordtype">double</span> w=0.5;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">if</span> ( ws[vindex]&gt;0) w = <a class="code" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">std::min</a>( w, 1./ws[vindex]);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="comment">// displacement = w * average of two edge segments</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      ds[vindex] += w*cs[vindex];</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="comment">// do PN triangle stuff here</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;}</div>
<div class="ttc" id="buildface_8cpp_html_a34cd8fd4d99fbdd4ef97fcc94070b460"><div class="ttname"><a href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460">swap</a></div><div class="ttdeci">void swap(int &amp;a, int &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="buildface_8cpp_source.html#l00088">buildface.cpp:88</a></div></div>
<div class="ttc" id="classWindow__manifold__2_html_a0db45f89b17426125c1538bbe2e023f3"><div class="ttname"><a href="classWindow__manifold__2.html#a0db45f89b17426125c1538bbe2e023f3">Window_manifold_2::OP_SUM</a></div><div class="ttdeci">static MPI_Op OP_SUM</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00353">Manifold_2.h:353</a></div></div>
<div class="ttc" id="classElement__node__enumerator_html"><div class="ttname"><a href="classElement__node__enumerator.html">Element_node_enumerator</a></div><div class="ttdoc">An adaptor for enumerating node IDs of an element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00043">Element_accessors.h:43</a></div></div>
<div class="ttc" id="Manifold__2_8h_html_afcea40412870eda456b22d8d6bdbd094"><div class="ttname"><a href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a></div><div class="ttdeci">MAP::Facet_ID Edge_ID</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00049">Manifold_2.h:49</a></div></div>
<div class="ttc" id="classPoint__3_html"><div class="ttname"><a href="classPoint__3.html">Point_3</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00147">mapbasic.h:147</a></div></div>
<div class="ttc" id="classWindow__manifold__2_html_a62d7fff29a5689df2645f0463f04f0f5"><div class="ttname"><a href="classWindow__manifold__2.html#a62d7fff29a5689df2645f0463f04f0f5">Window_manifold_2::PM_iterator</a></div><div class="ttdeci">std::vector&lt; Pane_manifold_2 &gt;::iterator PM_iterator</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00187">Manifold_2.h:187</a></div></div>
<div class="ttc" id="classElement__node__enumerator_html_a3b0965f57d58cd0e85fab4b12a9d6899"><div class="ttname"><a href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899">Element_node_enumerator::size_of_edges</a></div><div class="ttdeci">int size_of_edges() const </div><div class="ttdoc">Number of edges per element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00091">Element_accessors.h:91</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a4fb274a52abfb27d778d4c6d5c690866"><div class="ttname"><a href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866">Rocmop::get_redist_safe_factor</a></div><div class="ttdeci">void get_redist_safe_factor(COM::Attribute *c_attr, COM::Attribute *w_attr, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00825">smooth_medial.C:825</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="Vector__n_8h_html_aa501d41ea25a24792164a12fd4784044"><div class="ttname"><a href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">min</a></div><div class="ttdeci">Vector_n min(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00346">Vector_n.h:346</a></div></div>
<div class="ttc" id="classRocblas_html_a67987d3b72ffb73c5fa0cc2930822afd"><div class="ttname"><a href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a></div><div class="ttdeci">static void copy_scalar(const void *x, Attribute *y)</div><div class="ttdoc">Operation wrapper for copy (x is a scalar pointer). </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00583">op2args.C:583</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="classRocmop_html_a4e1d92d364da276f6b7f647c100f01e7"><div class="ttname"><a href="classRocmop.html#a4e1d92d364da276f6b7f647c100f01e7">Rocmop::_edges</a></div><div class="ttdeci">std::vector&lt; std::set&lt; Edge_ID &gt; &gt; _edges</div><div class="ttdoc">ridge edges </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00426">Rocmop.h:426</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ad736dd98cc6ca328994641cb3939fc7c_cgraph.png" border="0" usemap="#classRocmop_ad736dd98cc6ca328994641cb3939fc7c_cgraph" alt=""/></div>
<map name="classRocmop_ad736dd98cc6ca328994641cb3939fc7c_cgraph" id="classRocmop_ad736dd98cc6ca328994641cb3939fc7c_cgraph">
<area shape="rect" id="node3" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd" title="Operation wrapper for copy (x is a scalar pointer). " alt="" coords="408,5,555,35"/><area shape="rect" id="node7" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866" title="get_redist_safe_factor" alt="" coords="193,280,343,309"/><area shape="rect" id="node65" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899" title="Number of edges per element. " alt="" coords="393,439,569,486"/><area shape="rect" id="node72" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044" title="min" alt="" coords="247,384,289,413"/><area shape="rect" id="node75" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460" title="swap" alt="" coords="241,437,295,467"/><area shape="rect" id="node5" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="619,5,755,35"/><area shape="rect" id="node10" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f" title="Vector_3::cross_product" alt="" coords="400,387,563,416"/><area shape="rect" id="node12" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="1053,15,1099,44"/><area shape="rect" id="node14" href="classElement__node__enumerator.html#a041249f802c5bf4c2deae666610e03c4" title="Go to the next element within the connectivity tables of a pane. " alt="" coords="393,210,569,257"/><area shape="rect" id="node63" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="412,280,551,309"/><area shape="rect" id="node70" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167" title="solve" alt="" coords="455,333,508,363"/><area shape="rect" id="node16" href="classPane.html#a62d5a7a3e02da8c334472006166d67ea" title="Obtain the connectivity table containing the element with the given ID. " alt="" coords="621,280,752,309"/><area shape="rect" id="node18" href="classConnectivity.html#a69bd059da8cf335fbee896488f5c1e97" title="Get the index of the first element. " alt="" coords="804,311,937,358"/><area shape="rect" id="node24" href="classConnectivity.html#a89f1396a7f4dc43120977a9a42c3ceef" title="Get the total number of elements (including ghost elements) in the table. " alt="" coords="808,111,933,158"/><area shape="rect" id="node31" href="classConnectivity.html#a3ab0f5b4dbc683714ef15ccfb16225ac" title="Get a constant pointer to the connectivity array. " alt="" coords="1005,265,1147,295"/><area shape="rect" id="node52" href="classPane.html#ae5acbe47d704ceb866e3717e2ac9422f" title="Dimension of the pane. " alt="" coords="628,437,745,467"/><area shape="rect" id="node56" href="classPane.html#a78f646f49fb83340032b735b056a19d3" title="Get the number of nodes in i&#45;dimension if the mesh is structured. " alt="" coords="640,384,733,413"/><area shape="rect" id="node61" href="classConnectivity.html#a6b814939135364a0cd18ee54799897ee" title="Get the number of nodes per element of the current connectivity table. " alt="" coords="624,159,749,206"/><area shape="rect" id="node20" href="classConnectivity.html#aafbe63b1107c964c3673375df9a7472a" title="Root of use&#45;inheritance. " alt="" coords="1013,320,1139,349"/><area shape="rect" id="node22" href="classAttribute.html#a77f06f41441a97714ec0acf49c89b568" title="Root of use&#45;inheritance. " alt="" coords="1231,320,1332,349"/><area shape="rect" id="node26" href="classPane.html#a20818cc1edd59ab35c1eded37741f6ee" title="Pane::ignore_ghost" alt="" coords="1215,120,1348,149"/><area shape="rect" id="node28" href="classConnectivity.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Determine whether the mesh is quadratic. " alt="" coords="987,68,1165,97"/><area shape="rect" id="node33" href="classAttribute.html#a61bd804508cb1f9b4c33fd54351b315e" title="Obtain the number of items in the attribute. " alt="" coords="1016,195,1136,242"/><area shape="rect" id="node35" href="classPane.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain the attribute from given name. " alt="" coords="1397,236,1504,265"/><area shape="rect" id="node48" href="classAttribute.html#a376398cab240594dd4ec0d158b658172" title="Obtain the number of real items in the attribute. " alt="" coords="1221,197,1341,243"/><area shape="rect" id="node37" href="classWindow.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain a pointer to the attribute metadata from its name. " alt="" coords="1553,205,1676,235"/><area shape="rect" id="node43" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="1743,264,1831,293"/><area shape="rect" id="node39" href="classAttribute.html#a75d5ab968c772d5ad3d4269a514b9d80" title="Attribute::is_digit" alt="" coords="1727,141,1847,171"/><area shape="rect" id="node41" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="1727,194,1847,241"/><area shape="rect" id="node58" href="classPane.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Is mesh of the pane structured? " alt="" coords="804,384,937,413"/><area shape="rect" id="node68" href="classConnectivity.html#a85e2c3a17c45bc48b5613929dedb216a" title="Get the number of edges per element of the current connectivity table. " alt="" coords="624,490,749,537"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ad736dd98cc6ca328994641cb3939fc7c_icgraph.png" border="0" usemap="#classRocmop_ad736dd98cc6ca328994641cb3939fc7c_icgraph" alt=""/></div>
<map name="classRocmop_ad736dd98cc6ca328994641cb3939fc7c_icgraph" id="classRocmop_ad736dd98cc6ca328994641cb3939fc7c_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="192,13,331,43"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad736dd98cc6ca328994641cb3939fc7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void redistribute_vertices_ridge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redistribute ridge vertices within their tangent spaces. </p>

</div>
</div>
<a class="anchor" id="ad736dd98cc6ca328994641cb3939fc7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void redistribute_vertices_ridge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redistribute ridge vertices within their tangent spaces. </p>

</div>
</div>
<a class="anchor" id="aaff38c32926fd43f2c63d0f359a31f77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void redistribute_vertices_smooth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redistribute smooth vertices within their tangent spaces. </p>

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l00682">682</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00439">_wrk_window</a>, <a class="el" href="CImg_8h_source.html#l06051">cimg_library::acos()</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="op2args_8C_source.html#l00583">Rocblas::copy_scalar()</a>, <a class="el" href="smooth__medial_8C_source.html#l00825">get_redist_safe_factor()</a>, <a class="el" href="smooth__medial_8C_source.html#l00042">half_pi</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="Vector__n_8h_source.html#l00354">max()</a>, <a class="el" href="Vector__n_8h_source.html#l00346">min()</a>, <a class="el" href="Element__accessors_8C_source.html#l00079">Element_node_enumerator::next()</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="Manifold__2_8h_source.html#l00353">Window_manifold_2::OP_SUM</a>, <a class="el" href="smooth__medial_8C_source.html#l00043">pi</a>, <a class="el" href="blastest_8C_source.html#l00080">s</a>, <a class="el" href="Element__accessors_8h_source.html#l00244">Element_node_vectors_k_const&lt; Value &gt;::set()</a>, <a class="el" href="Element__accessors_8h_source.html#l00091">Element_node_enumerator::size_of_edges()</a>, and <a class="el" href="double_8h_source.html#l00073">sqrt()</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                               {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  <span class="comment">// Use the following buffer spaces: _eigvalues for vector c </span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="comment">// (only lsast two components); _weights to store weight</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keyword">const</span> std::string att1(<span class="stringliteral">&quot;disps&quot;</span>), att2(<span class="stringliteral">&quot;lambda&quot;</span>), att3(<span class="stringliteral">&quot;weights&quot;</span>),</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    att4(<span class="stringliteral">&quot;cntnvecs&quot;</span>), att5(<span class="stringliteral">&quot;cntnranks&quot;</span>), att6(<span class="stringliteral">&quot;tangranks&quot;</span>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordtype">int</span> disps_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att1)-&gt;id();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  COM::Attribute *c_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att2);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  COM::Attribute *w_attr = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att3);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordtype">int</span> cntnvecs_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att4)-&gt;id();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordtype">int</span> cntnranks_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att5)-&gt;id();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordtype">int</span> tangranks_id = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<span class="stringliteral">&quot;tangranks&quot;</span>)-&gt;id();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordtype">double</span> zero = 0.;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;zero, c_attr);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;zero, w_attr);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  std::vector&lt; COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="comment">// Loop through the panes and its real faces</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  std::vector&lt; COM::Pane*&gt;::iterator it = allpanes.begin();</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) { </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *es = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      ( pane-&gt;attribute(cntnvecs_id)-&gt;pointer());</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keyword">const</span> <a class="code" href="classPoint__3.html">Point_3&lt;double&gt;</a> *pnts = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classPoint__3.html">Point_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      (pane-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a>)-&gt;pointer());</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      ( pane-&gt;attribute(c_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordtype">double</span>   *ws = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      ( pane-&gt;attribute(w_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *ds = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      ( pane-&gt;attribute(disps_id)-&gt;pointer());</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordtype">int</span> *tranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      ( pane-&gt;attribute(tangranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordtype">int</span> *cranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      ( pane-&gt;attribute(cntnranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// Loop through real elements of the current pane</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="classElement__node__enumerator.html">Element_node_enumerator</a> ene( pane, 1); </div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="classElement__node__vectors__k__const.html">Element_node_vectors_k_const&lt;Point_3&lt;double&gt;</a> &gt; ps; ps.<a class="code" href="classElement__node__vectors__k__const.html#a012daf687ea85e9da2bc2d064de92aa6">set</a>( pnts, ene, 1);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=pane-&gt;size_of_real_elements(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, ene.next()) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordtype">int</span> ne = ene.size_of_edges();</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordtype">int</span> uindex=ene[ne-1]-1, vindex=ene[0]-1;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="comment">// Loop through all vertices of current face.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;ne; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="keywordtype">int</span> windex = ene[(<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+1==ne)?0:k+1]-1;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="comment">// Only redistribute smooth vertices </span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">if</span> ( tranks[vindex]==2) {</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;cranks[vindex]-1 = &quot;</span> &lt;&lt; cranks[vindex]-1 &lt;&lt; std::endl;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> tngs[2] = {pnts[uindex]-pnts[vindex], </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                              pnts[windex]-pnts[vindex]};</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> disp_v = ds[vindex];</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> diff_uv = ds[uindex]-disp_v+tngs[0];</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> diff_wv = ds[windex]-disp_v+tngs[1];</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          <span class="comment">// Compute angle at vertex</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;          <span class="keywordtype">double</span> theta = <a class="code" href="namespacecimg__library.html#a539dd46f536be820887f4df391a9f2fd">std::acos</a></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            ( diff_uv*diff_wv/<a class="code" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">std::sqrt</a>((diff_wv*diff_wv)*(diff_uv*diff_uv)));</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;theta = &quot;</span> &lt;&lt; theta &lt;&lt; std::endl;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          <span class="keywordflow">if</span> ( theta&gt;<a class="code" href="smooth__medial_8C.html#a3ffe576f27c10ad987688ea9485e01e6">half_pi</a>) theta = <a class="code" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">std::max</a>(0.,<a class="code" href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a>-theta);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;          std::cout &lt;&lt; <span class="stringliteral">&quot;theta 2 = &quot;</span> &lt;&lt; theta &lt;&lt; std::endl;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  </div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=cranks[vindex]-1; k&gt;=0; --<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            cs[vindex][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>] += theta*(es[2*vindex+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]*(diff_uv+diff_wv));</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="comment">//      std::cout &lt;&lt; &quot;cs[&quot; &lt;&lt; vindex &lt;&lt; &quot;][&quot; &lt;&lt; k &lt;&lt; &quot;] += &quot; </span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="comment">//      &lt;&lt; theta &lt;&lt; &quot;*(&quot; &lt;&lt; es[2*vindex+k] &lt;&lt; &quot; * (&quot; </span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <span class="comment">//      &lt;&lt; diff_uv &lt;&lt; &quot; + &quot; &lt;&lt; diff_wv &lt;&lt; &quot;))\n&quot;;</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;          }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;          ws[vindex] += theta;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;          <span class="comment">//      std::cout &lt;&lt; &quot;ws[&quot; &lt;&lt; vindex &lt;&lt; &quot;] = &quot; &lt;&lt; ws[vindex]  &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        uindex=vindex; vindex=windex;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  _wm-&gt;reduce_on_shared_nodes( c_attr, <a class="code" href="classWindow__manifold__2.html#a0db45f89b17426125c1538bbe2e023f3">Window_manifold_2::OP_SUM</a>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  _wm-&gt;reduce_on_shared_nodes( w_attr, <a class="code" href="classWindow__manifold__2.html#a0db45f89b17426125c1538bbe2e023f3">Window_manifold_2::OP_SUM</a>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="comment">// Loop through all vertices to compute center of stars.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  it = allpanes.begin();</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) { </div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      ( pane-&gt;attribute( c_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="keywordtype">double</span>   *ws = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      ( pane-&gt;attribute( w_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordtype">int</span> *tranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      ( pane-&gt;attribute(tangranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *es = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      ( pane-&gt;attribute(cntnvecs_id)-&gt;pointer());</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="keywordtype">int</span> *cranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      ( pane-&gt;attribute(cntnranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">// Loop through all real nodes of the pane</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, nj=pane-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span> ( tranks[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]==2) {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>(0,0,0);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> k=cranks[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]-1; k&gt;=0; --<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;          <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a> += (cs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]*es[2*<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>])/ws[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        }</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        cs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = <a class="code" href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// Loop through the panes and its real faces to compute safe factors.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <a class="code" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866">get_redist_safe_factor</a>( c_attr, w_attr, 2);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">// Loop through all vertices to update displacement vector </span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  it = allpanes.begin();</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0, local_npanes = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;local_npanes; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>, ++it) { </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    COM::Pane *pane = *it;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *cs = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      ( pane-&gt;attribute( c_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordtype">double</span>   *ws = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      ( pane-&gt;attribute( w_attr-&gt;id())-&gt;pointer());</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *ds = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      ( pane-&gt;attribute( disps_id)-&gt;pointer());</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordtype">int</span> *tranks = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">int</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      ( pane-&gt;attribute( tangranks_id)-&gt;pointer());</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// Loop through all real nodes of the pane</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, nj=pane-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      <span class="keywordflow">if</span> ( tranks[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]==2) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordtype">double</span> w=0.5;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">if</span> ( ws[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]&gt;0) w = <a class="code" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">std::min</a>( w, 1./ws[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        ds[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] += w*cs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;ds[&quot;</span> &lt;&lt; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt;&lt; <span class="stringliteral">&quot;] += &quot;</span> &lt;&lt; w &lt;&lt; <span class="stringliteral">&quot; * &quot;</span> &lt;&lt; cs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] &lt;&lt; std::endl;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}</div>
<div class="ttc" id="classWindow__manifold__2_html_a0db45f89b17426125c1538bbe2e023f3"><div class="ttname"><a href="classWindow__manifold__2.html#a0db45f89b17426125c1538bbe2e023f3">Window_manifold_2::OP_SUM</a></div><div class="ttdeci">static MPI_Op OP_SUM</div><div class="ttdef"><b>Definition:</b> <a href="Manifold__2_8h_source.html#l00353">Manifold_2.h:353</a></div></div>
<div class="ttc" id="classElement__node__enumerator_html"><div class="ttname"><a href="classElement__node__enumerator.html">Element_node_enumerator</a></div><div class="ttdoc">An adaptor for enumerating node IDs of an element. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00043">Element_accessors.h:43</a></div></div>
<div class="ttc" id="smooth__medial_8C_html_a3ffe576f27c10ad987688ea9485e01e6"><div class="ttname"><a href="smooth__medial_8C.html#a3ffe576f27c10ad987688ea9485e01e6">half_pi</a></div><div class="ttdeci">static const double half_pi</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00042">smooth_medial.C:42</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="blastest_8C_html_ad62e712560f6344b96d4c080a2ba9c92"><div class="ttname"><a href="blastest_8C.html#ad62e712560f6344b96d4c080a2ba9c92">s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="blastest_8C_source.html#l00080">blastest.C:80</a></div></div>
<div class="ttc" id="classPoint__3_html"><div class="ttname"><a href="classPoint__3.html">Point_3</a></div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00147">mapbasic.h:147</a></div></div>
<div class="ttc" id="Vector__n_8h_html_a7dddfa733bea2c50f405764d775e636a"><div class="ttname"><a href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a">max</a></div><div class="ttdeci">Vector_n max(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00354">Vector_n.h:354</a></div></div>
<div class="ttc" id="double_8h_html_ac12b3d29117dc72313c36cdb5a9d3e0e"><div class="ttname"><a href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e">sqrt</a></div><div class="ttdeci">double sqrt(double d)</div><div class="ttdef"><b>Definition:</b> <a href="double_8h_source.html#l00073">double.h:73</a></div></div>
<div class="ttc" id="smooth__medial_8C_html_a43016d873124d39034edb8cd164794db"><div class="ttname"><a href="smooth__medial_8C.html#a43016d873124d39034edb8cd164794db">pi</a></div><div class="ttdeci">static const double pi</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00043">smooth_medial.C:43</a></div></div>
<div class="ttc" id="classElement__node__vectors__k__const_html"><div class="ttname"><a href="classElement__node__vectors__k__const.html">Element_node_vectors_k_const</a></div><div class="ttdoc">This is a helper class for accessing nodal data. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00234">Element_accessors.h:234</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a4fb274a52abfb27d778d4c6d5c690866"><div class="ttname"><a href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866">Rocmop::get_redist_safe_factor</a></div><div class="ttdeci">void get_redist_safe_factor(COM::Attribute *c_attr, COM::Attribute *w_attr, int rank)</div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00825">smooth_medial.C:825</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="Vector__n_8h_html_aa501d41ea25a24792164a12fd4784044"><div class="ttname"><a href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044">min</a></div><div class="ttdeci">Vector_n min(const Array_n_const &amp;v1, const Array_n_const &amp;v2)</div><div class="ttdef"><b>Definition:</b> <a href="Vector__n_8h_source.html#l00346">Vector_n.h:346</a></div></div>
<div class="ttc" id="classRocblas_html_a67987d3b72ffb73c5fa0cc2930822afd"><div class="ttname"><a href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a></div><div class="ttdeci">static void copy_scalar(const void *x, Attribute *y)</div><div class="ttdoc">Operation wrapper for copy (x is a scalar pointer). </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00583">op2args.C:583</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classElement__node__vectors__k__const_html_a012daf687ea85e9da2bc2d064de92aa6"><div class="ttname"><a href="classElement__node__vectors__k__const.html#a012daf687ea85e9da2bc2d064de92aa6">Element_node_vectors_k_const::set</a></div><div class="ttdeci">void set(const Value *p, Element_node_enumerator &amp;ene, int strd)</div><div class="ttdoc">initialize the accessor with a pointer and a specific stride. </div><div class="ttdef"><b>Definition:</b> <a href="Element__accessors_8h_source.html#l00244">Element_accessors.h:244</a></div></div>
<div class="ttc" id="namespacecimg__library_html_a539dd46f536be820887f4df391a9f2fd"><div class="ttname"><a href="namespacecimg__library.html#a539dd46f536be820887f4df391a9f2fd">cimg_library::acos</a></div><div class="ttdeci">CImg&lt; _cimg_Tfloat &gt; acos(const CImg&lt; T &gt; &amp;instance)</div><div class="ttdef"><b>Definition:</b> <a href="CImg_8h_source.html#l06051">CImg.h:6051</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aaff38c32926fd43f2c63d0f359a31f77_cgraph.png" border="0" usemap="#classRocmop_aaff38c32926fd43f2c63d0f359a31f77_cgraph" alt=""/></div>
<map name="classRocmop_aaff38c32926fd43f2c63d0f359a31f77_cgraph" id="classRocmop_aaff38c32926fd43f2c63d0f359a31f77_cgraph">
<area shape="rect" id="node3" href="namespacecimg__library.html#a539dd46f536be820887f4df391a9f2fd" title="cimg_library::acos" alt="" coords="205,71,333,100"/><area shape="rect" id="node7" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd" title="Operation wrapper for copy (x is a scalar pointer). " alt="" coords="411,75,557,104"/><area shape="rect" id="node11" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866" title="get_redist_safe_factor" alt="" coords="195,260,344,289"/><area shape="rect" id="node16" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="1056,292,1101,321"/><area shape="rect" id="node18" href="classElement__node__enumerator.html#a041249f802c5bf4c2deae666610e03c4" title="Go to the next element within the connectivity tables of a pane. " alt="" coords="396,483,572,530"/><area shape="rect" id="node69" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899" title="Number of edges per element. " alt="" coords="396,709,572,755"/><area shape="rect" id="node77" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044" title="min" alt="" coords="248,509,291,539"/><area shape="rect" id="node80" href="classElement__node__vectors__k__const.html#a012daf687ea85e9da2bc2d064de92aa6" title="initialize the accessor with a pointer and a specific stride. " alt="" coords="192,439,347,486"/><area shape="rect" id="node87" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="248,613,291,643"/><area shape="rect" id="node5" href="structcimg__library_1_1CImg.html#a80972e1b6fd55bf970cbb07d56c39335" title="cimg_library::CImg\l::get_acos" alt="" coords="419,5,549,51"/><area shape="rect" id="node9" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="621,75,757,104"/><area shape="rect" id="node14" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f" title="Vector_3::cross_product" alt="" coords="403,235,565,264"/><area shape="rect" id="node67" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="415,128,553,157"/><area shape="rect" id="node74" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167" title="solve" alt="" coords="457,181,511,211"/><area shape="rect" id="node20" href="classPane.html#a62d5a7a3e02da8c334472006166d67ea" title="Obtain the connectivity table containing the element with the given ID. " alt="" coords="624,440,755,469"/><area shape="rect" id="node22" href="classConnectivity.html#a69bd059da8cf335fbee896488f5c1e97" title="Get the index of the first element. " alt="" coords="807,389,940,435"/><area shape="rect" id="node28" href="classConnectivity.html#a89f1396a7f4dc43120977a9a42c3ceef" title="Get the total number of elements (including ghost elements) in the table. " alt="" coords="811,474,936,521"/><area shape="rect" id="node35" href="classConnectivity.html#a3ab0f5b4dbc683714ef15ccfb16225ac" title="Get a constant pointer to the connectivity array. " alt="" coords="1008,596,1149,625"/><area shape="rect" id="node56" href="classPane.html#ae5acbe47d704ceb866e3717e2ac9422f" title="Dimension of the pane. " alt="" coords="631,717,748,747"/><area shape="rect" id="node60" href="classPane.html#a78f646f49fb83340032b735b056a19d3" title="Get the number of nodes in i&#45;dimension if the mesh is structured. " alt="" coords="643,544,736,573"/><area shape="rect" id="node65" href="classConnectivity.html#a6b814939135364a0cd18ee54799897ee" title="Get the number of nodes per element of the current connectivity table. " alt="" coords="627,647,752,694"/><area shape="rect" id="node24" href="classConnectivity.html#aafbe63b1107c964c3673375df9a7472a" title="Root of use&#45;inheritance. " alt="" coords="1016,345,1141,375"/><area shape="rect" id="node26" href="classAttribute.html#a77f06f41441a97714ec0acf49c89b568" title="Root of use&#45;inheritance. " alt="" coords="1233,345,1335,375"/><area shape="rect" id="node30" href="classPane.html#a20818cc1edd59ab35c1eded37741f6ee" title="Pane::ignore_ghost" alt="" coords="1217,545,1351,575"/><area shape="rect" id="node32" href="classConnectivity.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Determine whether the mesh is quadratic. " alt="" coords="989,399,1168,428"/><area shape="rect" id="node37" href="classAttribute.html#a61bd804508cb1f9b4c33fd54351b315e" title="Obtain the number of items in the attribute. " alt="" coords="1019,475,1139,522"/><area shape="rect" id="node39" href="classPane.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain the attribute from given name. " alt="" coords="1400,443,1507,472"/><area shape="rect" id="node52" href="classAttribute.html#a376398cab240594dd4ec0d158b658172" title="Obtain the number of real items in the attribute. " alt="" coords="1224,475,1344,522"/><area shape="rect" id="node41" href="classWindow.html#a0d3861fb59beaccbed7cd16a32c548f8" title="Obtain a pointer to the attribute metadata from its name. " alt="" coords="1556,416,1679,445"/><area shape="rect" id="node47" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="1745,468,1833,497"/><area shape="rect" id="node43" href="classAttribute.html#a75d5ab968c772d5ad3d4269a514b9d80" title="Attribute::is_digit" alt="" coords="1729,415,1849,444"/><area shape="rect" id="node45" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="1729,345,1849,391"/><area shape="rect" id="node62" href="classPane.html#afc3d6a08a6436efe1af8e83699d4ca53" title="Is mesh of the pane structured? " alt="" coords="807,544,940,573"/><area shape="rect" id="node72" href="classConnectivity.html#a85e2c3a17c45bc48b5613929dedb216a" title="Get the number of edges per element of the current connectivity table. " alt="" coords="627,770,752,817"/><area shape="rect" id="node82" href="classElement__node__enumerator.html#a35a62313d45990cfa4cab8caa1dfbff6" title="Number of nodes per element. " alt="" coords="396,639,572,686"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aaff38c32926fd43f2c63d0f359a31f77_icgraph.png" border="0" usemap="#classRocmop_aaff38c32926fd43f2c63d0f359a31f77_icgraph" alt=""/></div>
<map name="classRocmop_aaff38c32926fd43f2c63d0f359a31f77_icgraph" id="classRocmop_aaff38c32926fd43f2c63d0f359a31f77_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="192,13,331,43"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaff38c32926fd43f2c63d0f359a31f77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void redistribute_vertices_smooth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redistribute smooth vertices within their tangent spaces. </p>

</div>
</div>
<a class="anchor" id="aaff38c32926fd43f2c63d0f359a31f77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void redistribute_vertices_smooth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redistribute smooth vertices within their tangent spaces. </p>

</div>
</div>
<a class="anchor" id="a8dd4bddbaee42f18554637da7d3384ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void reduce_sum_on_shared_nodes </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>att</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform a sum-reduction on the shared nodes for the given attribute. </p>

</div>
</div>
<a class="anchor" id="a217ec7b723d7b6be27827ce2564b26d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void reduce_sum_on_shared_nodes </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>att</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform a sum-reduction on the shared nodes for the given attribute. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00595">595</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_SUM</a>.</p>
<div class="fragment"><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                                                        {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  Pane_communicator pc(att-&gt;window(), att-&gt;window()-&gt;get_communicator());</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  pc.init(att);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  pc.begin_update_shared_nodes();</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  pc.reduce_on_shared_nodes(<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a897d02a682b05a4fb157dd1bdee10785">MPI_SUM</a>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  pc.end_update_shared_nodes();</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a897d02a682b05a4fb157dd1bdee10785"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a897d02a682b05a4fb157dd1bdee10785">MPI_SUM</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_SUM</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8dd4bddbaee42f18554637da7d3384ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void reduce_sum_on_shared_nodes </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>att</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform a sum-reduction on the shared nodes for the given attribute. </p>

</div>
</div>
<a class="anchor" id="ad7b8e28a93fe2b5fa69d4b896aaddcb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_value </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a Rocomp option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>the option to be set. </td></tr>
    <tr><td class="paramname">val</td><td>the new value for the option.</td></tr>
  </table>
  </dd>
</dl>
<p>Option List:</p>
<ul>
<li>name (data type, default value)</li>
<li>method (int, SMOOTH_NONE) smoothing method to use<ul>
<li>SMOOTH_VOL_MESQ_WG (Volume smoothing via mesquite with ghost)</li>
<li>SMOOTH_VOL_MESQ_NG (Volume smoothing via mesquite no ghosts)</li>
<li>SMOOTH_SURF_MEDIAL (Surface smoothing via medial quadric)</li>
<li>SMOOTH_NONE (None, default).</li>
</ul>
</li>
<li>verbose (int, 0) verbose level, an integer greater than -1</li>
<li>lazy (int, 0) check quality before smoothing? 0 or 1</li>
<li>tol (float, 0.0) looping quality tolerance [0,180]</li>
<li>niter (int, 1) max # iterations for smoothing</li>
<li>ctol (float, .99) convergence subcycle tolerance [0,1]</li>
<li>ncycle (int, 1) max # subcycles for convergence</li>
<li>inverted (int, 0) tets are inverted? 0 or 1</li>
<li>monotone (int, 0) apply a non-decreasing invariant? </li>
</ul>

</div>
</div>
<a class="anchor" id="ad7b8e28a93fe2b5fa69d4b896aaddcb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_value </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a Rocomp option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>the option to be set. </td></tr>
    <tr><td class="paramname">val</td><td>the new value for the option.</td></tr>
  </table>
  </dd>
</dl>
<p>Option List:</p>
<ul>
<li>name (data type, default value)</li>
<li>method (int, SMOOTH_NONE) smoothing method to use<ul>
<li>SMOOTH_VOL_MESQ_WG (Volume smoothing via mesquite with ghost)</li>
<li>SMOOTH_VOL_MESQ_NG (Volume smoothing via mesquite no ghosts)</li>
<li>SMOOTH_SURF_MEDIAL (Surface smoothing via medial quadric)</li>
<li>SMOOTH_NONE (None, default).</li>
</ul>
</li>
<li>verbose (int, 0) verbose level, an integer greater than -1</li>
<li>lazy (int, 0) check quality before smoothing? 0 or 1</li>
<li>tol (float, 0.0) looping quality tolerance [0,180]</li>
<li>niter (int, 1) max # iterations for smoothing</li>
<li>ctol (float, .99) convergence subcycle tolerance [0,1]</li>
<li>ncycle (int, 1) max # subcycles for convergence</li>
<li>inverted (int, 0) tets are inverted? 0 or 1</li>
<li>monotone (int, 0) apply a non-decreasing invariant? </li>
</ul>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00529">529</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, and <a class="el" href="CImg_8h_source.html#l05604">cimg_library::cimg::option()</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8C_source.html#l00088">load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::set_value&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <a class="code" href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">validate_object</a>()==0, <span class="stringliteral">&quot;Invalid object&quot;</span>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( opt &amp;&amp; value,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                      <span class="stringliteral">&quot;Rocmop::set_value does not except NULL parameters&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  std::string <a class="code" href="namespacecimg__library_1_1cimg.html#ab9308a5128017dd92d3f602a19ca7611">option</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span>(opt) option = opt;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;method&quot;</span>) {</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( *((<span class="keywordtype">int</span>*)value) &lt;= <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">SMOOTH_NONE</a> &amp;&amp; *((<span class="keywordtype">int</span>*)value)&gt;=0 </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                      ,<span class="stringliteral">&quot;Illegal value for &#39;method&#39; option&quot;</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a> = *((<span class="keywordtype">int</span>*)value);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;verbose&quot;</span>){ </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> = *((<span class="keywordtype">int</span>*)value); }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;lazy&quot;</span>){ </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a> = *((<span class="keywordtype">int</span>*)value); }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;tol&quot;</span>){ </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( *((<span class="keywordtype">float</span>*)value) &lt;= 180. &amp;&amp; *((<span class="keywordtype">float</span>*)value)&gt;=0. </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                      ,<span class="stringliteral">&quot;Illegal value for &#39;method&#39; option&quot;</span>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a> = *((<span class="keywordtype">float</span>*)value); }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;niter&quot;</span>){ </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">_niter</a> = *((<span class="keywordtype">int</span>*)value); }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;ctol&quot;</span>){ </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( *((<span class="keywordtype">float</span>*)value) &lt;= 1. &amp;&amp; *((<span class="keywordtype">float</span>*)value)&gt;=0. </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                      ,<span class="stringliteral">&quot;Illegal value for &#39;method&#39; option&quot;</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <a class="code" href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">_ctol</a> = *((<span class="keywordtype">float</span>*)value); }</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;ncycle&quot;</span>){</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <a class="code" href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">_ncycle</a> = *((<span class="keywordtype">int</span>*)value); }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( option == <span class="stringliteral">&quot;inverted&quot;</span>){</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">_invert</a> = *((<span class="keywordtype">int</span>*)value); </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">else</span> <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <span class="keyword">false</span>, <span class="stringliteral">&quot;Unknown option&quot;</span>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::set_value&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a3767bcdb4b06619283e47da0d17b1378"><div class="ttname"><a href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">Rocmop::validate_object</a></div><div class="ttdeci">int validate_object() const </div><div class="ttdoc">Check that the object is valid. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00206">Rocmop.h:206</a></div></div>
<div class="ttc" id="namespacecimg__library_1_1cimg_html_ab9308a5128017dd92d3f602a19ca7611"><div class="ttname"><a href="namespacecimg__library_1_1cimg.html#ab9308a5128017dd92d3f602a19ca7611">cimg_library::cimg::option</a></div><div class="ttdeci">const char * option(const char *const name, const int argc, const char *const *const argv, const char *defaut, const char *const usage=0)</div><div class="ttdef"><b>Definition:</b> <a href="CImg_8h_source.html#l05604">CImg.h:5604</a></div></div>
<div class="ttc" id="classRocmop_html_aac4ba847a0da2e6304c77894c3bd277a"><div class="ttname"><a href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">Rocmop::_ncycle</a></div><div class="ttdeci">int _ncycle</div><div class="ttdoc">Max number of subcycles for convergence. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00479">Rocmop.h:479</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca0f6b08b5dc412bfb4dc7b90ad1196760">Rocmop::SMOOTH_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a96ba011a343077f4e01e89ab7f15c791"><div class="ttname"><a href="classRocmop.html#a96ba011a343077f4e01e89ab7f15c791">Rocmop::_niter</a></div><div class="ttdeci">int _niter</div><div class="ttdoc">Maximum number of iterations for smoothing. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00469">Rocmop.h:469</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c73458e9e564ce8f6b82ac18efaaab"><div class="ttname"><a href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">Rocmop::_invert</a></div><div class="ttdeci">int _invert</div><div class="ttdoc">If true (default false), then invert the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00489">Rocmop.h:489</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a5dcb6239b84f76205a02035a45e990db"><div class="ttname"><a href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">Rocmop::_ctol</a></div><div class="ttdeci">float _ctol</div><div class="ttdoc">Subcycling tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00471">Rocmop.h:471</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_cgraph.png" border="0" usemap="#classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_cgraph" alt=""/></div>
<map name="classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_cgraph" id="classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_cgraph">
<area shape="rect" id="node3" href="namespacecimg__library_1_1cimg.html#ab9308a5128017dd92d3f602a19ca7611" title="cimg_library::cimg\l::option" alt="" coords="133,5,261,51"/><area shape="rect" id="node5" href="namespacecimg__library_1_1cimg.html#abc491a5ed3a8d97e395138a379767a45" title="Compute the basename of a filename. " alt="" coords="309,5,437,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_icgraph.png" border="0" usemap="#classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_icgraph" alt=""/></div>
<map name="classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_icgraph" id="classRocmop_ad7b8e28a93fe2b5fa69d4b896aaddcb2_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#aa4aab2663cc7cef9510e14b6cf12ec12" title="Loads Rocmop onto Roccom with a given module name. " alt="" coords="135,32,180,61"/><area shape="rect" id="node5" href="Rocmop_8C.html#a22b71c82a1713e49ad1aae9533033f29" title="COM_F_FUNC2" alt="" coords="245,5,365,35"/><area shape="rect" id="node7" href="Rocmop_8C.html#a30f9b111edcdc155ec96cd08ab117b18" title="Rocmop_load_module" alt="" coords="231,59,380,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad7b8e28a93fe2b5fa69d4b896aaddcb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_value </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a Rocomp option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">opt</td><td>the option to be set. </td></tr>
    <tr><td class="paramname">val</td><td>the new value for the option.</td></tr>
  </table>
  </dd>
</dl>
<p>Option List:</p>
<ul>
<li>name (data type, default value)</li>
<li>method (int, SMOOTH_NONE) smoothing method to use<ul>
<li>SMOOTH_VOL_MESQ_WG (Volume smoothing via mesquite with ghost)</li>
<li>SMOOTH_VOL_MESQ_NG (Volume smoothing via mesquite no ghosts)</li>
<li>SMOOTH_SURF_MEDIAL (Surface smoothing via medial quadric)</li>
<li>SMOOTH_NONE (None, default).</li>
</ul>
</li>
<li>verbose (int, 0) verbose level, an integer greater than -1</li>
<li>lazy (int, 0) check quality before smoothing? 0 or 1</li>
<li>tol (float, 0.0) looping quality tolerance [0,180]</li>
<li>niter (int, 1) max # iterations for smoothing</li>
<li>ctol (float, .99) convergence subcycle tolerance [0,1]</li>
<li>ncycle (int, 1) max # subcycles for convergence</li>
<li>inverted (int, 0) tets are inverted? 0 or 1</li>
<li>monotone (int, 0) apply a non-decreasing invariant? </li>
</ul>

</div>
</div>
<a class="anchor" id="a4f438b3fbdef34029dda3ef9564f2272"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smooth </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>pmesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smooth the mesh in a <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> managed buffer. </p>
<p>Creates a copy of the mesh, which is then optimized in place via <a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2" title="Perform smoothing on _buf_window. ">perform_smoothing()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pmesh</td><td>The pmesh to be smoothed. </td></tr>
    <tr><td class="paramname">disp</td><td>The attribute where displacements to new positions should be stored. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00132">132</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_MESH</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="Attribute_8h_source.html#l00044">COM_PMESH</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, and <a class="el" href="op3args_8C_source.html#l00237">Rocblas::sub()</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8C_source.html#l00088">load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                                       {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <a class="code" href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">validate_object</a>()==0, <span class="stringliteral">&quot;Invalid object&quot;</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::smooth\n&quot;</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">int</span> pmesh_id = pmesh-&gt;id();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( pmesh &amp;&amp;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                     (pmesh_id==<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM::COM_PMESH</a> || pmesh_id==<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM::COM_MESH</a>),</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                     <span class="stringliteral">&quot;Input to Rocmop::smooth must be a pmesh.&quot;</span>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">_is_pmesh</a> = (pmesh_id == <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM_PMESH</a>) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>) <span class="keyword">delete</span> <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a> = pmesh-&gt;window();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// Create a buffer window by inheriting(clone) from the user&#39;s mesh.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt;3) </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;  Creating(clone) buffer window.&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  std::string buf_name(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;name()+<span class="stringliteral">&quot;-Rocmopbuf&quot;</span>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a> = <span class="keyword">new</span> COM::Window(buf_name, </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  _wrk_window-&gt;inherit( const_cast&lt;COM::Attribute*&gt;(pmesh), <span class="stringliteral">&quot;&quot;</span>, </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                        COM::Pane::INHERIT_CLONE, <span class="keyword">true</span>, NULL, 0);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  _wrk_window-&gt;init_done();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  std::vector&lt;const Pane*&gt; allpanes;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  _wrk_window-&gt;panes(allpanes);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordtype">double</span> pre_worst = 180.0, post_worst = 0.0;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// Check initial quality if we are in lazy or monotone mode</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a> || <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a>){</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    pre_worst = <a class="code" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a>(allpanes);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// get the worst pre smoothing quality across all panes</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(pre_worst, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">bool</span> to_smooth = (!<a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a> || (pre_worst &gt; 180.*<a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="keywordtype">int</span> degraded = 0;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (to_smooth){</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">perform_smoothing</a>(pre_worst);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// Check final mesh quality if a tolerance is set, or we&#39;re in monotonic mode</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a> || (<a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>!=0.0)){</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      post_worst = <a class="code" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a>(allpanes);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(post_worst, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// If in monotone mode, see if quality degraded on any pane</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a> &amp;&amp; (pre_worst &gt; post_worst)){</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;Warning, smoothing would have degraded mesh quality \n&quot;</span> </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;so the mesh has not been modified.\n&quot;</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      degraded = 1;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// Warn the user if could not reach a specified minimum mesh quality.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a> &amp;&amp; (post_worst &lt; <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>)){</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;Warning, post-smoothing mesh quality is below specified minimum &quot;</span> </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;quality \n&quot;</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keyword">const</span> COM::Attribute *old_nc = pmesh-&gt;window()-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keyword">const</span> COM::Attribute *new_nc = (degraded || !to_smooth) ? </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    old_nc :_wrk_window-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <a class="code" href="classRocblas.html#a7c4e389cce4e1bb681a77878e6105f29">Rocblas::sub</a> (new_nc, old_nc, disp);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting rocmop::smooth&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div>
<div class="ttc" id="classRocblas_html_a7c4e389cce4e1bb681a77878e6105f29"><div class="ttname"><a href="classRocblas.html#a7c4e389cce4e1bb681a77878e6105f29">Rocblas::sub</a></div><div class="ttdeci">static void sub(const Attribute *x, const Attribute *y, Attribute *z)</div><div class="ttdoc">Operation wrapper for subtraction. </div><div class="ttdef"><b>Definition:</b> <a href="op3args_8C_source.html#l00237">op3args.C:237</a></div></div>
<div class="ttc" id="classRocmop_html_a3767bcdb4b06619283e47da0d17b1378"><div class="ttname"><a href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">Rocmop::validate_object</a></div><div class="ttdeci">int validate_object() const </div><div class="ttdoc">Check that the object is valid. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00206">Rocmop.h:206</a></div></div>
<div class="ttc" id="classRocmop_html_ab8a56d10bd215a994da860edae29be78"><div class="ttname"><a href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">Rocmop::check_all_elem_quality</a></div><div class="ttdeci">double check_all_elem_quality(std::vector&lt; const COM::Pane * &gt; &amp;allpanes, bool with_ghost=false)</div><div class="ttdoc">Get the largest dihedral angle of all real elements. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00785">Rocmop.C:785</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_aceadec08b7100ec1b2d1252e4d1b1da2"><div class="ttname"><a href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">Rocmop::perform_smoothing</a></div><div class="ttdeci">void perform_smoothing()</div><div class="ttdoc">Perform smoothing on _buf_window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00776">Rocmop_1.C:776</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_a6e5843a355181eff1cf2d8ca5b1dca2e"><div class="ttname"><a href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">Rocmop::_monotone</a></div><div class="ttdeci">int _monotone</div><div class="ttdoc">Impose non-decreasing quality? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00481">Rocmop.h:481</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a8b94b90d311b68f3cc157edb92c34c2d"><div class="ttname"><a href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">Rocmop::_is_pmesh</a></div><div class="ttdeci">bool _is_pmesh</div><div class="ttdoc">pmesh or mesh ? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00441">Rocmop.h:441</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM_MESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM_PMESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00044">Attribute.h:44</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a4f438b3fbdef34029dda3ef9564f2272_cgraph.png" border="0" usemap="#classRocmop_a4f438b3fbdef34029dda3ef9564f2272_cgraph" alt=""/></div>
<map name="classRocmop_a4f438b3fbdef34029dda3ef9564f2272_cgraph" id="classRocmop_a4f438b3fbdef34029dda3ef9564f2272_cgraph">
<area shape="rect" id="node3" href="classRocblas.html#a7c4e389cce4e1bb681a77878e6105f29" title="Operation wrapper for subtraction. " alt="" coords="120,123,219,152"/><area shape="rect" id="node5" href="classRocblas.html#a014ebce01bb2ec4eacb969b142b13d97" title="Chooses which calc function to call based on type of y. " alt="" coords="267,67,413,96"/><area shape="rect" id="node11" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="272,123,408,152"/><area shape="rect" id="node13" href="classAttribute.html#a59792315103c4358049673a86e8579fb" title="Obtain the full name of the attribute including window name suitable for printing out error messages..." alt="" coords="276,180,404,209"/><area shape="rect" id="node7" href="classAttribute.html#ab642771d1269b6ccb9e6ba87ec15de3b" title="Checks whether the attribute is associated with the window. " alt="" coords="461,5,616,35"/><area shape="rect" id="node9" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="479,58,599,105"/><area shape="rect" id="node15" href="classWindow.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the window&#39;s name. " alt="" coords="484,128,593,157"/><area shape="rect" id="node17" href="classAttribute.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the name of the attribute. " alt="" coords="484,181,593,211"/><area shape="rect" id="node19" href="classAttribute.html#ae879462c456db18c8c3b111bcd2d1a01" title="Obtain a constant pointer to the parent window of the attribute. " alt="" coords="477,235,600,264"/><area shape="rect" id="node21" href="classPane.html#a05d1abca9cbb0ec7bdc59f58dd81797c" title="Obtain a constant pointer to its owner window object. " alt="" coords="664,235,768,264"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a4f438b3fbdef34029dda3ef9564f2272_icgraph.png" border="0" usemap="#classRocmop_a4f438b3fbdef34029dda3ef9564f2272_icgraph" alt=""/></div>
<map name="classRocmop_a4f438b3fbdef34029dda3ef9564f2272_icgraph" id="classRocmop_a4f438b3fbdef34029dda3ef9564f2272_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#aa4aab2663cc7cef9510e14b6cf12ec12" title="Loads Rocmop onto Roccom with a given module name. " alt="" coords="121,32,167,61"/><area shape="rect" id="node5" href="Rocmop_8C.html#a22b71c82a1713e49ad1aae9533033f29" title="COM_F_FUNC2" alt="" coords="232,5,352,35"/><area shape="rect" id="node7" href="Rocmop_8C.html#a30f9b111edcdc155ec96cd08ab117b18" title="Rocmop_load_module" alt="" coords="217,59,367,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4f438b3fbdef34029dda3ef9564f2272"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smooth </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>pmesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smooth the mesh in a <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> managed buffer. </p>
<p>Creates a copy of the mesh, which is then optimized in place via <a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2" title="Perform smoothing on _buf_window. ">perform_smoothing()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pmesh</td><td>The pmesh to be smoothed. </td></tr>
    <tr><td class="paramname">disp</td><td>The attribute where displacements to new positions should be stored. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7ad9c75b9cbd06d728692c109349a604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smooth </td>
          <td>(</td>
          <td class="paramtype">const COM::Attribute *&#160;</td>
          <td class="paramname"><em>pmesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>timestep</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smooth the mesh in a <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> managed buffer. </p>
<p>Creates a copy of the mesh, which is then optimized in place via <a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2" title="Perform smoothing on _buf_window. ">perform_smoothing()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pmesh</td><td>The pmesh to be smoothed. </td></tr>
    <tr><td class="paramname">disp</td><td>The attribute where displacements to new positions should be stored. </td></tr>
    <tr><td class="paramname">timestep</td><td>If a timestep is supplied, then disp will contain velocity vectors instead of displacement vectors </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop__2_8C_source.html#l00700">700</a> of file <a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_MESH</a>, <a class="el" href="Attribute_8h_source.html#l00044">COM_PMESH</a>, and <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>.</p>
<div class="fragment"><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                                     {</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="comment">// The static var N will statically store the current value of </span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="comment">// N.  When N == 0, we will smooth and set N back to (_smoothfreq - 1).</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="comment">// What this amounts to is that we smooth only every _smoothfreqth call</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="comment">// to Rocmop.  _smoothfreq is specified as &quot;N&quot; in the config file.</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classRocmop.html#a7722c8ecbb62d99aee7ce68b1752f337">N</a> = (<a class="code" href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">_smoothfreq</a>-1);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  </div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">if</span>(N == 0){ <span class="comment">// Go ahead and actually smooth if this is true</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    N = (<a class="code" href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">_smoothfreq</a>-1); <span class="comment">// Reset N </span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    </div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="comment">// We want to start profiling from here as it&#39;s smoothing we</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="comment">// want to time, not the NOOP calls.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    Profile_begin(<span class="stringliteral">&quot;Rocmop::smooth&quot;</span>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <a class="code" href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">validate_object</a>()==0, <span class="stringliteral">&quot;Invalid object&quot;</span>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    </div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">// Verify that we are working with a mesh or pmesh</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordtype">int</span> pmesh_id = pmesh-&gt;id();</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( pmesh &amp;&amp;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                       (pmesh_id==<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM::COM_PMESH</a> || pmesh_id==<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM::COM_MESH</a>),</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                       <span class="stringliteral">&quot;Input to Rocmop::smooth must be a mesh or pmesh attribute.&quot;</span>);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">_is_pmesh</a> = (pmesh_id == <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM_PMESH</a>) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    </div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="comment">// If buffer window exists and was cloned from the current user</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">// window, then just update the coordinates.</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;   </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a> &amp;&amp; (<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a> == pmesh-&gt;window()))</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="comment">// update nodel coordinates (real part) from _usr_window</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="classRocmop.html#a4c7442976f3904b3769c02c83c2046b2">update_buf_real_nc</a>();    </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    </div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// Else, inherit(clone) a buffer window from the user&#39;s mesh.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;      <span class="comment">// Eliminate any old buffers</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a> = pmesh-&gt;window();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="comment">// First, check if pconn of _usr_window is complete</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <span class="keywordtype">int</span> pconnErr = 0;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      pconnErr = <a class="code" href="classRocmop.html#a6fbe75569dea16d02feda4c47099b2ee">check_input_pconn</a>();</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <a class="code" href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">agree_int</a>(pconnErr, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">if</span> (pconnErr == 1)</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(pconnErr == 0, <span class="stringliteral">&quot;*** Rocmop:ERROR: PCONN incomplete ***&quot;</span>);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="comment">// Create a buffer window by cloning from the user window</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      std::string buf_name(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;name()+<span class="stringliteral">&quot;-Rocmopbuf&quot;</span>);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a> = <span class="keyword">new</span> COM::Window(buf_name, </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                                    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      _buf_window-&gt;inherit( const_cast&lt;COM::Attribute*&gt;(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM::COM_MESH</a>)), <span class="stringliteral">&quot;&quot;</span>, </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                            COM::Pane::INHERIT_CLONE, <span class="keyword">false</span>, NULL, 0);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      _buf_window-&gt;init_done();</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="comment">// Add the pconn</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span>(_buf_window-&gt;size_of_panes_global() &gt; 1){</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        Pane_ghost_connectivity pgc(_buf_window);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        pgc.build_pconn();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;     </div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="comment">// Perform initialization specific to the smoother.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7">smoother_specific_init</a>();</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;   </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// Max possible worst element quality is 180.0, so this</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// default should result in mesh smoothing if _lazy==0</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordtype">double</span> mesh_qual = 190.0;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    </div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// Check initial quality if we are in lazy mode</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a>){</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      </div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="comment">// Fill a vector with pointers to the local panes</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;      std::vector&lt;const Pane*&gt; allpanes;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      _buf_window-&gt;panes(allpanes);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      mesh_qual = <a class="code" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a>(allpanes);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    </div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// Mechanism to trigger smoothing on tallied displacements</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordtype">bool</span> exceeded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">_disp_thresh</a> &gt; 0.0)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      exceeded = <a class="code" href="classRocmop.html#adf2947c5f78ec2dadcea64e25ab079f2">check_displacements</a>(disp);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    </div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordflow">if</span>(exceeded || ((mesh_qual &gt; <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>) &amp;&amp; <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a>)){     </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;      <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(0,<span class="stringliteral">&quot;Smoothing...&quot;</span>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <a class="code" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">perform_smoothing</a>();    </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(0,<span class="stringliteral">&quot;Smoothing complete.&quot;</span>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="comment">// At this point NC in _buf_window has been smoothed.</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="comment">// Get displacement.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <a class="code" href="classRocmop.html#a1c23d92a358fb715951f770ab1e38a6c">get_usr_disp</a>(pmesh, disp, timestep);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a> = pmesh-&gt;window();</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <a class="code" href="classRocmop.html#aff10613c7e56053c1e8748f901ad720e">zero_displacements</a>(disp);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    }</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    </div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    Profile_end(<span class="stringliteral">&quot;Rocmop::smooth&quot;</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  } <span class="comment">// if (N says it&#39;s smoothing time</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">_smoothfreq</a> &gt; 0)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      N--;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a> = pmesh-&gt;window();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <a class="code" href="classRocmop.html#aff10613c7e56053c1e8748f901ad720e">zero_displacements</a>(disp);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a3767bcdb4b06619283e47da0d17b1378"><div class="ttname"><a href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">Rocmop::validate_object</a></div><div class="ttdeci">int validate_object() const </div><div class="ttdoc">Check that the object is valid. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00206">Rocmop.h:206</a></div></div>
<div class="ttc" id="classRocmop_html_a31a640fdb5eaa778ab738ebcae03624b"><div class="ttname"><a href="classRocmop.html#a31a640fdb5eaa778ab738ebcae03624b">Rocmop::_smoothfreq</a></div><div class="ttdeci">int _smoothfreq</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00514">Rocmop_1.h:514</a></div></div>
<div class="ttc" id="classRocmop_html_ab8a56d10bd215a994da860edae29be78"><div class="ttname"><a href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">Rocmop::check_all_elem_quality</a></div><div class="ttdeci">double check_all_elem_quality(std::vector&lt; const COM::Pane * &gt; &amp;allpanes, bool with_ghost=false)</div><div class="ttdoc">Get the largest dihedral angle of all real elements. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00785">Rocmop.C:785</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a1c23d92a358fb715951f770ab1e38a6c"><div class="ttname"><a href="classRocmop.html#a1c23d92a358fb715951f770ab1e38a6c">Rocmop::get_usr_disp</a></div><div class="ttdeci">void get_usr_disp(const COM::Attribute *pmesh, COM::Attribute *disp, double *timestep)</div><div class="ttdoc">Get displacement in _usr_window based on nc in _buf_window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8C_source.html#l01001">Rocmop_2.C:1001</a></div></div>
<div class="ttc" id="classRocmop_html_aff10613c7e56053c1e8748f901ad720e"><div class="ttname"><a href="classRocmop.html#aff10613c7e56053c1e8748f901ad720e">Rocmop::zero_displacements</a></div><div class="ttdeci">void zero_displacements(COM::Attribute *disp)</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00426">Rocmop_1.C:426</a></div></div>
<div class="ttc" id="classRocmop_html_a4c7442976f3904b3769c02c83c2046b2"><div class="ttname"><a href="classRocmop.html#a4c7442976f3904b3769c02c83c2046b2">Rocmop::update_buf_real_nc</a></div><div class="ttdeci">void update_buf_real_nc()</div><div class="ttdoc">Update real nodal coordinates of _buf_window from _usr_window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8C_source.html#l00824">Rocmop_2.C:824</a></div></div>
<div class="ttc" id="classRocmop_html_aceadec08b7100ec1b2d1252e4d1b1da2"><div class="ttname"><a href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">Rocmop::perform_smoothing</a></div><div class="ttdeci">void perform_smoothing()</div><div class="ttdoc">Perform smoothing on _buf_window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00776">Rocmop_1.C:776</a></div></div>
<div class="ttc" id="classRocmop_html_a6fbe75569dea16d02feda4c47099b2ee"><div class="ttname"><a href="classRocmop.html#a6fbe75569dea16d02feda4c47099b2ee">Rocmop::check_input_pconn</a></div><div class="ttdeci">int check_input_pconn()</div><div class="ttdoc">Check pconn block 3 of the input mesh. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__2_8C_source.html#l00886">Rocmop_2.C:886</a></div></div>
<div class="ttc" id="classRocmop_html_a7b4df805a767c8b80da5b47b7a649e2f"><div class="ttname"><a href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">Rocmop::print_legible</a></div><div class="ttdeci">void print_legible(int verb, const char *msg)</div><div class="ttdoc">Single process print message if given verbosity level is exceeded. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l01408">Rocmop_1.C:1408</a></div></div>
<div class="ttc" id="classRocmop_html_a4cd212ed9ad7f1dbf30678f91437f680"><div class="ttname"><a href="classRocmop.html#a4cd212ed9ad7f1dbf30678f91437f680">Rocmop::_disp_thresh</a></div><div class="ttdeci">float _disp_thresh</div><div class="ttdoc">originally a static in check_displacements </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00520">Rocmop_1.h:520</a></div></div>
<div class="ttc" id="classRocmop_html_a8b94b90d311b68f3cc157edb92c34c2d"><div class="ttname"><a href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">Rocmop::_is_pmesh</a></div><div class="ttdeci">bool _is_pmesh</div><div class="ttdoc">pmesh or mesh ? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00441">Rocmop.h:441</a></div></div>
<div class="ttc" id="classRocmop_html_aa4ccb82202e8cfdb21a511ff6336bab7"><div class="ttname"><a href="classRocmop.html#aa4ccb82202e8cfdb21a511ff6336bab7">Rocmop::smoother_specific_init</a></div><div class="ttdeci">void smoother_specific_init()</div><div class="ttdoc">Perform smoother specific initialization. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00364">Rocmop.C:364</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM_MESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="classRocmop_html_aff58f80a52e7dd9a4610db0a68713899"><div class="ttname"><a href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">Rocmop::agree_int</a></div><div class="ttdeci">void agree_int(int &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on an integer value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00226">Rocmop.h:226</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM_PMESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00044">Attribute.h:44</a></div></div>
<div class="ttc" id="classRocmop_html_a7722c8ecbb62d99aee7ce68b1752f337"><div class="ttname"><a href="classRocmop.html#a7722c8ecbb62d99aee7ce68b1752f337">Rocmop::N</a></div><div class="ttdeci">int N</div><div class="ttdoc">Smooth every _smoothfreq&#39;th call. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00516">Rocmop_1.h:516</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
<div class="ttc" id="classRocmop_html_adf2947c5f78ec2dadcea64e25ab079f2"><div class="ttname"><a href="classRocmop.html#adf2947c5f78ec2dadcea64e25ab079f2">Rocmop::check_displacements</a></div><div class="ttdeci">bool check_displacements(COM::Attribute *disp)</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00357">Rocmop_1.C:357</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7335bc0f1d80d8949568c238387db780"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_boeing </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>att</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>niter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__2_8C_source.html#l01471">1471</a> of file <a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a>.</p>
<div class="fragment"><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;                                                       {</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">/*</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">  std::vector&lt;Pane*&gt; allpanes;</span></div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">  att-&gt;window()-&gt;panes(allpanes);</span></div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment">  COM_assertion_msg(allpanes.size() == 1,</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">                    &quot;This function only supports winows with a single pane\n&quot;);</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="comment">  MesqPane mp(allpanes[0],false);</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">  if(_wrapper == WRAPPER_SHAPE){</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment">    </span></div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">    Mesquite::MsqError err;</span></div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">    ShapeImprovementWrapper mesh_quality_algorithm(err);</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment">    MSQ_ERRRTN(err);</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">    for(int i=0; i&lt; *niter; ++i){</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">      mesh_quality_algorithm.run_instructions(&amp;mp,err);    </span></div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="comment">      MSQ_ERRRTN(err);</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">  }</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">  else if(_wrapper == WRAPPER_BOEING){</span></div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">    Mesquite::MsqError err;</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">    CGWrapper mesh_quality_algorithm(err);</span></div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="comment">    MSQ_ERRRTN(err);</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="comment">    for(int i=0; i&lt; *niter; ++i){</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="comment">      mesh_quality_algorithm.run_instructions(&amp;mp,err);    </span></div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;<span class="comment">      MSQ_ERRRTN(err);</span></div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment">  }</span></div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac248e110186c57ebe9e9775996404554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_in_place </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>pmesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smooth a mesh in place.. </p>
<p>The mesh is optimized in place via <a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2" title="Perform smoothing on _buf_window. ">perform_smoothing()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pmesh</td><td>The pmesh to be smoothed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00204">204</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_MESH</a>, <a class="el" href="Attribute_8h_source.html#l00044">COM_PMESH</a>, and <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8C_source.html#l00088">load()</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                               {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <a class="code" href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">validate_object</a>()==0, <span class="stringliteral">&quot;Invalid object&quot;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering rocmop::smooth_in_place&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordtype">int</span> pmesh_id = pmesh-&gt;id();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( pmesh &amp;&amp; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                     (pmesh_id==<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM::COM_PMESH</a> || pmesh_id==<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM::COM_MESH</a>) , </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                     <span class="stringliteral">&quot;Input to Rocmop::smooth_in_place must be a mesh or pmesh&quot;</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>) </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a> = pmesh-&gt;window();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// FIXME</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// Create a buffer window by inheriting(use) from the user&#39;s mesh.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// can&#39;t use the _usr_window directly because of problems with</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">// Element_node_enumerator</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a> = <span class="keyword">new</span> COM::Window(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;name()+<span class="stringliteral">&quot;-Rocmopbuf&quot;</span>, </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;inherit( const_cast&lt;COM::Attribute*&gt;(pmesh), <span class="stringliteral">&quot;&quot;</span>, </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        <span class="keyword">false</span>, <span class="keyword">true</span>, NULL, 0);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  std::vector&lt;const Pane*&gt; allpanes;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordtype">double</span> pre_worst = 180.0, post_worst = 0.0;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// Check initial quality if we are in lazy or monotone mode</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a> || <a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a>) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    pre_worst = <a class="code" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a>(allpanes);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="comment">// get the worst pre smoothing quality on all panes</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(pre_worst, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordtype">bool</span> to_smooth = (!<a class="code" href="classRocmop.html#a621c549156ae2558041421fce526c928">_lazy</a> || (pre_worst &gt; 180.*<a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>));</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (to_smooth){</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">perform_smoothing</a>(pre_worst);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// Check final mesh quality if a tolerance is set, or we&#39;re in monotonic mode</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a> || (<a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>!=0.0)){</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      post_worst = <a class="code" href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">check_all_elem_quality</a>(allpanes);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(post_worst, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// If in monotone mode, see if quality degraded on any pane</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">_monotone</a> &amp;&amp; (pre_worst &gt; post_worst))</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;Warning, mesh quality degraded during smoothing in place.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// If a quality tolerance is set, and we didn&#39;t meet it, then warn</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a> &amp;&amp; (post_worst &lt; <a class="code" href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">_tol</a>)){</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      cerr &lt;&lt; <span class="stringliteral">&quot;Warning, post-smoothing mesh quality is below specified minimum &quot;</span> </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;           &lt;&lt; <span class="stringliteral">&quot;quality \n&quot;</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>){ <span class="keyword">delete</span> <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>;<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a> = NULL;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting rocmop::smooth_in_place&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a3767bcdb4b06619283e47da0d17b1378"><div class="ttname"><a href="classRocmop.html#a3767bcdb4b06619283e47da0d17b1378">Rocmop::validate_object</a></div><div class="ttdeci">int validate_object() const </div><div class="ttdoc">Check that the object is valid. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00206">Rocmop.h:206</a></div></div>
<div class="ttc" id="classRocmop_html_ab8a56d10bd215a994da860edae29be78"><div class="ttname"><a href="classRocmop.html#ab8a56d10bd215a994da860edae29be78">Rocmop::check_all_elem_quality</a></div><div class="ttdeci">double check_all_elem_quality(std::vector&lt; const COM::Pane * &gt; &amp;allpanes, bool with_ghost=false)</div><div class="ttdoc">Get the largest dihedral angle of all real elements. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00785">Rocmop.C:785</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_aceadec08b7100ec1b2d1252e4d1b1da2"><div class="ttname"><a href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2">Rocmop::perform_smoothing</a></div><div class="ttdeci">void perform_smoothing()</div><div class="ttdoc">Perform smoothing on _buf_window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l00776">Rocmop_1.C:776</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_a6e5843a355181eff1cf2d8ca5b1dca2e"><div class="ttname"><a href="classRocmop.html#a6e5843a355181eff1cf2d8ca5b1dca2e">Rocmop::_monotone</a></div><div class="ttdeci">int _monotone</div><div class="ttdoc">Impose non-decreasing quality? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00481">Rocmop.h:481</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM_MESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="classRocmop_html_a621c549156ae2558041421fce526c928"><div class="ttname"><a href="classRocmop.html#a621c549156ae2558041421fce526c928">Rocmop::_lazy</a></div><div class="ttdeci">int _lazy</div><div class="ttdoc">Check quality before smoothing? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00462">Rocmop.h:462</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM_PMESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00044">Attribute.h:44</a></div></div>
<div class="ttc" id="classRocmop_html_a6c15a69962e6e553d4b38236474fabfa"><div class="ttname"><a href="classRocmop.html#a6c15a69962e6e553d4b38236474fabfa">Rocmop::_tol</a></div><div class="ttdeci">float _tol</div><div class="ttdoc">Smoother iterating tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00464">Rocmop.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ac248e110186c57ebe9e9775996404554_icgraph.png" border="0" usemap="#classRocmop_ac248e110186c57ebe9e9775996404554_icgraph" alt=""/></div>
<map name="classRocmop_ac248e110186c57ebe9e9775996404554_icgraph" id="classRocmop_ac248e110186c57ebe9e9775996404554_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#aa4aab2663cc7cef9510e14b6cf12ec12" title="Loads Rocmop onto Roccom with a given module name. " alt="" coords="175,32,220,61"/><area shape="rect" id="node5" href="Rocmop_8C.html#a22b71c82a1713e49ad1aae9533033f29" title="COM_F_FUNC2" alt="" coords="285,5,405,35"/><area shape="rect" id="node7" href="Rocmop_8C.html#a30f9b111edcdc155ec96cd08ab117b18" title="Rocmop_load_module" alt="" coords="271,59,420,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac248e110186c57ebe9e9775996404554"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_in_place </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>pmesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smooth a mesh in place.. </p>
<p>The mesh is optimized in place via <a class="el" href="classRocmop.html#aceadec08b7100ec1b2d1252e4d1b1da2" title="Perform smoothing on _buf_window. ">perform_smoothing()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pmesh</td><td>The pmesh to be smoothed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2dbb41ea0da20e141ec61d8d4a726ddf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_mesquite </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ghost_level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooth the panes of the working window using MESQUITE. </p>
<p>This method creates <a class="el" href="classMesqPane.html" title="A class enabling Mesquite calls on Rocmop panes. ">MesqPane</a> attributes for each of the local panes, which are then smoothed serially.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ghost_level</td><td>whether to use ghost cells and nodes. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00570">570</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="Mesh_2MeshSet_8cpp_source.html#l00108">MeshSet::add_mesh()</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="includeLinks_2MsqError_8hpp_source.html#l00062">MSQ_CHKERR</a>, <a class="el" href="Control_2Wrappers_2ShapeImprovementWrapper_8cpp_source.html#l00111">ShapeImprovementWrapper::run_instructions()</a>, <a class="el" href="MesqPane_8h_source.html#l00144">MesqPane::set_verb()</a>, and <a class="el" href="ex1_8C_source.html#l00094">total_npanes</a>.</p>
<div class="fragment"><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                                             {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <a class="code" href="classMesquite_1_1MsqError.html">Mesquite::MsqError</a> err;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <a class="code" href="classMesqPane.html">MesqPane</a> *mp;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <a class="code" href="classMesquite_1_1ShapeImprovementWrapper.html">ShapeImprovementWrapper</a> mesh_quality_algorithm;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a> = (int)allpanes.size();</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordtype">bool</span> wg = (ghost_level == 0) ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="classMesquite_1_1MeshSet.html">MeshSet</a>* mesh_set1 = <span class="keyword">new</span> <a class="code" href="classMesquite_1_1MeshSet.html">MeshSet</a>;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    mp = <span class="keyword">new</span> <a class="code" href="classMesqPane.html">MesqPane</a>(allpanes[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>], wg);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 4) </div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      mp-&gt;<a class="code" href="classMesqPane.html#a730a1509c8e07e0ea6edb1d89f6a5df4">set_verb</a>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> - 4);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    mesh_set1-&gt;<a class="code" href="classMesquite_1_1MeshSet.html#ad9327e1b9b04a7b563325e8f5b8c96c7">add_mesh</a>(mp, err); </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <a class="code" href="group__error.html#ga061c906bdd923d3ed2243d78c0a05d53">MSQ_CHKERR</a>(err);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    mesh_quality_algorithm.<a class="code" href="classMesquite_1_1ShapeImprovementWrapper.html#a52b954daacf72db4a8b0b8811e81bbb0">run_instructions</a>(*mesh_set1, err); </div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="group__error.html#ga061c906bdd923d3ed2243d78c0a05d53">MSQ_CHKERR</a>(err);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keyword">delete</span> mesh_set1;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">if</span>(mp)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keyword">delete</span> mp;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    mp = NULL;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;}</div>
<div class="ttc" id="classMesqPane_html_a730a1509c8e07e0ea6edb1d89f6a5df4"><div class="ttname"><a href="classMesqPane.html#a730a1509c8e07e0ea6edb1d89f6a5df4">MesqPane::set_verb</a></div><div class="ttdeci">void set_verb(int verb)</div><div class="ttdoc">Set the MesqPane verbose level (int, >= 0) </div><div class="ttdef"><b>Definition:</b> <a href="MesqPane_8h_source.html#l00144">MesqPane.h:144</a></div></div>
<div class="ttc" id="classMesquite_1_1MsqError_html"><div class="ttname"><a href="classMesquite_1_1MsqError.html">Mesquite::MsqError</a></div><div class="ttdoc">Used to hold the error state and return it to the application. </div><div class="ttdef"><b>Definition:</b> <a href="includeLinks_2MsqError_8hpp_source.html#l00106">includeLinks/MsqError.hpp:106</a></div></div>
<div class="ttc" id="classMesquite_1_1ShapeImprovementWrapper_html_a52b954daacf72db4a8b0b8811e81bbb0"><div class="ttname"><a href="classMesquite_1_1ShapeImprovementWrapper.html#a52b954daacf72db4a8b0b8811e81bbb0">Mesquite::ShapeImprovementWrapper::run_instructions</a></div><div class="ttdeci">virtual void run_instructions(MeshSet &amp;ms, MsqError &amp;err)</div><div class="ttdoc">run_instructions runs the wrapper on the given MeshSet. </div><div class="ttdef"><b>Definition:</b> <a href="Control_2Wrappers_2ShapeImprovementWrapper_8cpp_source.html#l00111">Control/Wrappers/ShapeImprovementWrapper.cpp:111</a></div></div>
<div class="ttc" id="ex1_8C_html_a311773deddd1b35eca23e4835577ea57"><div class="ttname"><a href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a></div><div class="ttdeci">const int total_npanes</div><div class="ttdef"><b>Definition:</b> <a href="ex1_8C_source.html#l00094">ex1.C:94</a></div></div>
<div class="ttc" id="group__error_html_ga061c906bdd923d3ed2243d78c0a05d53"><div class="ttname"><a href="group__error.html#ga061c906bdd923d3ed2243d78c0a05d53">MSQ_CHKERR</a></div><div class="ttdeci">#define MSQ_CHKERR(err)</div><div class="ttdoc">Mesquite&#39;s Error Checking macro. </div><div class="ttdef"><b>Definition:</b> <a href="includeLinks_2MsqError_8hpp_source.html#l00062">includeLinks/MsqError.hpp:62</a></div></div>
<div class="ttc" id="classMesqPane_html"><div class="ttname"><a href="classMesqPane.html">MesqPane</a></div><div class="ttdoc">A class enabling Mesquite calls on Rocmop panes. </div><div class="ttdef"><b>Definition:</b> <a href="MesqPane_8h_source.html#l00095">MesqPane.h:95</a></div></div>
<div class="ttc" id="classMesquite_1_1ShapeImprovementWrapper_html"><div class="ttname"><a href="classMesquite_1_1ShapeImprovementWrapper.html">Mesquite::ShapeImprovementWrapper</a></div><div class="ttdoc">Wrapper which performs a Feasible Newton solve using an  objective function template with inverse mea...</div><div class="ttdef"><b>Definition:</b> <a href="includeLinks_2ShapeImprovementWrapper_8hpp_source.html#l00068">includeLinks/ShapeImprovementWrapper.hpp:68</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="classMesquite_1_1MeshSet_html_ad9327e1b9b04a7b563325e8f5b8c96c7"><div class="ttname"><a href="classMesquite_1_1MeshSet.html#ad9327e1b9b04a7b563325e8f5b8c96c7">Mesquite::MeshSet::add_mesh</a></div><div class="ttdeci">void add_mesh(Mesquite::Mesh *mesh, MsqError &amp;err)</div><div class="ttdoc">adds a mesh to the MeshSet. </div><div class="ttdef"><b>Definition:</b> <a href="Mesh_2MeshSet_8cpp_source.html#l00108">Mesh/MeshSet.cpp:108</a></div></div>
<div class="ttc" id="classMesquite_1_1MeshSet_html"><div class="ttname"><a href="classMesquite_1_1MeshSet.html">Mesquite::MeshSet</a></div><div class="ttdoc">The MeshSet class stores one or more Mesquite::Mesh pointers and manages access to the mesh informati...</div><div class="ttdef"><b>Definition:</b> <a href="includeLinks_2MeshSet_8hpp_source.html#l00069">includeLinks/MeshSet.hpp:69</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a2dbb41ea0da20e141ec61d8d4a726ddf_cgraph.png" border="0" usemap="#classRocmop_a2dbb41ea0da20e141ec61d8d4a726ddf_cgraph" alt=""/></div>
<map name="classRocmop_a2dbb41ea0da20e141ec61d8d4a726ddf_cgraph" id="classRocmop_a2dbb41ea0da20e141ec61d8d4a726ddf_cgraph">
<area shape="rect" id="node3" href="classMesquite_1_1MeshSet.html#ad9327e1b9b04a7b563325e8f5b8c96c7" title="adds a mesh to the MeshSet. " alt="" coords="207,689,348,735"/><area shape="rect" id="node7" href="classMesquite_1_1ShapeImprovementWrapper.html#a52b954daacf72db4a8b0b8811e81bbb0" title="run_instructions runs the wrapper on the given MeshSet. " alt="" coords="180,758,375,805"/><area shape="rect" id="node115" href="classMesqPane.html#a730a1509c8e07e0ea6edb1d89f6a5df4" title="Set the MesqPane verbose level (int, &gt;= 0) " alt="" coords="207,828,348,857"/><area shape="rect" id="node5" href="classMesquite_1_1Mesh.html#a26b43ed9b1bbd654f619e4732ab9b111" title="Returns whether this mesh lies in a 2D or 3D coordinate system. " alt="" coords="427,689,579,735"/><area shape="rect" id="node9" href="classMesquite_1_1QualityAssessor.html#a74331070fa7c1042f17b7d3583e7bcb9" title="Does one sweep over the mesh and assess the quality with the metrics previously added. " alt="" coords="640,1474,819,1521"/><area shape="rect" id="node23" href="classMesquite_1_1VertexMover.html#a74331070fa7c1042f17b7d3583e7bcb9" title="Improves the quality of the MeshSet, calling some methods specified in a class derived from VertexMov..." alt="" coords="424,758,581,805"/><area shape="rect" id="node11" href="classMesquite_1_1MeshSet.html#a07f501549939bc946dd771de5f06b2a3" title="Gets the next PatchData. " alt="" coords="913,1187,1055,1234"/><area shape="rect" id="node15" href="classMesquite_1_1PatchData.html#a3f7ed6a14a98f283aa700342b9cc2a01" title="number of elements in the Patch. " alt="" coords="912,1405,1056,1451"/><area shape="rect" id="node17" href="classMesquite_1_1PatchData.html#a1b72722c733b2017737741384f8d4546" title="Mesquite::PatchData\l::element_by_index" alt="" coords="912,1474,1056,1521"/><area shape="rect" id="node19" href="classMesquite_1_1PatchData.html#a73ac6a0e68b4cfd53adbb171ce07fbb7" title="number of vertices in the patch. " alt="" coords="1380,858,1524,905"/><area shape="rect" id="node21" href="classMesquite_1_1PatchData.html#a4b465b048ea4219134d26ecc1d5981e6" title="Returns the start of the vertex&#45;&gt;element array. " alt="" coords="912,1543,1056,1590"/><area shape="rect" id="node13" href="classMesquite_1_1PatchDataUser.html#a8d971b50e78fc6139f03726bbba3008d" title="Returns the PatchDataParameters object. " alt="" coords="1148,1187,1321,1234"/><area shape="rect" id="node25" href="classMesquite_1_1QualityImprover.html#acb40d57ccfb348d486705fcf1bca8236" title="Mesquite::QualityImprover\l::set_mesh_set" alt="" coords="643,213,816,259"/><area shape="rect" id="node27" href="classMesquite_1_1PatchDataUser.html#afdeb3f7cc84738470d0838d300ded313" title="Returns the Global Patch. " alt="" coords="643,5,816,51"/><area shape="rect" id="node31" href="classMesquite_1_1PatchDataUser.html#a40660f57ae3b8ae0df25b03778c6a172" title="Returns the Patch Type. " alt="" coords="643,143,816,190"/><area shape="rect" id="node35" href="classMesquite_1_1QualityImprover.html#ab5da2bd6a7facf025c31c8fd3b8268b0" title="return the outer termination criterion pointer " alt="" coords="643,403,816,467"/><area shape="rect" id="node37" href="classMesquite_1_1QualityImprover.html#a4573f7d8766d7d7bbd13ed9ff2684659" title="return the inner termination criterion pointer " alt="" coords="643,491,816,555"/><area shape="rect" id="node39" href="classMesquite_1_1TerminationCriterion.html#a3d45ca05e3b46c529fcf83c1df01b313" title="Mesquite::TerminationCriterion\l::set_debug_output_level" alt="" coords="629,578,829,625"/><area shape="rect" id="node41" href="classMesquite_1_1VertexMover.html#a53f2865301b5b5e8a03fd487d676f606" title="Mesquite::VertexMover\l::initialize" alt="" coords="651,647,808,694"/><area shape="rect" id="node43" href="classMesquite_1_1TerminationCriterion.html#abb595efb30088610673b262261ada67c" title="Clear any data accumulated during an outer iteration. " alt="" coords="629,938,829,985"/><area shape="rect" id="node48" href="classMesquite_1_1TerminationCriterion.html#a411b1b5e226d5c66642273611393b539" title="Clear any data accumulated during an inner iteration. " alt="" coords="884,845,1084,891"/><area shape="rect" id="node69" href="classMesquite_1_1TerminationCriterion.html#ab78db397b67d1ccfc887c0e11218f94d" title="Check if termination criterion has been met. " alt="" coords="629,282,829,329"/><area shape="rect" id="node77" href="classMesquite_1_1VertexMover.html#a36ee363919c20598df81e54159eff880" title="Mesquite::VertexMover\l::initialize_mesh_iteration" alt="" coords="645,869,813,915"/><area shape="rect" id="node79" href="classMesquite_1_1TerminationCriterion.html#a07af71d69f8217bb2371a1d353bf5549" title="Shared inner and outer initialization during inner loop. " alt="" coords="884,954,1084,1001"/><area shape="rect" id="node84" href="classMesquite_1_1VertexMover.html#a2e09fa6545581fe44da888246fc76101" title="Mesquite::VertexMover\l::optimize_vertex_positions" alt="" coords="639,1007,820,1054"/><area shape="rect" id="node86" href="classMesquite_1_1TerminationCriterion.html#a52e1a2e10a747dcb4c1343700df6bfb4" title="Common code for both inner and outer termination criteria during inner iteration. ..." alt="" coords="884,421,1084,467"/><area shape="rect" id="node94" href="classMesquite_1_1TerminationCriterion.html#a1759530e0df8fad8aa8cbbde98ec4eed" title="Function which determines whether this patch should be &#39;culled&#39;. " alt="" coords="884,610,1084,657"/><area shape="rect" id="node101" href="classMesquite_1_1PatchData.html#a9dbce5895323bbf4c3301494d899de76" title="Updates the underlying mesh (the Mesquite::Mesh implementation) with new node coordinates and flag va..." alt="" coords="657,1146,801,1193"/><area shape="rect" id="node103" href="classMesquite_1_1VertexMover.html#a20eb96cedb0200b2309a72bdd6664f80" title="Mesquite::VertexMover\l::terminate_mesh_iteration" alt="" coords="641,1215,817,1262"/><area shape="rect" id="node105" href="classMesquite_1_1MeshSet.html#ae7f6e22ad7a7ae1216ff849eb1f0e6f5" title="Resets the MeshSet object so that get_next_patch() will restart its iterations at the first vertex..." alt="" coords="659,1285,800,1331"/><area shape="rect" id="node107" href="classMesquite_1_1TerminationCriterion.html#a326094613366d5a66c3e67384322aa90" title="Mesquite::TerminationCriterion\l::accumulate_outer" alt="" coords="629,1077,829,1123"/><area shape="rect" id="node111" href="classMesquite_1_1TerminationCriterion.html#a39e2c84c1b98302041bb05df7fcb8952" title="Cleans up after the TerminationCriterion is finished. " alt="" coords="629,1354,829,1401"/><area shape="rect" id="node113" href="classMesquite_1_1VertexMover.html#a8f94dc33a3804ab30f2d2289ccd0494a" title="Mesquite::VertexMover\l::cleanup" alt="" coords="651,74,808,121"/><area shape="rect" id="node29" href="classMesquite_1_1PatchDataParameters.html#afdeb3f7cc84738470d0838d300ded313" title="Returns the Global Patch. " alt="" coords="879,5,1089,51"/><area shape="rect" id="node33" href="classMesquite_1_1PatchDataParameters.html#a40660f57ae3b8ae0df25b03778c6a172" title="Returns Patch Type (local around vertices, local around elements, global) " alt="" coords="879,143,1089,190"/><area shape="rect" id="node45" href="classMesquite_1_1PatchDataParameters.html#a247c2678640754cdb0bd45ab6f777cd9" title="Tells the MeshSet what kind of data the patches should include. " alt="" coords="879,1050,1089,1097"/><area shape="rect" id="node50" href="classMesquite_1_1Timer.html#ad20897c5c8bd47f5d4005989bead0e55" title="Mesquite::Timer::reset" alt="" coords="1159,823,1311,852"/><area shape="rect" id="node53" href="classMesquite_1_1ObjectiveFunction.html#a91076d1dd1a59a6f3c00c46d9c16ad45" title="Calls either compute_numerical_gradient or compute_analytical_gradient depending on the value of grad..." alt="" coords="1141,875,1328,922"/><area shape="rect" id="node55" href="namespaceMesquite.html#ae6da166f8221e1fd45131801086c94be" title="Mesquite::Linf" alt="" coords="1183,1033,1287,1063"/><area shape="rect" id="node57" href="namespaceMesquite.html#ac7fe4c546e08637612bd9b212daa45e9" title="Mesquite::length" alt="" coords="1176,719,1293,748"/><area shape="rect" id="node61" href="classMesquite_1_1ObjectiveFunction.html#aa4022056de427aeed2972f46957a8cb9" title="Mesquite::ObjectiveFunction\l::evaluate" alt="" coords="1141,649,1328,695"/><area shape="rect" id="node63" href="classMesquite_1_1PatchData.html#a4fa6913f1644e2aed4f96ff4dba66619" title="reinstantiates a memento to holds the current state of the PatchData coordinates. ..." alt="" coords="1163,945,1307,1009"/><area shape="rect" id="node66" href="classMesquite_1_1PatchData.html#a0bb57753499f14af261c370163a16a49" title="Creates a memento that holds the current state of the PatchData coordinates. " alt="" coords="1145,1086,1324,1133"/><area shape="rect" id="node59" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="1431,475,1473,504"/><area shape="rect" id="node71" href="classMesquite_1_1MsqInterrupt.html#adb55649f56913bbbf3aeef547a90db46" title="Check if an interrupt was seen. " alt="" coords="907,282,1061,329"/><area shape="rect" id="node73" href="classMesquite_1_1Timer.html#ac3f6cf620241299874ad6ba0de5fc5f7" title="Mesquite::Timer::since\l_birth" alt="" coords="907,351,1061,398"/><area shape="rect" id="node88" href="classMesquite_1_1PatchData.html#a0c304342ea32a23debc99bf8ad579a88" title="Calculates the distance each vertex has moved from its original position as defined by the PatchDataV..." alt="" coords="1140,473,1329,537"/><area shape="rect" id="node91" href="classMesquite_1_1PatchData.html#a5a414f86d33d49d3a3c43643208a9903" title="Returns a pointer to the start of the vertex array. " alt="" coords="1163,353,1307,399"/><area shape="rect" id="node98" href="classMesquite_1_1PatchData.html#a23a7889611150e4016c857aeda6c4f2a" title="Add a soft_fixed flag to all free vertices in the patch. " alt="" coords="1163,561,1307,625"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2dbb41ea0da20e141ec61d8d4a726ddf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_mesquite </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ghost_level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooth the panes of the buffer window using MESQUITE. </p>
<p>This method creates <a class="el" href="classMesqPane.html" title="A class enabling Mesquite calls on Rocmop panes. ">MesqPane</a> attributes for each of the local panes, which are then smoothed serially.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ghost_level</td><td>whether to use ghost cells and nodes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2dbb41ea0da20e141ec61d8d4a726ddf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_mesquite </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; COM::Pane * &gt; &amp;&#160;</td>
          <td class="paramname"><em>allpanes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ghost_level</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooth the panes of the buffer window using MESQUITE. </p>
<p>This method creates <a class="el" href="classMesqPane.html" title="A class enabling Mesquite calls on Rocmop panes. ">MesqPane</a> attributes for each of the local panes, which are then smoothed serially.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ghost_level</td><td>whether to use ghost cells and nodes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a679bfb8c7da7e819b00dc132ba57dc8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_surf_medial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooths a surface using the medial quadric. </p>

<p>Definition at line <a class="el" href="smooth__medial_8C_source.html#l00230">230</a> of file <a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00423">_rediter</a>, <a class="el" href="Rocmop_8h_source.html#l00438">_usr_window</a>, <a class="el" href="Rocmop_8h_source.html#l00453">_verb</a>, <a class="el" href="Rocmop_8h_source.html#l00439">_wrk_window</a>, <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="smooth__medial_8C_source.html#l00286">compute_medial_quadric()</a>, <a class="el" href="op2args_8C_source.html#l00333">Rocblas::copy()</a>, <a class="el" href="smooth__medial_8C_source.html#l00903">evaluate_face_normals()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="smooth__medial_8C_source.html#l00547">redistribute_vertices_ridge()</a>, and <a class="el" href="smooth__medial_8C_source.html#l00682">redistribute_vertices_smooth()</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                               {</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Entering Rocmop::smooth_medial&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>, <span class="stringliteral">&quot;Unexpected NULL pointer encountered.&quot;</span>);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// Calculate the face normals</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <a class="code" href="classRocmop.html#a800007d963d8c7320124ed29897db40a">Rocmop::evaluate_face_normals</a>();</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="comment">// Compute the medial quadric</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5">Rocmop::compute_medial_quadric</a>();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">#if EXPORT_DEBUG_INFO</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; COM::Attribute *vnormals = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(<span class="stringliteral">&quot;vnormals&quot;</span>));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; COM::Attribute *vnrms = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<span class="stringliteral">&quot;vnormals&quot;</span>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; COM::Attribute *awnormals = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(<span class="stringliteral">&quot;angleweighted&quot;</span>));</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; COM::Attribute *awnrms = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<span class="stringliteral">&quot;awnormals&quot;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; COM::Attribute *uwnormals = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(<span class="stringliteral">&quot;unitweighted&quot;</span>));</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; COM::Attribute *uwnrms = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<span class="stringliteral">&quot;uwnormals&quot;</span>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; COM::Attribute *tangranks = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(<span class="stringliteral">&quot;tangranks&quot;</span>));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; COM::Attribute *tranks = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<span class="stringliteral">&quot;tangranks&quot;</span>);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; COM::Attribute *evals = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<span class="stringliteral">&quot;lambda&quot;</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; COM::Attribute *eigenvalues = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(<span class="stringliteral">&quot;eigenvalues&quot;</span>));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; COM::Attribute *ws = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<span class="stringliteral">&quot;weights&quot;</span>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; COM::Attribute *weights = <span class="keyword">const_cast&lt;</span>COM::Attribute*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(<span class="stringliteral">&quot;adefects&quot;</span>));</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; <span class="keywordflow">if</span> ( vnormals)  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>( vnrms, vnormals);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; <span class="keywordflow">if</span> ( awnormals)  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>( awnrms, awnormals);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; <span class="keywordflow">if</span> ( uwnormals)  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>( uwnrms, uwnormals);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160; <span class="keywordflow">if</span> ( tangranks) <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>( tranks, tangranks);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; <span class="keywordflow">if</span> ( eigenvalues) <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(evals, eigenvalues);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; <span class="keywordflow">if</span> ( weights) <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>(ws,weights);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; <span class="comment">// Identify ridge edges</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; <span class="comment">//identify_ridge_edges();</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; <span class="comment">// Redistribute vertices within their tangent spaces</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; <span class="comment">// FIXME.... MODIFY THESE TO USE PN TRIANGLES</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">_rediter</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <a class="code" href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c">redistribute_vertices_ridge</a>();</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <a class="code" href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77">redistribute_vertices_smooth</a>();</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; <span class="comment">// Add the displacements onto the nodal coords</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; <span class="comment">// FIXME</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; <span class="keyword">const</span> std::string att1(<span class="stringliteral">&quot;disps&quot;</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; COM::Attribute *disps = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(att1);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; COM::Attribute *nc = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; <span class="comment">// Rocblas::add(disps,nc,nc);</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 2) </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   std::cout &lt;&lt; <span class="stringliteral">&quot;Exiting Rocmop::smooth_medial&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a4c6e496385e479c044a89f1e545edaa5"><div class="ttname"><a href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5">Rocmop::compute_medial_quadric</a></div><div class="ttdeci">void compute_medial_quadric()</div><div class="ttdoc">Compute medial quadric for every vertex. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00286">smooth_medial.C:286</a></div></div>
<div class="ttc" id="classRocmop_html_a800007d963d8c7320124ed29897db40a"><div class="ttname"><a href="classRocmop.html#a800007d963d8c7320124ed29897db40a">Rocmop::evaluate_face_normals</a></div><div class="ttdeci">void evaluate_face_normals()</div><div class="ttdoc">Evaluate face normals (copied from FaceOffset_3.[hC]. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00903">smooth_medial.C:903</a></div></div>
<div class="ttc" id="classRocmop_html_aaff38c32926fd43f2c63d0f359a31f77"><div class="ttname"><a href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77">Rocmop::redistribute_vertices_smooth</a></div><div class="ttdeci">void redistribute_vertices_smooth()</div><div class="ttdoc">Redistribute smooth vertices within their tangent spaces. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00682">smooth_medial.C:682</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a48f680156b4067b75b0981859d00e2c1"><div class="ttname"><a href="classRocmop.html#a48f680156b4067b75b0981859d00e2c1">Rocmop::_rediter</a></div><div class="ttdeci">int _rediter</div><div class="ttdoc">No.iterations for vertex redistribution. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00423">Rocmop.h:423</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_ad736dd98cc6ca328994641cb3939fc7c"><div class="ttname"><a href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c">Rocmop::redistribute_vertices_ridge</a></div><div class="ttdeci">void redistribute_vertices_ridge()</div><div class="ttdoc">Redistribute ridge vertices within their tangent spaces. </div><div class="ttdef"><b>Definition:</b> <a href="smooth__medial_8C_source.html#l00547">smooth_medial.C:547</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classRocblas_html_a29fe903b10fe8cd0f0bc37c01b63b83f"><div class="ttname"><a href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a></div><div class="ttdeci">static void copy(const Attribute *x, Attribute *y)</div><div class="ttdoc">Wrapper for copy. </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00333">op2args.C:333</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a679bfb8c7da7e819b00dc132ba57dc8f_cgraph.png" border="0" usemap="#classRocmop_a679bfb8c7da7e819b00dc132ba57dc8f_cgraph" alt=""/></div>
<map name="classRocmop_a679bfb8c7da7e819b00dc132ba57dc8f_cgraph" id="classRocmop_a679bfb8c7da7e819b00dc132ba57dc8f_cgraph">
<area shape="rect" id="node3" href="classRocmop.html#a4c6e496385e479c044a89f1e545edaa5" title="Compute medial quadric for every vertex. " alt="" coords="193,605,359,635"/><area shape="rect" id="node66" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f" title="Wrapper for copy. " alt="" coords="223,1075,329,1104"/><area shape="rect" id="node87" href="classRocmop.html#a800007d963d8c7320124ed29897db40a" title="Evaluate face normals (copied from FaceOffset_3.[hC]. " alt="" coords="199,1743,353,1772"/><area shape="rect" id="node111" href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c" title="Redistribute ridge vertices within their tangent spaces. " alt="" coords="207,1555,345,1602"/><area shape="rect" id="node126" href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77" title="Redistribute smooth vertices within their tangent spaces. " alt="" coords="207,1375,345,1422"/><area shape="rect" id="node5" href="namespacecimg__library.html#a539dd46f536be820887f4df391a9f2fd" title="cimg_library::acos" alt="" coords="636,285,764,315"/><area shape="rect" id="node9" href="geometry_8h.html#a2f642138fc2786ca05a687aa45a352f2" title="Compute the angle between two vectors. " alt="" coords="459,181,512,211"/><area shape="rect" id="node18" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="888,468,931,497"/><area shape="rect" id="node20" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd" title="Operation wrapper for copy (x is a scalar pointer). " alt="" coords="627,1332,773,1361"/><area shape="rect" id="node24" href="classVector__3.html#aa8b58e0e93d63afb1387a36b49d7d16f" title="Vector_3::cross_product" alt="" coords="619,1385,781,1415"/><area shape="rect" id="node26" href="classRocmop.html#a951f6a38a9e200878fabe2fe295d23ed" title="eigen_analyze_vertex" alt="" coords="412,664,559,693"/><area shape="rect" id="node36" href="Vector__n_8h.html#a7dddfa733bea2c50f405764d775e636a" title="max" alt="" coords="677,1128,723,1157"/><area shape="rect" id="node38" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="631,1256,769,1285"/><area shape="rect" id="node42" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff" title="Vector_3::norm" alt="" coords="431,285,540,315"/><area shape="rect" id="node45" href="arruda__boyce_8f90.html#a2f31672ee5874935d96e7aea2c8371fe" title="rs" alt="" coords="467,573,504,603"/><area shape="rect" id="node61" href="namespacecimg__library.html#a35f28010f1c3f5a5668974c5ea8d6be3" title="cimg_library::sin" alt="" coords="427,71,544,100"/><area shape="rect" id="node7" href="structcimg__library_1_1CImg.html#a80972e1b6fd55bf970cbb07d56c39335" title="cimg_library::CImg\l::get_acos" alt="" coords="844,277,975,323"/><area shape="rect" id="node12" href="utilities_2rc__cmp_2util_8cpp.html#a0d9256a364d8efaad23e52d4042654e0" title="dot_product" alt="" coords="655,181,745,211"/><area shape="rect" id="node14" href="geometry_8h.html#a3f884839e02fce28dc24f56b4f121900" title="Compute the dot Product of two vectors. " alt="" coords="676,75,724,104"/><area shape="rect" id="node16" href="namespacenvc.html#a4ea00221667e66f4029614e350ea5745" title="nvc::norm2" alt="" coords="657,128,743,157"/><area shape="rect" id="node22" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="841,1256,977,1285"/><area shape="rect" id="node28" href="namespaceNTS.html#a61aa0d7bc8a0439c1008dbb20e14c771" title="NTS::abs" alt="" coords="661,755,739,784"/><area shape="rect" id="node30" href="namespacecimg__library.html#a2ff3d5bed4426af215f53f21b5ae68cf" title="cimg_library::atan" alt="" coords="637,808,763,837"/><area shape="rect" id="node32" href="classRocmop.html#a77616b2e5e1035b58e2e4438abea5cb7" title="compute_eigenvectors" alt="" coords="624,861,776,891"/><area shape="rect" id="node34" href="buildface_8cpp.html#a34cd8fd4d99fbdd4ef97fcc94070b460" title="swap" alt="" coords="883,915,936,944"/><area shape="rect" id="node47" href="classLine__2.html#a788c8fb7953bc03c442e6d905abe0c01" title="Line_2::a" alt="" coords="872,600,947,629"/><area shape="rect" id="node49" href="arruda__boyce_8f90.html#a6fbc6c2163a4ca8b183d367f2bdf65c2" title="tql1" alt="" coords="679,440,721,469"/><area shape="rect" id="node51" href="arruda__boyce_8f90.html#a11625c0d4087813612fcea51e6bdc170" title="tql2" alt="" coords="679,493,721,523"/><area shape="rect" id="node53" href="arruda__boyce_8f90.html#af7b3c6cb5bad790aa302b90dfad59af9" title="tred1" alt="" coords="675,547,725,576"/><area shape="rect" id="node57" href="arruda__boyce_8f90.html#a40a1f383b8cd714b3c0d7dbe946d99eb" title="tred2" alt="" coords="675,600,725,629"/><area shape="rect" id="node63" href="structcimg__library_1_1CImg.html#a7c5c1b92e02d4286b19fd6ea054ba0e8" title="cimg_library::CImg\l::get_sin" alt="" coords="635,5,765,51"/><area shape="rect" id="node68" href="classWindow.html#a4d18e272967ed99a266283d1c173a26a" title="Obtain all the attributes of the pane. " alt="" coords="420,1075,551,1104"/><area shape="rect" id="node73" href="classAttribute.html#a59792315103c4358049673a86e8579fb" title="Obtain the full name of the attribute including window name suitable for printing out error messages..." alt="" coords="421,768,549,797"/><area shape="rect" id="node75" href="classWindow.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the window&#39;s name. " alt="" coords="645,915,755,944"/><area shape="rect" id="node79" href="classAttribute.html#ae879462c456db18c8c3b111bcd2d1a01" title="Obtain a constant pointer to the parent window of the attribute. " alt="" coords="639,1021,761,1051"/><area shape="rect" id="node83" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="441,1128,529,1157"/><area shape="rect" id="node70" href="classPane.html#a4d18e272967ed99a266283d1c173a26a" title="Obtain all the attributes of the pane. " alt="" coords="643,1075,757,1104"/><area shape="rect" id="node77" href="classAttribute.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the name of the attribute. " alt="" coords="645,968,755,997"/><area shape="rect" id="node81" href="classPane.html#a05d1abca9cbb0ec7bdc59f58dd81797c" title="Obtain a constant pointer to its owner window object. " alt="" coords="857,1021,961,1051"/><area shape="rect" id="node90" href="classElement__node__enumerator.html#a041249f802c5bf4c2deae666610e03c4" title="Go to the next element within the connectivity tables of a pane. " alt="" coords="612,1725,788,1771"/><area shape="rect" id="node102" href="classElement__node__vectors__k__const.html#a012daf687ea85e9da2bc2d064de92aa6" title="initialize the accessor with a pointer and a specific stride. " alt="" coords="408,1845,563,1891"/><area shape="rect" id="node104" href="classElement__node__enumerator.html#a35a62313d45990cfa4cab8caa1dfbff6" title="Number of nodes per element. " alt="" coords="612,1863,788,1910"/><area shape="rect" id="node107" href="classElement__node__enumerator.html#a3b0965f57d58cd0e85fab4b12a9d6899" title="Number of edges per element. " alt="" coords="612,1794,788,1841"/><area shape="rect" id="node92" href="classPane.html#a62d5a7a3e02da8c334472006166d67ea" title="Obtain the connectivity table containing the element with the given ID. " alt="" coords="844,1768,975,1797"/><area shape="rect" id="node94" href="classConnectivity.html#a69bd059da8cf335fbee896488f5c1e97" title="Get the index of the first element. " alt="" coords="1031,1707,1164,1754"/><area shape="rect" id="node96" href="classPane.html#ae5acbe47d704ceb866e3717e2ac9422f" title="Dimension of the pane. " alt="" coords="851,1821,968,1851"/><area shape="rect" id="node99" href="classConnectivity.html#a3ab0f5b4dbc683714ef15ccfb16225ac" title="Get a constant pointer to the connectivity array. " alt="" coords="839,1715,980,1744"/><area shape="rect" id="node114" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866" title="get_redist_safe_factor" alt="" coords="411,1384,560,1413"/><area shape="rect" id="node122" href="Vector__n_8h.html#aa501d41ea25a24792164a12fd4784044" title="min" alt="" coords="464,1539,507,1568"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a679bfb8c7da7e819b00dc132ba57dc8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_surf_medial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooths a surface using the medial quadric. </p>

</div>
</div>
<a class="anchor" id="a679bfb8c7da7e819b00dc132ba57dc8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_surf_medial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooths a surface using the medial quadric. </p>

</div>
</div>
<a class="anchor" id="ad94a043bec4799aa0bb568acd4b9f705"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_vol_mesq_ng </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooths a volume using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> with only shared node information. </p>
<p>This method operates in two steps. First the shared nodes which are not on the physical boundary of the mesh are redistributed via element based laplacian smoothing. Then, the real nodes of the panes are smoothed individually with pane boundaries fixed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td><a class="el" href="classMesh.html" title="Class Mesh is the main class that holds all information to describe the current state of the mesh...">Mesh</a> quality prior to smoothing. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00276">276</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                           {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    ;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a43639cc2a34d3141d58cba623fc42826"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_vol_mesq_ng </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pre_quality</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooths a volume using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> with only shared node information. </p>
<p>This method operates in two steps. First the shared nodes which are not on the physical boundary of the mesh are redistributed via element based laplacian smoothing. Then, the real nodes of the panes are smoothed individually with pane boundaries fixed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td><a class="el" href="classMesh.html" title="Class Mesh is the main class that holds all information to describe the current state of the mesh...">Mesh</a> quality prior to smoothing. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="smooth__mesquite__ng_8C_source.html#l00064">64</a> of file <a class="el" href="smooth__mesquite__ng_8C_source.html">smooth_mesquite_ng.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="roccom__basic_8h_source.html#l00131">COM_DOUBLE</a>, <a class="el" href="roccom__basic_8h_source.html#l00130">COM_INT</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_PCONN</a>, <a class="el" href="commpi_8h_source.html#l00168">COMMPI_Initialized()</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00249">Angle_Metric_3::compute()</a>, <a class="el" href="op2args_8C_source.html#l00333">Rocblas::copy()</a>, <a class="el" href="op2args_8C_source.html#l00583">Rocblas::copy_scalar()</a>, <a class="el" href="utilities_2rc__cmp_2util_8cpp_source.html#l00305">dist()</a>, <a class="el" href="op3args_8C_source.html#l00269">Rocblas::div()</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Geometric__Metrics__3_8C_source.html#l00047">Geo_Metric_Base_3::initialize()</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="Indexing_8h_source.html#l00006">k</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MIN</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, <a class="el" href="read_8cpp_source.html#l00074">nj</a>, <a class="el" href="read_8cpp_source.html#l00074">nk</a>, <a class="el" href="mapbasic_8h_source.html#l00112">Vector_3&lt; Type &gt;::norm()</a>, <a class="el" href="Rocon_2include_2NVec_8h_source.html#l00195">nvc::norm()</a>, <a class="el" href="mapbasic_8h_source.html#l00114">Vector_3&lt; Type &gt;::normalize()</a>, <a class="el" href="advectest_8C_source.html#l00066">rank</a>, <a class="el" href="Rocmap_8C_source.html#l00077">Rocmap::reduce_maxabs_on_shared_nodes()</a>, and <a class="el" href="ex1_8C_source.html#l00094">total_npanes</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                     {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Entering Rocmop::smooth_mesquite_ng&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">const</span> std::string surf_attr(<span class="stringliteral">&quot;is_surface&quot;</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  COM::Attribute* w_is_surface = <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(surf_attr);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface, <span class="stringliteral">&quot;Unexpected NULL pointer&quot;</span>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// First Perform Element-based Laplacian smoothing on pane boundary volume nodes</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// implemented as follows:</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// * this part should go into smoother_specific_init</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// 0 Declare and resize variables and buffers</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// 1 Loop through panes</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">//   a. Find the set of shared nodes.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">//   b. Remove surface nodes from above set, &quot;leaving submerged boundary nodes&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">//   c. Loop through all elements</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">//      if(element contains submersed boundary nodes)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">//          increment submersed_boundary nodes&#39; adj. element count</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">//          add element center to each submersed_boundary nodes&#39; new position</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="comment">// 2 Sum reduction on nodal positions and adj. element counts</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// 3 Divide new nodal positions by element counts</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// 0 Declare and resize data structures.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 2) std::cout &lt;&lt; <span class="stringliteral">&quot;  Declaring Variables\n&quot;</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="comment">// Allocate buffer space for new nodal positions</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  COM::Attribute *w_new_coords = </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute(<span class="stringliteral">&quot;new_coords&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array(w_new_coords, 0);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">// Allocate buffer space for adjacent element counts</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  COM::Attribute *w_adj_elem_cnts =</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute(<span class="stringliteral">&quot;adj_elem_cnts&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array(w_adj_elem_cnts, 0);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="comment">// Allocate buffer space for safe distance</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  COM::Attribute *w_safe_dist =</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute(<span class="stringliteral">&quot;safe_dist&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array(w_safe_dist, 0);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// Allocate buffer space for backup coords</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  COM::Attribute *w_backup =</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute(<span class="stringliteral">&quot;backup&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array(w_backup, 0);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// Allocate buffer space for reset flags</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  COM::Attribute *w_reset =</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute(<span class="stringliteral">&quot;reset&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array(w_reset, 0);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="comment">// Initialize buffer spaces to zeroes.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">double</span> dzero = 0.;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">double</span> dlarge =99999999;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">int</span> izero = 0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;dzero, w_new_coords);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;dzero, w_adj_elem_cnts);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;dlarge, w_safe_dist);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a>( &amp;izero, w_reset);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">//backup nodal coords.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a>( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>), w_backup);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="comment">// Get worst qualities, pre smoothing.</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Get a list of local panes</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  std::vector&lt;COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a> = (int)allpanes.size();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// Allocate space for the set of submerged_boundary.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  std::vector&lt;std::vector&lt;bool&gt; &gt; is_sub_bnd; <span class="comment">// Is submerged boundary node?</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  std::vector&lt;std::vector&lt;bool&gt; &gt; is_pan_bnd; <span class="comment">// Is pane boundary node?</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  is_sub_bnd.resize(total_npanes);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  is_pan_bnd.resize(total_npanes);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// Get attribute ids</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordtype">int</span> new_coords_id = w_new_coords-&gt;id();</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordtype">int</span> adj_elem_cnts_id = w_adj_elem_cnts-&gt;id();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordtype">int</span> is_surface_id = w_is_surface-&gt;id();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordtype">int</span> safe_dist_id = w_safe_dist-&gt;id();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordtype">int</span> reset_id = w_reset-&gt;id();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">int</span> backup_id = w_backup-&gt;id();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// get the pconn offset</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">int</span> pconn_offset = MAP::Pane_connectivity::pconn_offset();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// 1 Loop through panes</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 2) std::cout &lt;&lt; <span class="stringliteral">&quot;  Step 1\n&quot;</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">int</span> size_of_real_nodes = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">int</span> size_of_real_elems = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_elements();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    is_sub_bnd[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(size_of_real_nodes,0);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    is_pan_bnd[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>].resize(size_of_real_nodes,0);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    std::vector&lt;bool&gt; is_isolated; <span class="comment">// is a node isolated?</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    MAP::Pane_boundary pb (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    pb.determine_border_nodes(is_pan_bnd[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>], is_isolated);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">//   a. Find the set of shared nodes.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// get pane level pointers</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    COM::Attribute *p_is_surface = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(is_surface_id);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">int</span> *is_surface_ptr = (<span class="keywordtype">int</span>*)p_is_surface-&gt;pointer();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">double</span> * adj_elem_cnts_ptr = <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">double</span>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(adj_elem_cnts_id)-&gt;pointer());</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordtype">double</span> * safe_dist_ptr = </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      (<span class="keywordtype">double</span>*)(allpanes[i]-&gt;attribute(safe_dist_id)-&gt;pointer());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *pnts = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a>)-&gt;pointer());</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *new_coords_ptr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      (allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(new_coords_id)-&gt;pointer());</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// Obtain the pane connectivity of the local pane</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">const</span> COM::Attribute *pconn = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> *vs = (<span class="keyword">const</span> <span class="keywordtype">int</span>*)pconn-&gt;pointer() + pconn_offset;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">int</span> vs_size = pconn-&gt;size_of_real_items() - pconn_offset;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// Determine the number of communicating panes for shared nodes.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">int</span> count=0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>=vs_size; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+=vs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>+1]+2) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;owner_rank( vs[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]) &gt;=0) ++count;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// Loop through communicating panes for shared nodes.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;count; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, index+=vs[index+1]+2) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="comment">// We skip the panes that are not in the current window </span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">while</span> ( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;owner_rank(vs[index])&lt;0) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        index+=vs[index+1]+2;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( index&lt;=vs_size, <span class="stringliteral">&quot;Invalid communication map&quot;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      } </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <span class="comment">// Mark node as shared</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>=0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;vs[index+1]; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        is_sub_bnd[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][vs[index+2+<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1]=1;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">//   b. Remove surface nodes from above set, leaving submerged boundary nodes</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> =0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; size_of_real_nodes; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">if</span>(is_surface_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>])</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        is_sub_bnd[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = 0;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">//   c. Loop through all elements</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">//      if(element contains submersed boundary nodes)</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">//          increment submersed_boundary nodes&#39; adj. element count</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">//          add element center to each submersed_boundary nodes&#39; new position</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    Element_node_enumerator ene(allpanes[i],1);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> =0; <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> &lt; size_of_real_elems; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>, ene.next()){</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="comment">// Collect element indices of submerged boundary nodes.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordtype">int</span> nn = ene.size_of_nodes(), flag = 0;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> &lt; nn; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">if</span>(is_sub_bnd[i][ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1]){</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;          flag = 1;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          adj_elem_cnts_ptr[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] += 1.0;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="comment">// If the element contains submerged boundary nodes</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">if</span>(flag!=0){</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="comment">// Calculate the element&#39;s center</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> elem_cntr_pos(0.0,0.0,0.0);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> &lt; nn; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;          elem_cntr_pos += pnts[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        }              </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        elem_cntr_pos /= (double)nn;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="comment">// Add the center position to the accumulating new positions</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="comment">// of the constituent submerged boundary nodes.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">// And update safe distance if needed   </span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0; <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> &lt; nn; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          <span class="keywordflow">if</span>(is_sub_bnd[i][ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1]){</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="comment">// initialize safe distance with distance to center</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keywordtype">double</span> local_safe_dist = (pnts[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] - elem_cntr_pos).<a class="code" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">norm</a>();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordtype">int</span> long_src = -1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keywordtype">double</span> long_dist = -1.0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="comment">// replace safe distance with .5 shortest adj. edge length</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="comment">// if less than distance to center.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordtype">int</span> safe_source = -1;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ii=1; ii&lt;nn; ++ii){</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;              <span class="keywordtype">double</span> cur_edge_dist =</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                .5*(pnts[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] - pnts[ene[(<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+ii)%nn]-1]).norm();</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;              <span class="keywordflow">if</span>(cur_edge_dist &lt; local_safe_dist){</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                safe_source = ii;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                local_safe_dist = cur_edge_dist;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;              }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;              <span class="keywordflow">if</span>(cur_edge_dist &gt; long_dist){</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                long_dist = cur_edge_dist;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                long_src = ii;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;              }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            new_coords_ptr[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] += elem_cntr_pos;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">if</span>(safe_source == -1)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;              new_coords_ptr[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] += elem_cntr_pos;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;              <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> direction = </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                (pnts[ene[(<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>+long_src)%nn]-1] - pnts[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1]);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;              direction.<a class="code" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">normalize</a>();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;              new_coords_ptr[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] += pnts[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;              new_coords_ptr[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] += direction*local_safe_dist;          </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;              <span class="comment">//new_coords_ptr[ene[k]-1] -= pnts[ene[(k+safe_source)%nn]-1];</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span>(local_safe_dist &lt; safe_dist_ptr[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1])</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;              safe_dist_ptr[ene[<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]-1] = local_safe_dist;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// 2 Sum reduction on nodal positions and adj. element counts</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) std::cout &lt;&lt; <span class="stringliteral">&quot;  Step 2\n&quot;</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="classRocmop.html#a217ec7b723d7b6be27827ce2564b26d2">reduce_sum_on_shared_nodes</a>(w_new_coords);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <a class="code" href="classRocmop.html#a217ec7b723d7b6be27827ce2564b26d2">reduce_sum_on_shared_nodes</a>(w_adj_elem_cnts);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    MAP::Pane_communicator pc(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>, <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator());</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    pc.init(w_safe_dist);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    pc.begin_update_shared_nodes();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    pc.reduce_on_shared_nodes(<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    pc.end_update_shared_nodes();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// 3 Divide new nodal positions by element counts</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) std::cout &lt;&lt; <span class="stringliteral">&quot;  Step 3\n&quot;</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classRocblas.html#a065ad834f700affb4c861da75459325c">Rocblas::div</a>(w_new_coords, w_adj_elem_cnts, w_new_coords);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="comment">//std::string msg(&quot;\n  I submerged quality = &quot;);</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">//print_mquality(msg, is_sub_bnd);</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="comment">//msg = &quot;  I pane boundary quality = &quot;;</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="comment">//print_mquality(msg, is_pan_bnd);</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  std::vector&lt;std::vector&lt;bool&gt; &gt; elem_to_check;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">mark_elems_from_nodes</a>(is_sub_bnd, elem_to_check);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// get min,max angles for later use</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordtype">double</span> max_angle = 0.0;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordtype">double</span> min_angle = 180.0;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); i&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a> =0,<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a> = elem_to_check[i].size(); <a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span>(elem_to_check[i][<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>]){</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        Element_node_enumerator ene(allpanes[i],k+1);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span>(angles[1]&gt;max_angle)</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;          max_angle = angles[1];</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span>(angles[0]&lt;min_angle)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          min_angle = angles[0];</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a> =0;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordtype">double</span> temp = min_angle;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a>()){</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(max_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">agree_double</a>(min_angle,<a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a>);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">int</span> ierr = MPI_Comm_rank( <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;get_communicator()</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                              , &amp;<a class="code" href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a>); </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    assert( ierr == 0);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }  </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) std::cout &lt;&lt; <span class="stringliteral">&quot;  Step 4\n&quot;</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// 4 Copy new nodal coords into mesh for submerged boundary nodes</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">// get pane level attributes</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* new_coords_ptr = </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* <span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                           attribute(new_coords_id)-&gt;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                                           pointer());</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* coords_ptr = </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* <span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                                           attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                           -&gt;pointer());</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordtype">double</span>* safe_dist_ptr = </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      (<span class="keywordtype">double</span>*)(allpanes[i]-&gt;attribute(safe_dist_id)-&gt;pointer());</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a> = 0, nj = allpanes[i]-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <span class="keywordflow">if</span>(is_sub_bnd[i][<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]){</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> direction = </div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          new_coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] - coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="utilities_2rc__cmp_2util_8cpp.html#a20cb1d3b02ba93e67230bef14e0824b0">dist</a> = direction.<a class="code" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">norm</a>();</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">if</span> (dist &gt; safe_dist_ptr[j]){</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          <span class="keywordtype">double</span> alpha = .9*safe_dist_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]/<a class="code" href="utilities_2rc__cmp_2util_8cpp.html#a20cb1d3b02ba93e67230bef14e0824b0">dist</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;          coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            alpha*new_coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] +(1.0-alpha)*coords_ptr[j];</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = .5*new_coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] +.5*coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    }</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="comment">//msg = (&quot;\n  L submerged quality = &quot;);</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">//print_mquality(msg, is_sub_bnd);</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="comment">//msg = &quot;  L pane boundary quality = &quot;;</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">//print_mquality(msg, is_pan_bnd);</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">//msg = &quot;  L overall quality = &quot;;</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="comment">//print_quality(msg);</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// Decide which positions to reset</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordtype">int</span>* reset_ptr =</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      (<span class="keywordtype">int</span>*)(allpanes[i]-&gt;attribute(reset_id)-&gt;pointer());</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k =0,nk = elem_to_check[i].size(); k&lt;<a class="code" href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a>; ++<a class="code" href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a>){</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      <span class="keywordflow">if</span>(elem_to_check[i][k]){</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordtype">double</span> angles[] = {0.0, 0.0};</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        Element_node_enumerator ene(allpanes[i],k+1);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="classAngle__Metric__3.html">Angle_Metric_3</a> am;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        am.<a class="code" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">initialize</a>(ene);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        am.<a class="code" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">compute</a>(angles);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <span class="keywordflow">if</span>(angles[1]&gt;max_angle ||</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;           angles[0]&lt;min_angle){</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;          std::vector&lt;int&gt; nodes;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          ene.get_nodes(nodes);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j =0, nj=nodes.size(); j&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">if</span> (is_sub_bnd[i][nodes[j]-1])</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;              reset_ptr[nodes[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>]-1] = 1;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      }</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  }</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="comment">// All nodes being moved are shared, so this should be valid</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="classRocmap.html#a4669730c9a3a6f95b39f36ac44ce2718">Rocmap::reduce_maxabs_on_shared_nodes</a>(w_reset);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// get pane level attributes</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* backup_ptr = </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* <span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                                           attribute(backup_id)-&gt;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                           pointer());</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* coords_ptr = </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>* <span class="keyword">&gt;</span>(allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                                           attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>)</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                           -&gt;pointer());  </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordtype">int</span>* reset_ptr =</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      (<span class="keywordtype">int</span>*)(allpanes[i]-&gt;attribute(reset_id)-&gt;pointer());</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0, nj = allpanes[i]-&gt;size_of_real_nodes(); j&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">if</span>(reset_ptr[j])</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        coords_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>] = backup_ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>];</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">//msg = (&quot;\n  R submerged quality = &quot;);</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="comment">//print_mquality(msg, is_sub_bnd);</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="comment">//msg = &quot;  R pane boundary quality = &quot;;</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="comment">//print_mquality(msg, is_pan_bnd);</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">//msg = &quot;  R overall quality = &quot;;</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">//print_quality(msg);</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// Smooth using mesquite.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">smooth_mesquite</a>(allpanes,0);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">//msg = &quot;\n  M submerged quality = &quot;;</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">//print_mquality(msg, is_sub_bnd);</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="comment">// msg = &quot;  M pane boundary quality = &quot;;</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="comment">//print_mquality(msg, is_pan_bnd);</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="comment">//msg = &quot;  M overall quality = &quot;;</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="comment">//print_quality(msg);</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="comment">//Deallocate buffer space</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;delete_attribute( w_adj_elem_cnts-&gt;name());</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;delete_attribute( w_new_coords-&gt;name());</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Exiting Rocmop::smooth_mesquite_ng&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="ttc" id="classAngle__Metric__3_html_a4c0c7f4ce46f815fdc2f520c7b276d4f"><div class="ttname"><a href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f">Angle_Metric_3::compute</a></div><div class="ttdeci">virtual void compute(double atts[]) const </div><div class="ttdoc">Calculate the metric value on this element. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00249">Geometric_Metrics_3.C:249</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="Indexing_8h_html_abd04f52293cfebedce75fd4b033ec190"><div class="ttname"><a href="Indexing_8h.html#abd04f52293cfebedce75fd4b033ec190">k</a></div><div class="ttdeci">j indices k indices k</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a76d8302d45fe32c172494455f3fb65f3"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a76d8302d45fe32c172494455f3fb65f3">MPI_MIN</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MIN</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classVector__3_html_a378898ca48cb8e4a1cf466e85d33f429"><div class="ttname"><a href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429">Vector_3::normalize</a></div><div class="ttdeci">Vector_3 &amp; normalize()</div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00114">mapbasic.h:114</a></div></div>
<div class="ttc" id="ex1_8C_html_a311773deddd1b35eca23e4835577ea57"><div class="ttname"><a href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a></div><div class="ttdeci">const int total_npanes</div><div class="ttdef"><b>Definition:</b> <a href="ex1_8C_source.html#l00094">ex1.C:94</a></div></div>
<div class="ttc" id="classRocmop_html_a217ec7b723d7b6be27827ce2564b26d2"><div class="ttname"><a href="classRocmop.html#a217ec7b723d7b6be27827ce2564b26d2">Rocmop::reduce_sum_on_shared_nodes</a></div><div class="ttdeci">static void reduce_sum_on_shared_nodes(COM::Attribute *att)</div><div class="ttdoc">Perform a sum-reduction on the shared nodes for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00595">Rocmop.C:595</a></div></div>
<div class="ttc" id="namespacenvc_html_a7ef4a2939f7598fd25136135eafb0ce6"><div class="ttname"><a href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6">nvc::norm</a></div><div class="ttdeci">T norm(const NVec&lt; DIM, T &gt; &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="Rocon_2include_2NVec_8h_source.html#l00195">Rocon/include/NVec.h:195</a></div></div>
<div class="ttc" id="classRocmap_html_a4669730c9a3a6f95b39f36ac44ce2718"><div class="ttname"><a href="classRocmap.html#a4669730c9a3a6f95b39f36ac44ce2718">Rocmap::reduce_maxabs_on_shared_nodes</a></div><div class="ttdeci">static void reduce_maxabs_on_shared_nodes(COM::Attribute *att, COM::Attribute *pconn=NULL)</div><div class="ttdoc">Perform a maxabs-reduction on the shared nodes for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00077">Rocmap.C:77</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM_PCONN</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocblas_html_a065ad834f700affb4c861da75459325c"><div class="ttname"><a href="classRocblas.html#a065ad834f700affb4c861da75459325c">Rocblas::div</a></div><div class="ttdeci">static void div(const Attribute *x, const Attribute *y, Attribute *z)</div><div class="ttdoc">Operation wrapper for division. </div><div class="ttdef"><b>Definition:</b> <a href="op3args_8C_source.html#l00269">op3args.C:269</a></div></div>
<div class="ttc" id="classGeo__Metric__Base__3_html_a6856f5e1b1b0d59db106f0524c5621b4"><div class="ttname"><a href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4">Geo_Metric_Base_3::initialize</a></div><div class="ttdeci">virtual void initialize(Vector_3&lt; double &gt; n[], int type)</div><div class="ttdoc">Initialize a 3D Geometric Metric by nodal coords and element type. </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8C_source.html#l00047">Geometric_Metrics_3.C:47</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00130">roccom_basic.h:130</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a7bd1e3242f121ad96172ad719ecce08c"><div class="ttname"><a href="classRocmop.html#a7bd1e3242f121ad96172ad719ecce08c">Rocmop::agree_double</a></div><div class="ttdeci">void agree_double(double &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on a double value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00240">Rocmop.h:240</a></div></div>
<div class="ttc" id="read_8cpp_html_ad7a679b0825009b85dec00ea33e0e869"><div class="ttname"><a href="read_8cpp.html#ad7a679b0825009b85dec00ea33e0e869">nk</a></div><div class="ttdeci">void int int * nk</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classRocblas_html_a67987d3b72ffb73c5fa0cc2930822afd"><div class="ttname"><a href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd">Rocblas::copy_scalar</a></div><div class="ttdeci">static void copy_scalar(const void *x, Attribute *y)</div><div class="ttdoc">Operation wrapper for copy (x is a scalar pointer). </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00583">op2args.C:583</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classAngle__Metric__3_html"><div class="ttname"><a href="classAngle__Metric__3.html">Angle_Metric_3</a></div><div class="ttdoc">3D Max and Min Angle Metric Class </div><div class="ttdef"><b>Definition:</b> <a href="Geometric__Metrics__3_8h_source.html#l00087">Geometric_Metrics_3.h:87</a></div></div>
<div class="ttc" id="classRocblas_html_a29fe903b10fe8cd0f0bc37c01b63b83f"><div class="ttname"><a href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f">Rocblas::copy</a></div><div class="ttdeci">static void copy(const Attribute *x, Attribute *y)</div><div class="ttdoc">Wrapper for copy. </div><div class="ttdef"><b>Definition:</b> <a href="op2args_8C_source.html#l00333">op2args.C:333</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
<div class="ttc" id="advectest_8C_html_a6cfd95afd0afebd625b889fb6e58371c"><div class="ttname"><a href="advectest_8C.html#a6cfd95afd0afebd625b889fb6e58371c">rank</a></div><div class="ttdeci">static int rank</div><div class="ttdef"><b>Definition:</b> <a href="advectest_8C_source.html#l00066">advectest.C:66</a></div></div>
<div class="ttc" id="utilities_2rc__cmp_2util_8cpp_html_a20cb1d3b02ba93e67230bef14e0824b0"><div class="ttname"><a href="utilities_2rc__cmp_2util_8cpp.html#a20cb1d3b02ba93e67230bef14e0824b0">dist</a></div><div class="ttdeci">long double dist(long double *coord1, long double *coord2, int size)</div><div class="ttdef"><b>Definition:</b> <a href="utilities_2rc__cmp_2util_8cpp_source.html#l00305">utilities/rc_cmp/util.cpp:305</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c86012e49ffd3488beacec5a4f5f03"><div class="ttname"><a href="classRocmop.html#ad5c86012e49ffd3488beacec5a4f5f03">Rocmop::mark_elems_from_nodes</a></div><div class="ttdeci">void mark_elems_from_nodes(std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_nodes, std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems)</div><div class="ttdoc">Mark the nodes which contain marked elems. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00712">Rocmop.C:712</a></div></div>
<div class="ttc" id="commpi_8h_html_a0ac6f9335053e39843f8e0612bc3a0ff"><div class="ttname"><a href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff">COMMPI_Initialized</a></div><div class="ttdeci">int COMMPI_Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="commpi_8h_source.html#l00168">commpi.h:168</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00131">roccom_basic.h:131</a></div></div>
<div class="ttc" id="classRocmop_html_a2dbb41ea0da20e141ec61d8d4a726ddf"><div class="ttname"><a href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">Rocmop::smooth_mesquite</a></div><div class="ttdeci">void smooth_mesquite(std::vector&lt; COM::Pane * &gt; &amp;allpanes, int ghost_level=0)</div><div class="ttdoc">Smooth the panes of the working window using MESQUITE. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00570">Rocmop.C:570</a></div></div>
<div class="ttc" id="classVector__3_html_afc75c733aff7cb9c0216f363888b1dff"><div class="ttname"><a href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff">Vector_3::norm</a></div><div class="ttdeci">Type norm() const </div><div class="ttdef"><b>Definition:</b> <a href="mapbasic_8h_source.html#l00112">mapbasic.h:112</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a43639cc2a34d3141d58cba623fc42826_cgraph.png" border="0" usemap="#classRocmop_a43639cc2a34d3141d58cba623fc42826_cgraph" alt=""/></div>
<map name="classRocmop_a43639cc2a34d3141d58cba623fc42826_cgraph" id="classRocmop_a43639cc2a34d3141d58cba623fc42826_cgraph">
<area shape="rect" id="node3" href="commpi_8h.html#a0ac6f9335053e39843f8e0612bc3a0ff" title="COMMPI_Initialized" alt="" coords="219,29,357,59"/><area shape="rect" id="node5" href="classAngle__Metric__3.html#a4c0c7f4ce46f815fdc2f520c7b276d4f" title="Calculate the metric value on this element. " alt="" coords="203,83,373,112"/><area shape="rect" id="node7" href="classRocblas.html#a29fe903b10fe8cd0f0bc37c01b63b83f" title="Wrapper for copy. " alt="" coords="235,243,341,272"/><area shape="rect" id="node33" href="classRocblas.html#a67987d3b72ffb73c5fa0cc2930822afd" title="Operation wrapper for copy (x is a scalar pointer). " alt="" coords="215,189,361,219"/><area shape="rect" id="node36" href="utilities_2rc__cmp_2util_8cpp.html#a20cb1d3b02ba93e67230bef14e0824b0" title="dist" alt="" coords="267,296,309,325"/><area shape="rect" id="node44" href="classRocblas.html#a065ad834f700affb4c861da75459325c" title="Operation wrapper for division. " alt="" coords="241,136,335,165"/><area shape="rect" id="node53" href="classGeo__Metric__Base__3.html#a6856f5e1b1b0d59db106f0524c5621b4" title="Initialize a 3D Geometric Metric by nodal coords and element type. " alt="" coords="215,402,361,449"/><area shape="rect" id="node55" href="classVector__3.html#afc75c733aff7cb9c0216f363888b1dff" title="Vector_3::norm" alt="" coords="233,472,343,501"/><area shape="rect" id="node57" href="namespacenvc.html#a7ef4a2939f7598fd25136135eafb0ce6" title="nvc::norm" alt="" coords="248,349,328,379"/><area shape="rect" id="node62" href="classVector__3.html#a378898ca48cb8e4a1cf466e85d33f429" title="Vector_3::normalize" alt="" coords="219,525,357,555"/><area shape="rect" id="node64" href="classRocmap.html#a4669730c9a3a6f95b39f36ac44ce2718" title="Perform a maxabs&#45;reduction on the shared nodes for the given attribute. " alt="" coords="203,578,373,625"/><area shape="rect" id="node9" href="classWindow.html#a4d18e272967ed99a266283d1c173a26a" title="Obtain all the attributes of the pane. " alt="" coords="440,345,571,375"/><area shape="rect" id="node17" href="classAttribute.html#a31e5bdf111bbc9b44690b89982b25dad" title="Obtain the data type of each component of the attribute. " alt="" coords="437,137,573,167"/><area shape="rect" id="node19" href="classAttribute.html#a59792315103c4358049673a86e8579fb" title="Obtain the full name of the attribute including window name suitable for printing out error messages..." alt="" coords="441,84,569,113"/><area shape="rect" id="node21" href="classWindow.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the window&#39;s name. " alt="" coords="665,237,775,267"/><area shape="rect" id="node25" href="classAttribute.html#ae879462c456db18c8c3b111bcd2d1a01" title="Obtain a constant pointer to the parent window of the attribute. " alt="" coords="659,176,781,205"/><area shape="rect" id="node29" href="classAttribute.html#ae0c063cfb2479f614be43b9d2f92ba63" title="Obtain the id (or index) of the attribute. " alt="" coords="461,241,549,271"/><area shape="rect" id="node11" href="classPane.html#a4d18e272967ed99a266283d1c173a26a" title="Obtain all the attributes of the pane. " alt="" coords="663,327,777,356"/><area shape="rect" id="node13" href="classAttribute.html#afaa016f7aa87969def6903a4a7e8490f" title="Obtain a constant pointer to the owner pane of the attribute. " alt="" coords="872,327,979,356"/><area shape="rect" id="node15" href="classAttribute.html#abc4b98257cfab82335b1ff26b46d5efc" title="Obtain the number of components in the attribute. " alt="" coords="865,238,985,285"/><area shape="rect" id="node23" href="classAttribute.html#a324e8c54c4c5161913681a1a52fef959" title="Obtain the name of the attribute. " alt="" coords="665,109,775,139"/><area shape="rect" id="node27" href="classPane.html#a05d1abca9cbb0ec7bdc59f58dd81797c" title="Obtain a constant pointer to its owner window object. " alt="" coords="873,176,977,205"/><area shape="rect" id="node38" href="namespaceMesquite.html#a158e89125c01402924b46cd1cefa5240" title="Mesquite::pow" alt="" coords="452,399,559,428"/><area shape="rect" id="node42" href="double_8h.html#ac12b3d29117dc72313c36cdb5a9d3e0e" title="sqrt" alt="" coords="484,452,527,481"/><area shape="rect" id="node40" href="classMesquite_1_1Exponent.html#a665516b85c2af1c1e62945896e9178b2" title="Mesquite::Exponent\l::raise" alt="" coords="651,390,789,437"/><area shape="rect" id="node46" href="classRocblas.html#a014ebce01bb2ec4eacb969b142b13d97" title="Chooses which calc function to call based on type of y. " alt="" coords="432,31,579,60"/><area shape="rect" id="node48" href="classAttribute.html#ab642771d1269b6ccb9e6ba87ec15de3b" title="Checks whether the attribute is associated with the window. " alt="" coords="643,5,797,35"/><area shape="rect" id="node60" href="namespacenvc.html#a4ea00221667e66f4029614e350ea5745" title="nvc::norm2" alt="" coords="463,505,548,535"/><area shape="rect" id="node66" href="classPane__communicator.html#af84e5306d7677a0665fa35099278e534" title="Initialize the communication buffers. " alt="" coords="423,587,588,616"/><area shape="rect" id="node68" href="roccom__c_09_09_8h.html#ad0963775a018dcb83d982e5cfeeb3a22" title="COM_get_sizeof" alt="" coords="660,532,780,561"/><area shape="rect" id="node72" href="classPane__communicator.html#a0db778b55c3fc482ecf132594bd6b123" title="Initialize a Pane_comm_buffers for ghost information. " alt="" coords="639,638,801,685"/><area shape="rect" id="node74" href="classPane__communicator.html#a4327966d16b9b3012f1bb61ddc0673d3" title="For a given pane, obtain an internal pane ID which is unique and contiguous across processes..." alt="" coords="851,582,1000,629"/><area shape="rect" id="node70" href="commpi_8C.html#aa00c2248b16333919baea12e6935aac9" title="Get the size of a given MPI data type. " alt="" coords="884,529,967,559"/><area shape="rect" id="node76" href="classPane__communicator.html#ae7eeea984bcf7fa59efa96d05a81a901" title="Obtain the process rank of a given pane. " alt="" coords="851,651,1000,698"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad94a043bec4799aa0bb568acd4b9f705"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_vol_mesq_ng </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooths a volume using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> with only shared node information. </p>
<p>This method operates in two steps. First the shared nodes which are not on the physical boundary of the mesh are redistributed via element based laplacian smoothing. Then, the real nodes of the panes are smoothed individually with pane boundaries fixed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td><a class="el" href="classMesh.html" title="Class Mesh is the main class that holds all information to describe the current state of the mesh...">Mesh</a> quality prior to smoothing. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00298">298</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                           {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    ;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35de0b32e6ac1098a26269c458f15f5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_vol_mesq_wg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooth a volume via <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> using ghost information. </p>
<p>This method operates in two steps. First the panes, including ghost nodes, are smoothed individually using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a>. Then, shared nodes are moved to the average of their positions across all panes. These steps two steps repeat until either ncycles sub-cycles are completed or the loss in quality between the two steps is less than ctol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td><a class="el" href="classMesh.html" title="Class Mesh is the main class that holds all information to describe the current state of the mesh...">Mesh</a> quality prior to smoothing. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="smooth__mesquite__1_8C_source.html#l00058">58</a> of file <a class="el" href="smooth__mesquite__1_8C_source.html">smooth_mesquite_1.C</a>.</p>

<p>References <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_PCONN</a>, <a class="el" href="Rocmap_8C_source.html#l00057">Rocmap::reduce_average_on_shared_nodes()</a>, and <a class="el" href="Rocmap_8C_source.html#l00087">Rocmap::update_ghosts()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                               {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;      Entering Rocmop::smooth_vol_mesq_wg&quot;</span>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(2,<span class="stringliteral">&quot;        Updating ghost node positions.&quot;</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>),</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                        <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  std::vector&lt;COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="comment">// smooth the panes via MESQUITE with ghosts.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">smooth_mesquite</a>(allpanes,1);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(2,<span class="stringliteral">&quot;        Updating shared and ghost node positions.&quot;</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classRocmap.html#a6e07bbad3d29b50c52eeddc56fe81c5c">Rocmap::reduce_average_on_shared_nodes</a>(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>));</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(<a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>),</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                        <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>));</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">print_legible</a>(1,<span class="stringliteral">&quot;      Exiting Rocmop::smooth_vol_mesq_wg&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM_PCONN</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="classRocmop_html_a7b4df805a767c8b80da5b47b7a649e2f"><div class="ttname"><a href="classRocmop.html#a7b4df805a767c8b80da5b47b7a649e2f">Rocmop::print_legible</a></div><div class="ttdeci">void print_legible(int verb, const char *msg)</div><div class="ttdoc">Single process print message if given verbosity level is exceeded. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8C_source.html#l01408">Rocmop_1.C:1408</a></div></div>
<div class="ttc" id="classRocmap_html_a748dccffbd1a40c058a05982d3bf04b8"><div class="ttname"><a href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a></div><div class="ttdeci">static void update_ghosts(COM::Attribute *att, const COM::Attribute *pconn=NULL)</div><div class="ttdoc">Update ghost nodal or elemental values for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00087">Rocmap.C:87</a></div></div>
<div class="ttc" id="classRocmap_html_a6e07bbad3d29b50c52eeddc56fe81c5c"><div class="ttname"><a href="classRocmap.html#a6e07bbad3d29b50c52eeddc56fe81c5c">Rocmap::reduce_average_on_shared_nodes</a></div><div class="ttdeci">static void reduce_average_on_shared_nodes(COM::Attribute *att, COM::Attribute *pconn=NULL)</div><div class="ttdoc">Perform an average-reduction on the shared nodes for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00057">Rocmap.C:57</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classRocmop_html_a2dbb41ea0da20e141ec61d8d4a726ddf"><div class="ttname"><a href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">Rocmop::smooth_mesquite</a></div><div class="ttdeci">void smooth_mesquite(std::vector&lt; COM::Pane * &gt; &amp;allpanes, int ghost_level=0)</div><div class="ttdoc">Smooth the panes of the working window using MESQUITE. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00570">Rocmop.C:570</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a35de0b32e6ac1098a26269c458f15f5b_cgraph.png" border="0" usemap="#classRocmop_a35de0b32e6ac1098a26269c458f15f5b_cgraph" alt=""/></div>
<map name="classRocmop_a35de0b32e6ac1098a26269c458f15f5b_cgraph" id="classRocmop_a35de0b32e6ac1098a26269c458f15f5b_cgraph">
<area shape="rect" id="node3" href="classRocmap.html#a6e07bbad3d29b50c52eeddc56fe81c5c" title="Perform an average&#45;reduction on the shared nodes for the given attribute. " alt="" coords="205,25,376,71"/><area shape="rect" id="node18" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8" title="Update ghost nodal or elemental values for the given attribute. " alt="" coords="209,95,372,124"/><area shape="rect" id="node5" href="classPane__communicator.html#af84e5306d7677a0665fa35099278e534" title="Initialize the communication buffers. " alt="" coords="425,64,591,93"/><area shape="rect" id="node7" href="roccom__c_09_09_8h.html#ad0963775a018dcb83d982e5cfeeb3a22" title="COM_get_sizeof" alt="" coords="663,8,783,37"/><area shape="rect" id="node11" href="classPane__communicator.html#a0db778b55c3fc482ecf132594bd6b123" title="Initialize a Pane_comm_buffers for ghost information. " alt="" coords="641,115,804,162"/><area shape="rect" id="node13" href="classPane__communicator.html#a4327966d16b9b3012f1bb61ddc0673d3" title="For a given pane, obtain an internal pane ID which is unique and contiguous across processes..." alt="" coords="853,58,1003,105"/><area shape="rect" id="node9" href="commpi_8C.html#aa00c2248b16333919baea12e6935aac9" title="Get the size of a given MPI data type. " alt="" coords="887,5,969,35"/><area shape="rect" id="node15" href="classPane__communicator.html#ae7eeea984bcf7fa59efa96d05a81a901" title="Obtain the process rank of a given pane. " alt="" coords="853,127,1003,174"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1896435f2fcb46a858097dd017d1d61a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_vol_mesq_wg </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pre_quality</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooth a volume via <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> using ghost information. </p>
<p>This method operates in two steps. First the panes, including ghost nodes, are smoothed individually using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a>. Then, shared nodes are moved to the average of their positions across all panes. These steps two steps repeat until either ncycles sub-cycles are completed or the loss in quality between the two steps is less than ctol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td><a class="el" href="classMesh.html" title="Class Mesh is the main class that holds all information to describe the current state of the mesh...">Mesh</a> quality prior to smoothing. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="smooth__mesquite_8C_source.html#l00059">59</a> of file <a class="el" href="smooth__mesquite_8C_source.html">smooth_mesquite.C</a>.</p>

<p>References <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_PCONN</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">MPI_MAX</a>, <a class="el" href="Rocmap_8C_source.html#l00057">Rocmap::reduce_average_on_shared_nodes()</a>, <a class="el" href="ex1_8C_source.html#l00094">total_npanes</a>, and <a class="el" href="Rocmap_8C_source.html#l00087">Rocmap::update_ghosts()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                                                     {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Entering Rocmop::smooth_vol_mesq_wg&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  std::vector&lt;COM::Pane*&gt; allpanes;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;panes(allpanes);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a> = (int)allpanes.size();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// Get the worst dihedral angle of all of the elements</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordtype">double</span> pre_worst = initial_quality, post_worst = 180.0;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordtype">double</span> pre_worst_all = 180.0;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">double</span> post_worst_all = 0.0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordtype">int</span> to_cycle = 1;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">//std::string msg(&quot;\n  Initial shared quality = &quot;);</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">//print_mquality(msg, _is_shared_node);</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0; (<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">_ncycle</a> &amp;&amp; to_cycle); ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 2)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;        Subcycle &quot;</span> &lt;&lt; <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// smooth the panes via MESQUITE with ghosts.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">smooth_mesquite</a>(allpanes,1);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">//msg = &quot;\n  Post-mesquite quality = &quot;;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">//print_mquality(msg, _is_shared_node);</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">//msg = &quot;\n  Post-mesquite all quality = &quot;;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">//print_quality(msg);</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">//get the worst quality of all the shared elements</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    pre_worst = <a class="code" href="classRocmop.html#a5b230d9e1d42e381af9441a2041520ce">check_marked_elem_quality</a>(<a class="code" href="classRocmop.html#ab4fce00eeb4e715e4b24cec46c30f6de">_is_shared_elem</a>,allpanes);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 2)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      std::cout &lt;&lt; <span class="stringliteral">&quot;        Updating shared and ghost node positions.\n&quot;</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classRocmap.html#a6e07bbad3d29b50c52eeddc56fe81c5c">Rocmap::reduce_average_on_shared_nodes</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                          <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM::COM_PCONN</a>));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">//msg = &quot;\n  Post-communicated quality = &quot;;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">//print_mquality(msg, _is_shared_node);</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">//msg = &quot;\n  Post-communicated all quality = &quot;;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">//print_quality(msg);</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">_ctol</a> != 0.0){</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      post_worst = <a class="code" href="classRocmop.html#a5b230d9e1d42e381af9441a2041520ce">check_marked_elem_quality</a>(<a class="code" href="classRocmop.html#ab4fce00eeb4e715e4b24cec46c30f6de">_is_shared_elem</a>,allpanes);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordflow">if</span>(pre_worst/post_worst &gt; <a class="code" href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">_ctol</a>)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        to_cycle = 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">agree_int</a>(to_cycle, <a class="code" href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;      Exiting Rocmop::smooth_vol_mesq_wg&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="ttc" id="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_html_a6deaef474a23b25d9edf6bb436bd7d37"><div class="ttname"><a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h.html#a6deaef474a23b25d9edf6bb436bd7d37">MPI_MAX</a></div><div class="ttdeci">here we put it at the!beginning of the common block The point to point and collective!routines know about but MPI_TYPE_STRUCT as yet does not!MPI_STATUS_IGNORE and MPI_STATUSES_IGNORE are similar objects!Until the underlying MPI library implements the C version of these are declared as arrays of MPI_STATUS_SIZE!The types and are OPTIONAL!Their values are zero if they are not available Note that!using these reduces the portability of MPI_IO INTEGER MPI_BOTTOM INTEGER MPI_DOUBLE_PRECISION INTEGER MPI_LOGICAL INTEGER MPI_2REAL INTEGER MPI_2DOUBLE_COMPLEX INTEGER MPI_LB INTEGER MPI_WTIME_IS_GLOBAL INTEGER MPI_GROUP_EMPTY INTEGER MPI_MAX</div><div class="ttdef"><b>Definition:</b> <a href="SourceIMP_2utilities_2RocfracPrep_2mpif_8h_source.html#l00107">SourceIMP/utilities/RocfracPrep/mpif.h:107</a></div></div>
<div class="ttc" id="classRocmop_html_aac4ba847a0da2e6304c77894c3bd277a"><div class="ttname"><a href="classRocmop.html#aac4ba847a0da2e6304c77894c3bd277a">Rocmop::_ncycle</a></div><div class="ttdeci">int _ncycle</div><div class="ttdoc">Max number of subcycles for convergence. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00479">Rocmop.h:479</a></div></div>
<div class="ttc" id="ex1_8C_html_a311773deddd1b35eca23e4835577ea57"><div class="ttname"><a href="ex1_8C.html#a311773deddd1b35eca23e4835577ea57">total_npanes</a></div><div class="ttdeci">const int total_npanes</div><div class="ttdef"><b>Definition:</b> <a href="ex1_8C_source.html#l00094">ex1.C:94</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a3378bcc04600f19a4fbb1d478991df4e">COM_PCONN</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="classRocmop_html_a5b230d9e1d42e381af9441a2041520ce"><div class="ttname"><a href="classRocmop.html#a5b230d9e1d42e381af9441a2041520ce">Rocmop::check_marked_elem_quality</a></div><div class="ttdeci">double check_marked_elem_quality(std::vector&lt; std::vector&lt; bool &gt; &gt; &amp;marked_elems, std::vector&lt; COM::Pane * &gt; &amp;allpanes)</div><div class="ttdoc">Get the largest dihedral angle of marked real elements. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00760">Rocmop.C:760</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmap_html_a748dccffbd1a40c058a05982d3bf04b8"><div class="ttname"><a href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8">Rocmap::update_ghosts</a></div><div class="ttdeci">static void update_ghosts(COM::Attribute *att, const COM::Attribute *pconn=NULL)</div><div class="ttdoc">Update ghost nodal or elemental values for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00087">Rocmap.C:87</a></div></div>
<div class="ttc" id="classRocmop_html_a5dcb6239b84f76205a02035a45e990db"><div class="ttname"><a href="classRocmop.html#a5dcb6239b84f76205a02035a45e990db">Rocmop::_ctol</a></div><div class="ttdeci">float _ctol</div><div class="ttdoc">Subcycling tolerance. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00471">Rocmop.h:471</a></div></div>
<div class="ttc" id="classRocmop_html_aff58f80a52e7dd9a4610db0a68713899"><div class="ttname"><a href="classRocmop.html#aff58f80a52e7dd9a4610db0a68713899">Rocmop::agree_int</a></div><div class="ttdeci">void agree_int(int &amp;val, MPI_Op op)</div><div class="ttdoc">Agree on an integer value across all panes. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00226">Rocmop.h:226</a></div></div>
<div class="ttc" id="classRocmap_html_a6e07bbad3d29b50c52eeddc56fe81c5c"><div class="ttname"><a href="classRocmap.html#a6e07bbad3d29b50c52eeddc56fe81c5c">Rocmap::reduce_average_on_shared_nodes</a></div><div class="ttdeci">static void reduce_average_on_shared_nodes(COM::Attribute *att, COM::Attribute *pconn=NULL)</div><div class="ttdoc">Perform an average-reduction on the shared nodes for the given attribute. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmap_8C_source.html#l00057">Rocmap.C:57</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="classRocmop_html_ab4fce00eeb4e715e4b24cec46c30f6de"><div class="ttname"><a href="classRocmop.html#ab4fce00eeb4e715e4b24cec46c30f6de">Rocmop::_is_shared_elem</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_shared_elem</div><div class="ttdoc">Does the element contain shared nodes? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00432">Rocmop.h:432</a></div></div>
<div class="ttc" id="classRocmop_html_a2dbb41ea0da20e141ec61d8d4a726ddf"><div class="ttname"><a href="classRocmop.html#a2dbb41ea0da20e141ec61d8d4a726ddf">Rocmop::smooth_mesquite</a></div><div class="ttdeci">void smooth_mesquite(std::vector&lt; COM::Pane * &gt; &amp;allpanes, int ghost_level=0)</div><div class="ttdoc">Smooth the panes of the working window using MESQUITE. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00570">Rocmop.C:570</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a1896435f2fcb46a858097dd017d1d61a_cgraph.png" border="0" usemap="#classRocmop_a1896435f2fcb46a858097dd017d1d61a_cgraph" alt=""/></div>
<map name="classRocmop_a1896435f2fcb46a858097dd017d1d61a_cgraph" id="classRocmop_a1896435f2fcb46a858097dd017d1d61a_cgraph">
<area shape="rect" id="node3" href="classRocmap.html#a6e07bbad3d29b50c52eeddc56fe81c5c" title="Perform an average&#45;reduction on the shared nodes for the given attribute. " alt="" coords="205,25,376,71"/><area shape="rect" id="node18" href="classRocmap.html#a748dccffbd1a40c058a05982d3bf04b8" title="Update ghost nodal or elemental values for the given attribute. " alt="" coords="209,95,372,124"/><area shape="rect" id="node5" href="classPane__communicator.html#af84e5306d7677a0665fa35099278e534" title="Initialize the communication buffers. " alt="" coords="425,64,591,93"/><area shape="rect" id="node7" href="roccom__c_09_09_8h.html#ad0963775a018dcb83d982e5cfeeb3a22" title="COM_get_sizeof" alt="" coords="663,8,783,37"/><area shape="rect" id="node11" href="classPane__communicator.html#a0db778b55c3fc482ecf132594bd6b123" title="Initialize a Pane_comm_buffers for ghost information. " alt="" coords="641,115,804,162"/><area shape="rect" id="node13" href="classPane__communicator.html#a4327966d16b9b3012f1bb61ddc0673d3" title="For a given pane, obtain an internal pane ID which is unique and contiguous across processes..." alt="" coords="853,58,1003,105"/><area shape="rect" id="node9" href="commpi_8C.html#aa00c2248b16333919baea12e6935aac9" title="Get the size of a given MPI data type. " alt="" coords="887,5,969,35"/><area shape="rect" id="node15" href="classPane__communicator.html#ae7eeea984bcf7fa59efa96d05a81a901" title="Obtain the process rank of a given pane. " alt="" coords="853,127,1003,174"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a35de0b32e6ac1098a26269c458f15f5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smooth_vol_mesq_wg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooth a volume via <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> using ghost information. </p>
<p>This method operates in two steps. First the panes, including ghost nodes, are smoothed individually using <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a>. Then, shared nodes are moved to the average of their positions across all panes. These steps two steps repeat until either ncycles sub-cycles are completed or the loss in quality between the two steps is less than ctol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pre_quality</td><td><a class="el" href="classMesh.html" title="Class Mesh is the main class that holds all information to describe the current state of the mesh...">Mesh</a> quality prior to smoothing. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa4ccb82202e8cfdb21a511ff6336bab7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smoother_specific_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform smoother specific initialization. </p>
<p>Perform smoother specific initializing, for example initializing the <a class="el" href="classWindow__manifold__2.html" title="This class implements a data structure for 2-manifold over a whole window, which can be composed of m...">Window_manifold_2</a> for a surface mesh, adding smoother specific attributes to the buffer window, etc. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00364">364</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="roccom__c_09_09_8h_source.html#l00563">COM_compatible_types()</a>, <a class="el" href="roccom__basic_8h_source.html#l00131">COM_DOUBLE</a>, <a class="el" href="roccom__basic_8h_source.html#l00130">COM_INT</a>, <a class="el" href="Attribute_8h_source.html#l00043">COM_MESH</a>, <a class="el" href="Attribute_8h_source.html#l00044">COM_PMESH</a>, and <a class="el" href="Rocsurf_8C_source.html#l00035">Rocsurf::initialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                                   {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a>) </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;    Entering Rocmop::smoother_specific_init&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="comment">// get rid of any old data</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">if</span>(_wm){ <span class="keyword">delete</span> _wm; _wm = NULL; }</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// perform initialization common to surface smoothers</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>==<a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>){</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// Initialize the Window_manifold</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span>(_wm == NULL)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      <a class="code" href="classRocsurf.html#a690441882f8d7100b177146402bb63b5">Rocsurf::initialize</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;attribute(<a class="code" href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">_is_pmesh</a> ? <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM_PMESH</a> : <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM_MESH</a>));    </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="comment">// perform smoother specific initialization </span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">_method</a>){</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="preprocessor">#ifdef MESQUITE</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>: {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Obtain a list of elements containing shared nodes for each pane.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">// Don&#39;t bother if _ctol == 0 or _ncycle ==1</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="comment">//    if(!(_ctol==0.) &amp;&amp; !(_ncycle==1))</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="classRocmop.html#a7ab9ce2c2abc714470af5935a1253b51">determine_shared_border</a>();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">_invert</a>)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="classRocmop.html#a33f7bffb33a186986f213c3e9d8bfcdc">invert_tets</a>();</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>: {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// Check to see if the physical surface boundary exists</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keyword">const</span> std::string surf_attr(<span class="stringliteral">&quot;is_surface&quot;</span>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keyword">const</span> COM::Attribute *w_is_surface = <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;attribute(surf_attr);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span>(w_is_surface){</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( <a class="code" href="roccom__c_09_09_8h.html#a701c22c997913a2773d36a0b47683716">COM_compatible_types</a>( w_is_surface-&gt;data_type(), <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>),</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                         <span class="stringliteral">&quot;Surface-list must have integer type&quot;</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface-&gt;is_nodal() == 1,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                         <span class="stringliteral">&quot;Surface-list must be nodal&quot;</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface-&gt;size_of_components() == 1,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                         <span class="stringliteral">&quot;Surface-list must have a single component&quot;</span>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>( w_is_surface-&gt;initialized() == 1,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                         <span class="stringliteral">&quot;Surface-list must be initialized&quot;</span>);      </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="comment">// Clone the attribute</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      COM::Attribute * new_attr = </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;inherit( const_cast&lt;COM::Attribute *&gt;(w_is_surface), </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                              surf_attr, COM::Pane::INHERIT_CLONE, <span class="keyword">true</span>, NULL, 0);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    }</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// else, detect the physical boundary ourselves</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      COM::Attribute* w_surf_attr =</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;is_surface&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_surf_attr, 0);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <a class="code" href="classRocmop.html#ae6d2093e46e82c6974a7ec1f984ede34">determine_physical_border</a>(w_surf_attr);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    </div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">_invert</a>)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="classRocmop.html#a33f7bffb33a186986f213c3e9d8bfcdc">invert_tets</a>();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">SMOOTH_VOL_MESQ_WG</a>:</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">SMOOTH_VOL_MESQ_NG</a>:</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0, <span class="stringliteral">&quot;Not compiled with MESQUITE&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">SMOOTH_SURF_MEDIAL</a>: {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// Extend buffer window</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    COM::Attribute* w_disps =</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;disps&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_disps, 0);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    COM::Attribute* w_facenormals = </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;facenormals&quot;</span>, <span class="charliteral">&#39;e&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_facenormals, 0);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    COM::Attribute* w_facecenters = </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;facecenters&quot;</span>, <span class="charliteral">&#39;e&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_facecenters, 0);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    COM::Attribute* w_eigvalues = </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;lambda&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_eigvalues, 0);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    COM::Attribute* w_vnormals = </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;vnormals&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_vnormals, 0);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    COM::Attribute* w_awnormals = </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;awnormals&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_awnormals, 0);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    COM::Attribute* w_uwnormals = </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;uwnormals&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_uwnormals, 0);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    COM::Attribute* w_eigvecs = </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;eigvecs&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 9, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_eigvecs, 0);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    COM::Attribute* w_tangranks = </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;tangranks&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_tangranks, 0);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    COM::Attribute* w_cntnranks = </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;cntnranks&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_cntnranks, 0);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    </div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    COM::Attribute* w_cntnvecs =</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;cntnvecs&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 6, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_cntnvecs, 0);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    COM::Attribute* w_scales = </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;scales&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_scales, 0);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    COM::Attribute* w_weights = </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;weights&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_weights, 0);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    COM::Attribute* w_weights2 = </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;weights2&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_weights2, 0);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    COM::Attribute* w_barycrds = </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;barycrds&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 2, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_barycrds, 0);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    COM::Attribute* w_PNelemids = </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute( <span class="stringliteral">&quot;PNelemids&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array( w_PNelemids, 0);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// Extend the buffer window to hold local contributions to new placement</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">// and the number of contributing faces for Laplacian smoothing.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    COM::Attribute * w_pnt_contrib = </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute(<span class="stringliteral">&quot;pnt_contrib&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 3, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array(w_pnt_contrib, 0);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    COM::Attribute * w_disp_count =</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;new_attribute(<span class="stringliteral">&quot;disp_count&quot;</span>, <span class="charliteral">&#39;n&#39;</span>, <a class="code" href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a>, 1, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;resize_array(w_disp_count, 0);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>-&gt;init_done();</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">//  case SMOOTH_LAPLACE : {</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">//break;</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(0, <span class="stringliteral">&quot;Can&#39;t initialize for invalid smoother.&quot;</span>);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(<a class="code" href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">_wrk_window</a>, <span class="stringliteral">&quot;Unexpected NULL pointer encountered.&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">_verb</a> &gt; 1) </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;    Exiting Rocmop::smoother_specific_init&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_ae6d2093e46e82c6974a7ec1f984ede34"><div class="ttname"><a href="classRocmop.html#ae6d2093e46e82c6974a7ec1f984ede34">Rocmop::determine_physical_border</a></div><div class="ttdeci">void determine_physical_border()</div><div class="ttdoc">Determine which nodes and elements are on the physical border. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00677">Rocmop.C:677</a></div></div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="classRocmop_html_a33f7bffb33a186986f213c3e9d8bfcdc"><div class="ttname"><a href="classRocmop.html#a33f7bffb33a186986f213c3e9d8bfcdc">Rocmop::invert_tets</a></div><div class="ttdeci">void invert_tets()</div><div class="ttdoc">Repair inverted tets. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00748">Rocmop.C:748</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="classRocmop_html_a9e2f9cbfe3a6d8ca5380f6996136d436"><div class="ttname"><a href="classRocmop.html#a9e2f9cbfe3a6d8ca5380f6996136d436">Rocmop::_method</a></div><div class="ttdeci">int _method</div><div class="ttdoc">Choice of smoothing method. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00447">Rocmop.h:447</a></div></div>
<div class="ttc" id="classRocsurf_html_a690441882f8d7100b177146402bb63b5"><div class="ttname"><a href="classRocsurf.html#a690441882f8d7100b177146402bb63b5">Rocsurf::initialize</a></div><div class="ttdeci">void initialize(const COM::Attribute *pmesh)</div><div class="ttdoc">Constructs the communication patterns of a distributed mesh. </div><div class="ttdef"><b>Definition:</b> <a href="Rocsurf_8C_source.html#l00035">Rocsurf.C:35</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_a701c22c997913a2773d36a0b47683716"><div class="ttname"><a href="roccom__c_09_09_8h.html#a701c22c997913a2773d36a0b47683716">COM_compatible_types</a></div><div class="ttdeci">int COM_compatible_types(COM_Type type1, COM_Type type2)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00563">roccom_c++.h:563</a></div></div>
<div class="ttc" id="classRocmop_html_a7ab9ce2c2abc714470af5935a1253b51"><div class="ttname"><a href="classRocmop.html#a7ab9ce2c2abc714470af5935a1253b51">Rocmop::determine_shared_border</a></div><div class="ttdeci">void determine_shared_border()</div><div class="ttdoc">Determine which nodes and elements are shared. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8C_source.html#l00631">Rocmop.C:631</a></div></div>
<div class="ttc" id="classRocmop_html_a8bfb863d0d6c0ca0aac56d669dde275f"><div class="ttname"><a href="classRocmop.html#a8bfb863d0d6c0ca0aac56d669dde275f">Rocmop::_wrk_window</a></div><div class="ttdeci">COM::Window * _wrk_window</div><div class="ttdoc">The working window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00439">Rocmop.h:439</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e0c56750448e8a08170725ce6aa391f">Rocmop::SMOOTH_SURF_MEDIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00046">Rocmop.h:46</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294ca4e6f0113f54771ec152466fc0df3950f">Rocmop::SMOOTH_VOL_MESQ_NG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="classRocmop_html_ad5c73458e9e564ce8f6b82ac18efaaab"><div class="ttname"><a href="classRocmop.html#ad5c73458e9e564ce8f6b82ac18efaaab">Rocmop::_invert</a></div><div class="ttdeci">int _invert</div><div class="ttdoc">If true (default false), then invert the mesh. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00489">Rocmop.h:489</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea7a2d306948a75f1819ae2268970916a6">COM_INT</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00130">roccom_basic.h:130</a></div></div>
<div class="ttc" id="classRocmop_html_acb97bace1cdea437d58881da5314ec0c"><div class="ttname"><a href="classRocmop.html#acb97bace1cdea437d58881da5314ec0c">Rocmop::_verb</a></div><div class="ttdeci">int _verb</div><div class="ttdoc">Verbose level. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00453">Rocmop.h:453</a></div></div>
<div class="ttc" id="classRocmop_html_a8b94b90d311b68f3cc157edb92c34c2d"><div class="ttname"><a href="classRocmop.html#a8b94b90d311b68f3cc157edb92c34c2d">Rocmop::_is_pmesh</a></div><div class="ttdeci">bool _is_pmesh</div><div class="ttdoc">pmesh or mesh ? </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00441">Rocmop.h:441</a></div></div>
<div class="ttc" id="classRocmop_html_a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2"><div class="ttname"><a href="classRocmop.html#a1be3860693af99a6c1da72580097294caaa2557d8fde568877edc5fbbb05965a2">Rocmop::SMOOTH_VOL_MESQ_WG</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00045">Rocmop.h:45</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a02b8b762bae4770f9f62cb7b766a1b5a">COM_MESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00043">Attribute.h:43</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736aeffad09b7868898f7eb6225d2e102dd1">COM_PMESH</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00044">Attribute.h:44</a></div></div>
<div class="ttc" id="roccom__basic_8h_html_a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455"><div class="ttname"><a href="roccom__basic_8h.html#a05589fbab0657f08285ebdfe93f5ec9ea3e715f225cae63d873e2d68fc4ce0455">COM_DOUBLE</a></div><div class="ttdef"><b>Definition:</b> <a href="roccom__basic_8h_source.html#l00131">roccom_basic.h:131</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_aa4ccb82202e8cfdb21a511ff6336bab7_cgraph.png" border="0" usemap="#classRocmop_aa4ccb82202e8cfdb21a511ff6336bab7_cgraph" alt=""/></div>
<map name="classRocmop_aa4ccb82202e8cfdb21a511ff6336bab7_cgraph" id="classRocmop_aa4ccb82202e8cfdb21a511ff6336bab7_cgraph">
<area shape="rect" id="node3" href="roccom__c_09_09_8h.html#a701c22c997913a2773d36a0b47683716" title="COM_compatible_types" alt="" coords="205,5,368,35"/><area shape="rect" id="node5" href="classRocsurf.html#a690441882f8d7100b177146402bb63b5" title="Constructs the communication patterns of a distributed mesh. " alt="" coords="225,59,348,88"/><area shape="rect" id="node7" href="classRocsurf.html#a3767bcdb4b06619283e47da0d17b1378" title="Rocsurf::validate_object" alt="" coords="416,28,579,57"/><area shape="rect" id="node9" href="classWindow__manifold__2.html#a5f81facb36f7b18c987fd9a735bef1e2" title="Initialize a pane communicator. " alt="" coords="424,81,571,127"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4ccb82202e8cfdb21a511ff6336bab7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smoother_specific_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform smoother specific initialization. </p>
<p>Perform smoother specific initializing, for example initializing the <a class="el" href="classWindow__manifold__2.html" title="This class implements a data structure for 2-manifold over a whole window, which can be composed of m...">Window_manifold_2</a> for a surface mesh, adding smoother specific attributes to the buffer window, etc. </p>

</div>
</div>
<a class="anchor" id="aa4ccb82202e8cfdb21a511ff6336bab7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smoother_specific_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform smoother specific initialization. </p>
<p>Perform smoother specific initializing, for example initializing the <a class="el" href="classWindow__manifold__2.html" title="This class implements a data structure for 2-manifold over a whole window, which can be composed of m...">Window_manifold_2</a> for a surface mesh, adding smoother specific attributes to the buffer window, etc. </p>

</div>
</div>
<a class="anchor" id="ac8e5fea6a907d82647fe6689f599d167"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00378">378</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00825">get_redist_safe_factor()</a>, and <a class="el" href="Rocmop_8h_source.html#l00407">solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    FT denom = a1*b2-b1*a2;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a> = - (b1*c2-c1*b2)/denom;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a> = (a1*c2-c1*a2)/denom;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  }</div>
<div class="ttc" id="read_8cpp_html_ab197e1fd52c62ecc8371ff8bc64fc875"><div class="ttname"><a href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a></div><div class="ttdeci">void int int REAL REAL * y</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="read_8cpp_html_a855d5d0028073e23b7804f2848fbe67d"><div class="ttname"><a href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a></div><div class="ttdeci">void int int REAL * x</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ac8e5fea6a907d82647fe6689f599d167_icgraph.png" border="0" usemap="#classRocmop_ac8e5fea6a907d82647fe6689f599d167_icgraph" alt=""/></div>
<map name="classRocmop_ac8e5fea6a907d82647fe6689f599d167_icgraph" id="classRocmop_ac8e5fea6a907d82647fe6689f599d167_icgraph">
<area shape="rect" id="node3" href="classRocmop.html#a4fb274a52abfb27d778d4c6d5c690866" title="get_redist_safe_factor" alt="" coords="108,48,257,77"/><area shape="rect" id="node12" href="classRocmop.html#a0dcdf02c0930e57aae7bb40af4072ebc" title="solve" alt="" coords="156,101,209,131"/><area shape="rect" id="node5" href="classRocmop.html#ad736dd98cc6ca328994641cb3939fc7c" title="Redistribute ridge vertices within their tangent spaces. " alt="" coords="307,5,445,51"/><area shape="rect" id="node9" href="classRocmop.html#aaff38c32926fd43f2c63d0f359a31f77" title="Redistribute smooth vertices within their tangent spaces. " alt="" coords="307,74,445,121"/><area shape="rect" id="node7" href="classRocmop.html#a679bfb8c7da7e819b00dc132ba57dc8f" title="Smooths a surface using the medial quadric. " alt="" coords="493,48,632,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac72c650f375127c44503682dc72e8d24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00391">391</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    FT denom = b2*c1*a3-b1*c2*a3+c3*b1*a2+b3*c2*a1-c1*b3*a2-b2*c3*a1;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a> = - (b2*c3*d1-b2*c1*d3+c1*b3*d2+b1*c2*d3-c3*b1*d2-b3*c2*d1)/denom;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <a class="code" href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a> = (b2*d1*a3-b2*a1*d3+b1*a2*d3-b1*d2*a3-d1*b3*a2+a1*b3*d2)/denom;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    </div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a> = (a2*c3*d1-a2*c1*d3-c2*d1*a3+c2*a1*d3+d2*c1*a3-d2*c3*a1)/denom;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  }</div>
<div class="ttc" id="read_8cpp_html_ab197e1fd52c62ecc8371ff8bc64fc875"><div class="ttname"><a href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a></div><div class="ttdeci">void int int REAL REAL * y</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="write_8cpp_html_ac1322c06b04abcf9ded210e154c9acd9"><div class="ttname"><a href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a></div><div class="ttdeci">void int int int REAL REAL REAL * z</div><div class="ttdef"><b>Definition:</b> <a href="write_8cpp_source.html#l00076">write.cpp:76</a></div></div>
<div class="ttc" id="read_8cpp_html_a855d5d0028073e23b7804f2848fbe67d"><div class="ttname"><a href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a></div><div class="ttdeci">void int int REAL * x</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8e5fea6a907d82647fe6689f599d167"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00403">403</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    FT denom = a1*b2-b1*a2;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a> = - (b1*c2-c1*b2)/denom;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a> = (a1*c2-c1*a2)/denom;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div>
<div class="ttc" id="read_8cpp_html_ab197e1fd52c62ecc8371ff8bc64fc875"><div class="ttname"><a href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a></div><div class="ttdeci">void int int REAL REAL * y</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="read_8cpp_html_a855d5d0028073e23b7804f2848fbe67d"><div class="ttname"><a href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a></div><div class="ttdeci">void int int REAL * x</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0dcdf02c0930e57aae7bb40af4072ebc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00407">407</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00378">solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                           {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">solve</a>( A[0][0], A[0][1], A[0][2], A[1][0], A[1][1], A[1][2], </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;           A[2][0], A[2][1], A[2][2], q[0], q[1], q[2], </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;           x[0], x[1], x[2]);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_ac8e5fea6a907d82647fe6689f599d167"><div class="ttname"><a href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">Rocmop::solve</a></div><div class="ttdeci">static void solve(const FT &amp;a1, const FT &amp;a2, const FT &amp;b1, const FT &amp;b2, const FT &amp;c1, const FT &amp;c2, FT &amp;x, FT &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00378">Rocmop.h:378</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph.png" border="0" usemap="#classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph" alt=""/></div>
<map name="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph" id="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph">
<area shape="rect" id="node3" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167" title="solve" alt="" coords="107,5,160,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac72c650f375127c44503682dc72e8d24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00416">416</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    FT denom = b2*c1*a3-b1*c2*a3+c3*b1*a2+b3*c2*a1-c1*b3*a2-b2*c3*a1;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a> = - (b2*c3*d1-b2*c1*d3+c1*b3*d2+b1*c2*d3-c3*b1*d2-b3*c2*d1)/denom;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a> = (b2*d1*a3-b2*a1*d3+b1*a2*d3-b1*d2*a3-d1*b3*a2+a1*b3*d2)/denom;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a> = (a2*c3*d1-a2*c1*d3-c2*d1*a3+c2*a1*d3+d2*c1*a3-d2*c3*a1)/denom;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div>
<div class="ttc" id="read_8cpp_html_ab197e1fd52c62ecc8371ff8bc64fc875"><div class="ttname"><a href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a></div><div class="ttdeci">void int int REAL REAL * y</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="write_8cpp_html_ac1322c06b04abcf9ded210e154c9acd9"><div class="ttname"><a href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a></div><div class="ttdeci">void int int int REAL REAL REAL * z</div><div class="ttdef"><b>Definition:</b> <a href="write_8cpp_source.html#l00076">write.cpp:76</a></div></div>
<div class="ttc" id="read_8cpp_html_a855d5d0028073e23b7804f2848fbe67d"><div class="ttname"><a href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a></div><div class="ttdeci">void int int REAL * x</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8e5fea6a907d82647fe6689f599d167"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00430">430</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    FT denom = a1*b2-b1*a2;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a> = - (b1*c2-c1*b2)/denom;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a> = (a1*c2-c1*a2)/denom;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  }</div>
<div class="ttc" id="read_8cpp_html_ab197e1fd52c62ecc8371ff8bc64fc875"><div class="ttname"><a href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a></div><div class="ttdeci">void int int REAL REAL * y</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="read_8cpp_html_a855d5d0028073e23b7804f2848fbe67d"><div class="ttname"><a href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a></div><div class="ttdeci">void int int REAL * x</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0dcdf02c0930e57aae7bb40af4072ebc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00432">432</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00378">solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                           {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">solve</a>( A[0][0], A[0][1], A[0][2], A[1][0], A[1][1], A[1][2], </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;           A[2][0], A[2][1], A[2][2], q[0], q[1], q[2], </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;           x[0], x[1], x[2]);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_ac8e5fea6a907d82647fe6689f599d167"><div class="ttname"><a href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">Rocmop::solve</a></div><div class="ttdeci">static void solve(const FT &amp;a1, const FT &amp;a2, const FT &amp;b1, const FT &amp;b2, const FT &amp;c1, const FT &amp;c2, FT &amp;x, FT &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00378">Rocmop.h:378</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph.png" border="0" usemap="#classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph" alt=""/></div>
<map name="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph" id="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph">
<area shape="rect" id="node3" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167" title="solve" alt="" coords="107,5,160,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac72c650f375127c44503682dc72e8d24"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>a3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>b3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>c3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const FT &amp;&#160;</td>
          <td class="paramname"><em>d3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FT &amp;&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00443">443</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    FT denom = b2*c1*a3-b1*c2*a3+c3*b1*a2+b3*c2*a1-c1*b3*a2-b2*c3*a1;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <a class="code" href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a> = - (b2*c3*d1-b2*c1*d3+c1*b3*d2+b1*c2*d3-c3*b1*d2-b3*c2*d1)/denom;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a> = (b2*d1*a3-b2*a1*d3+b1*a2*d3-b1*d2*a3-d1*b3*a2+a1*b3*d2)/denom;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a> = (a2*c3*d1-a2*c1*d3-c2*d1*a3+c2*a1*d3+d2*c1*a3-d2*c3*a1)/denom;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  }</div>
<div class="ttc" id="read_8cpp_html_ab197e1fd52c62ecc8371ff8bc64fc875"><div class="ttname"><a href="read_8cpp.html#ab197e1fd52c62ecc8371ff8bc64fc875">y</a></div><div class="ttdeci">void int int REAL REAL * y</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="write_8cpp_html_ac1322c06b04abcf9ded210e154c9acd9"><div class="ttname"><a href="write_8cpp.html#ac1322c06b04abcf9ded210e154c9acd9">z</a></div><div class="ttdeci">void int int int REAL REAL REAL * z</div><div class="ttdef"><b>Definition:</b> <a href="write_8cpp_source.html#l00076">write.cpp:76</a></div></div>
<div class="ttc" id="read_8cpp_html_a855d5d0028073e23b7804f2848fbe67d"><div class="ttname"><a href="read_8cpp.html#a855d5d0028073e23b7804f2848fbe67d">x</a></div><div class="ttdeci">void int int REAL * x</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0dcdf02c0930e57aae7bb40af4072ebc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void solve </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt;&#160;</td>
          <td class="paramname"><em>A</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVector__3.html">Vector_3</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00459">459</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00378">solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                           {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">solve</a>( A[0][0], A[0][1], A[0][2], A[1][0], A[1][1], A[1][2], </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;           A[2][0], A[2][1], A[2][2], q[0], q[1], q[2], </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;           x[0], x[1], x[2]);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_ac8e5fea6a907d82647fe6689f599d167"><div class="ttname"><a href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167">Rocmop::solve</a></div><div class="ttdeci">static void solve(const FT &amp;a1, const FT &amp;a2, const FT &amp;b1, const FT &amp;b2, const FT &amp;c1, const FT &amp;c2, FT &amp;x, FT &amp;y)</div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00378">Rocmop.h:378</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph.png" border="0" usemap="#classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph" alt=""/></div>
<map name="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph" id="classRocmop_a0dcdf02c0930e57aae7bb40af4072ebc_cgraph">
<area shape="rect" id="node3" href="classRocmop.html#ac8e5fea6a907d82647fe6689f599d167" title="solve" alt="" coords="107,5,160,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab6e6c6506a9299b4bcb446a399ebf06d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unload </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unloads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> from Roccom. </p>

<p>Definition at line <a class="el" href="Rocmop_8C_source.html#l00120">120</a> of file <a class="el" href="Rocmop_8C_source.html">Rocmop.C</a>.</p>

<p>References <a class="el" href="roccom__c_09_09_8h_source.html#l00094">COM_delete_window()</a>, and <a class="el" href="roccom__c_09_09_8h_source.html#l00152">COM_get_object()</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8C_source.html#l00960">COM_F_FUNC2()</a>, and <a class="el" href="Rocmop_8C_source.html#l00953">Rocmop_unload_module()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                           {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="classRocmop.html">Rocmop</a> *mop;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  std::string glb=mname+<span class="stringliteral">&quot;.global&quot;</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="roccom__c_09_09_8h.html#a51cd80e32371211a6a01185579eff4ee">COM_get_object</a>( glb.c_str(), 0, &amp;mop);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keyword">delete</span> mop;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="roccom__c_09_09_8h.html#aee2bdea02bb47943444e452f62372e33">COM_delete_window</a>( mname.c_str());</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="roccom__c_09_09_8h_html_aee2bdea02bb47943444e452f62372e33"><div class="ttname"><a href="roccom__c_09_09_8h.html#aee2bdea02bb47943444e452f62372e33">COM_delete_window</a></div><div class="ttdeci">void COM_delete_window(const char *wname)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00094">roccom_c++.h:94</a></div></div>
<div class="ttc" id="classRocmop_html"><div class="ttname"><a href="classRocmop.html">Rocmop</a></div><div class="ttdoc">A Roccom mesh optimization module. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00041">Rocmop.h:41</a></div></div>
<div class="ttc" id="roccom__c_09_09_8h_html_a51cd80e32371211a6a01185579eff4ee"><div class="ttname"><a href="roccom__c_09_09_8h.html#a51cd80e32371211a6a01185579eff4ee">COM_get_object</a></div><div class="ttdeci">void COM_get_object(const char *wa_str, int pane_id, Type **addr)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__c_09_09_8h_source.html#l00152">roccom_c++.h:152</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_cgraph.png" border="0" usemap="#classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_cgraph" alt=""/></div>
<map name="classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_cgraph" id="classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_cgraph">
<area shape="rect" id="node3" href="roccom__c_09_09_8h.html#aee2bdea02bb47943444e452f62372e33" title="COM_delete_window" alt="" coords="115,5,261,35"/><area shape="rect" id="node7" href="roccom__c_09_09_8h.html#a51cd80e32371211a6a01185579eff4ee" title="COM_get_object" alt="" coords="128,59,248,88"/><area shape="rect" id="node5" href="Roccom__base_8h.html#acae08a4a05370b226bc5aef8c478a00b" title="COM_get_roccom" alt="" coords="309,32,437,61"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_icgraph.png" border="0" usemap="#classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_icgraph" alt=""/></div>
<map name="classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_icgraph" id="classRocmop_ab6e6c6506a9299b4bcb446a399ebf06d_icgraph">
<area shape="rect" id="node3" href="Rocmop_8C.html#ab159fb2f196fd2d679a26fa10495d256" title="COM_F_FUNC2" alt="" coords="137,5,257,35"/><area shape="rect" id="node5" href="Rocmop_8C.html#aff9b80ee686a6124c5c520327ddf43f3" title="Rocmop_unload_module" alt="" coords="115,59,280,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a77cd87946cfadb0932f9b7e3bc84b4b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unload </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unloads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> from Roccom. </p>

</div>
</div>
<a class="anchor" id="a77cd87946cfadb0932f9b7e3bc84b4b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void unload </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unloads <a class="el" href="classRocmop.html" title="A Roccom mesh optimization module. ">Rocmop</a> from Roccom. </p>

</div>
</div>
<a class="anchor" id="a4c7442976f3904b3769c02c83c2046b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void update_buf_real_nc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update real nodal coordinates of _buf_window from _usr_window. </p>
<p>Use real nodal coordinates of _usr_window to update real nodal coordinates of _buf_window </p>

<p>Definition at line <a class="el" href="Rocmop__2_8C_source.html#l00824">824</a> of file <a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a>.</p>

<p>References <a class="el" href="roccom__assertion_8h_source.html#l00064">COM_assertion_msg</a>, <a class="el" href="Attribute_8h_source.html#l00042">COM_NC</a>, <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, and <a class="el" href="read_8cpp_source.html#l00074">nj</a>.</p>
<div class="fragment"><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;{</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  std::vector&lt;const Pane*&gt; allbufpanes;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <a class="code" href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">_buf_window</a>-&gt;panes(allbufpanes);   </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  std::vector&lt;const Pane*&gt; allusrpanes;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>-&gt;panes(allusrpanes);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(allbufpanes.size() == allusrpanes.size(),</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                    <span class="stringliteral">&quot;Different number of panes on buffer and user windows.&quot;</span>);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> = 0, <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allbufpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a> &lt; <a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">// Obtain pane level attributes</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keyword">const</span> COM::Attribute *usr_nc = allusrpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keyword">const</span> COM::Attribute *buf_nc = allbufpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute( <a class="code" href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM::COM_NC</a>);</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(usr_nc-&gt;stride() != 0,</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                      <span class="stringliteral">&quot;Rocmop can not operate on meshes with stride == 0&quot;</span>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <a class="code" href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a>(usr_nc-&gt;size_of_real_items() == buf_nc-&gt;size_of_real_items(),</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                      <span class="stringliteral">&quot;Number of real items differs between buffer and user windows&quot;</span>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keywordtype">double</span>* usr_nc_ptr = (<span class="keywordtype">double</span>*)usr_nc-&gt;pointer();</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">double</span>* buf_nc_ptr = (<span class="keywordtype">double</span>*)buf_nc-&gt;pointer();</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="comment">// get stride and distance_to_next_component</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordtype">int</span> usr_nc_stride = usr_nc-&gt;stride();</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <span class="keywordtype">int</span> buf_nc_stride = buf_nc-&gt;stride();</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="keywordtype">int</span> usr_nc_next_comp;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">int</span> buf_nc_next_comp;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;          </div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    <span class="keywordflow">if</span> (usr_nc_stride == 1)</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      usr_nc_next_comp = usr_nc-&gt;size_of_items();</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      usr_nc_next_comp = 1;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;          </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="keywordflow">if</span> (buf_nc_stride == 1)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      buf_nc_next_comp = buf_nc-&gt;size_of_items();</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;      buf_nc_next_comp = 1;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        </div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">// update real node coordinates</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0, <a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a> = usr_nc-&gt;size_of_real_items(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      *buf_nc_ptr                       = *usr_nc_ptr;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      *(buf_nc_ptr+ 1*buf_nc_next_comp) = *(usr_nc_ptr + 1*usr_nc_next_comp);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      *(buf_nc_ptr+ 2*buf_nc_next_comp) = *(usr_nc_ptr + 2*usr_nc_next_comp);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      </div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      buf_nc_ptr += buf_nc_stride;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      usr_nc_ptr += usr_nc_stride;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="roccom__assertion_8h_html_acc3109241f7254e42fda94415aa3b56c"><div class="ttname"><a href="roccom__assertion_8h.html#acc3109241f7254e42fda94415aa3b56c">COM_assertion_msg</a></div><div class="ttdeci">#define COM_assertion_msg(EX, msg)</div><div class="ttdef"><b>Definition:</b> <a href="roccom__assertion_8h_source.html#l00064">roccom_assertion.h:64</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="Attribute_8h_html_ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca"><div class="ttname"><a href="Attribute_8h.html#ad4e97cf4ecddc0f0ecf929589b0de736a6b312068c6c7e77d4080c7137e4e45ca">COM_NC</a></div><div class="ttdef"><b>Definition:</b> <a href="Attribute_8h_source.html#l00042">Attribute.h:42</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classRocmop_html_abbcf376a2f76399b898978673597ccb2"><div class="ttname"><a href="classRocmop.html#abbcf376a2f76399b898978673597ccb2">Rocmop::_buf_window</a></div><div class="ttdeci">COM::Window * _buf_window</div><div class="ttdoc">The buffer window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop__1_8h_source.html#l00464">Rocmop_1.h:464</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3767bcdb4b06619283e47da0d17b1378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int validate_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that the object is valid. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00205">205</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00487">_cookie</a>, and <a class="el" href="Rocmop_8h_source.html#l00445">MOP_COOKIE</a>.</p>
<div class="fragment"><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                              {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">_cookie</a> != <a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> COM_Object::validate_object();</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a7cfdea9d17d1d178a64572a734d899c9"><div class="ttname"><a href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">Rocmop::_cookie</a></div><div class="ttdeci">int _cookie</div><div class="ttdoc">For Roccom. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00487">Rocmop.h:487</a></div></div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3767bcdb4b06619283e47da0d17b1378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int validate_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that the object is valid. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00206">206</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00487">_cookie</a>, and <a class="el" href="Rocmop_8h_source.html#l00445">MOP_COOKIE</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                              {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">_cookie</a> != <a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> COM_Object::validate_object();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a7cfdea9d17d1d178a64572a734d899c9"><div class="ttname"><a href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">Rocmop::_cookie</a></div><div class="ttdeci">int _cookie</div><div class="ttdoc">For Roccom. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00487">Rocmop.h:487</a></div></div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3767bcdb4b06619283e47da0d17b1378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int validate_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that the object is valid. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00227">227</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>

<p>References <a class="el" href="Rocmop_8h_source.html#l00487">_cookie</a>, and <a class="el" href="Rocmop_8h_source.html#l00445">MOP_COOKIE</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                              {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">if</span> ( <a class="code" href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">_cookie</a> != <a class="code" href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">MOP_COOKIE</a>) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">return</span> COM_Object::validate_object();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="ttc" id="classRocmop_html_a7cfdea9d17d1d178a64572a734d899c9"><div class="ttname"><a href="classRocmop.html#a7cfdea9d17d1d178a64572a734d899c9">Rocmop::_cookie</a></div><div class="ttdeci">int _cookie</div><div class="ttdoc">For Roccom. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00487">Rocmop.h:487</a></div></div>
<div class="ttc" id="classRocmop_html_afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5"><div class="ttname"><a href="classRocmop.html#afa9be5679ab03d785820f2474c5ccc6eaceda1c4aee6b5ca2bdfbd5d3695b48d5">Rocmop::MOP_COOKIE</a></div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00445">Rocmop.h:445</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aff10613c7e56053c1e8748f901ad720e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void zero_displacements </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8C_source.html#l00426">426</a> of file <a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a>.</p>

<p>References <a class="el" href="read_8cpp_source.html#l00079">i</a>, <a class="el" href="Indexing_8h_source.html#l00006">j</a>, <a class="el" href="read_8cpp_source.html#l00077">ni</a>, and <a class="el" href="read_8cpp_source.html#l00074">nj</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  Profile_begin(<span class="stringliteral">&quot;Rocmop::zero_disp&quot;</span>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordtype">int</span> disp_id = w_disp-&gt;id();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  std::vector&lt;Pane*&gt; allpanes;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keyword">const_cast&lt;</span>COM::Window*<span class="keyword">&gt;</span>(<a class="code" href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">_usr_window</a>)-&gt;panes(allpanes);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>=0,<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a> = allpanes.size(); <a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>&lt;<a class="code" href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a>; ++<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>){</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a> *ptr = NULL;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    COM::Attribute* ptr_att = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;attribute(disp_id);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordtype">void</span>* void_ptr = ptr_att-&gt;pointer();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    ptr = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classVector__3.html">Vector_3&lt;double&gt;</a>*<span class="keyword">&gt;</span>(void_ptr);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>=0,<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a> = allpanes[<a class="code" href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a>]-&gt;size_of_real_nodes(); <a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>&lt;<a class="code" href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a>; ++<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>){     </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <span class="comment">// Zero to maintain original physics module behavior</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][0] = 0.0;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][1] = 0.0;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      ptr[<a class="code" href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a>][2] = 0.0;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  }</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">#ifdef ROCPROF</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  Profile_end(<span class="stringliteral">&quot;Rocmop::zero_disp&quot;</span>);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;}</div>
<div class="ttc" id="classRocmop_html_a572549db131723f1e5176e2cdd2a9200"><div class="ttname"><a href="classRocmop.html#a572549db131723f1e5176e2cdd2a9200">Rocmop::_usr_window</a></div><div class="ttdeci">const COM::Window * _usr_window</div><div class="ttdoc">The user&#39;s window. </div><div class="ttdef"><b>Definition:</b> <a href="Rocmop_8h_source.html#l00438">Rocmop.h:438</a></div></div>
<div class="ttc" id="read_8cpp_html_af3394b59e62576c2c4e37b60f0012c9b"><div class="ttname"><a href="read_8cpp.html#af3394b59e62576c2c4e37b60f0012c9b">i</a></div><div class="ttdeci">blockLoc i</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00079">read.cpp:79</a></div></div>
<div class="ttc" id="Indexing_8h_html_a09afaf7ba9cb315df406199a16c7a143"><div class="ttname"><a href="Indexing_8h.html#a09afaf7ba9cb315df406199a16c7a143">j</a></div><div class="ttdeci">j indices j</div><div class="ttdef"><b>Definition:</b> <a href="Indexing_8h_source.html#l00006">Indexing.h:6</a></div></div>
<div class="ttc" id="read_8cpp_html_acb5461ba1d1a859535c646db56b20a29"><div class="ttname"><a href="read_8cpp.html#acb5461ba1d1a859535c646db56b20a29">ni</a></div><div class="ttdeci">void int int REAL REAL REAL *z blockDim dim * ni</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00077">read.cpp:77</a></div></div>
<div class="ttc" id="read_8cpp_html_aaed7c3f27c5da0b94f86f02fb874adbc"><div class="ttname"><a href="read_8cpp.html#aaed7c3f27c5da0b94f86f02fb874adbc">nj</a></div><div class="ttdeci">void int * nj</div><div class="ttdef"><b>Definition:</b> <a href="read_8cpp_source.html#l00074">read.cpp:74</a></div></div>
<div class="ttc" id="classVector__3_html"><div class="ttname"><a href="classVector__3.html">Vector_3&lt; double &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aff10613c7e56053c1e8748f901ad720e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void zero_displacements </td>
          <td>(</td>
          <td class="paramtype">COM::Attribute *&#160;</td>
          <td class="paramname"><em>disp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abbcf376a2f76399b898978673597ccb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COM::Window * _buf_window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The buffer window. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00464">464</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

</div>
</div>
<a class="anchor" id="a441e6454097c3b02e1cc9553160d4b90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COM::Attribute * _cnstr_dirs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores directions of nodal contraints. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00425">425</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00286">compute_medial_quadric()</a>.</p>

</div>
</div>
<a class="anchor" id="a02ae344acfa80639459b14a4435b9ded"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const COM::Attribute * _cnstr_types</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores types of nodal constraints. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00424">424</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00286">compute_medial_quadric()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cfdea9d17d1d178a64572a734d899c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _cookie</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For Roccom. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00487">487</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8h_source.html#l00206">validate_object()</a>.</p>

</div>
</div>
<a class="anchor" id="a5dcb6239b84f76205a02035a45e990db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float _ctol</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subcycling tolerance. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00471">471</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a356bd34e4b257a8aba764708984ef3c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; MAP::Pane_dual_connectivity * &gt; _dcs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00466">466</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

</div>
</div>
<a class="anchor" id="a636256f97cbf038ca33ff7c0a64754f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double _dir_thres</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Another threshold. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00421">421</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l01081">eigen_analyze_vertex()</a>.</p>

</div>
</div>
<a class="anchor" id="a4cd212ed9ad7f1dbf30678f91437f680"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float _disp_thresh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>originally a static in check_displacements </p>
<p>Smooth every _smoothfreq'th call. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00520">520</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4e1d92d364da276f6b7f647c100f01e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::set&lt; <a class="el" href="Manifold__2_8h.html#afcea40412870eda456b22d8d6bdbd094">Edge_ID</a> &gt; &gt; _edges</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ridge edges </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00426">426</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00969">identify_ridge_edges()</a>, and <a class="el" href="smooth__medial_8C_source.html#l00547">redistribute_vertices_ridge()</a>.</p>

</div>
</div>
<a class="anchor" id="a921d90d99e5f31f862c60cc38be37e90"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double _eig_thres</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Eigenvalue thresholds. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00420">420</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l01081">eigen_analyze_vertex()</a>.</p>

</div>
</div>
<a class="anchor" id="ad5c73458e9e564ce8f6b82ac18efaaab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _invert</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true (default false), then invert the mesh. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00489">489</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac435b24b552e58d77077b7fa7bcf6190"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _invert_hexes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true (default false), then invert hexes. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00543">543</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac71e7a695e2e7b8538ac59569b76a574"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _invert_tets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true (default false), then invert tets. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00541">541</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a13d6fc485cb1c3b7b338e5514dd4b1c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_pane_bnd_elem</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does the element contain nodes on the pane boundary? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00436">436</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="aed9d66a20551e336e052787d6f094b23"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_pane_bnd_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the node on the pane boundary? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00435">435</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4933c0720354ade07b59271ee6bd008d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_phys_bnd_elem</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does the element contain nodes on the phys. boundary? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00434">434</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a60294ba7ca944fcdefa9020780a8d11b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_phys_bnd_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the node on the physical boundary? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00433">433</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8b94b90d311b68f3cc157edb92c34c2d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool _is_pmesh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>pmesh or mesh ? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00441">441</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab4fce00eeb4e715e4b24cec46c30f6de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_shared_elem</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does the element contain shared nodes? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00432">432</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a59ac9f726463b01a03b5beb47e018110"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; bool &gt; &gt; _is_shared_node</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the node shared? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00431">431</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a621c549156ae2558041421fce526c928"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _lazy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check quality before smoothing? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00462">462</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1c0338024da3f5698c89c96991759343"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float _maxdisp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum displacement allowed. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00512">512</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9e2f9cbfe3a6d8ca5380f6996136d436"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _method</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Choice of smoothing method. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00447">447</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6e5843a355181eff1cf2d8ca5b1dca2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _monotone</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Impose non-decreasing quality? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00481">481</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="aac4ba847a0da2e6304c77894c3bd277a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _ncycle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="structMax.html">Max</a> number of subcycles for convergence. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00479">479</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a96ba011a343077f4e01e89ab7f15c791"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _niter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum number of iterations for smoothing. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00469">469</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a48f680156b4067b75b0981859d00e2c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _rediter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>No.iterations for vertex redistribution. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00423">423</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>

</div>
</div>
<a class="anchor" id="af7b1e5ce31f5e001ab4c4253681b5093"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool _reorthog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reorthogonalize? </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00418">418</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l01081">eigen_analyze_vertex()</a>.</p>

</div>
</div>
<a class="anchor" id="a85aadec6c44aa08f45cbc6bbe221a299"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double _saliency_crn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00422">422</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l01081">eigen_analyze_vertex()</a>.</p>

</div>
</div>
<a class="anchor" id="a31a640fdb5eaa778ab738ebcae03624b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _smoothfreq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00514">514</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6c15a69962e6e553d4b38236474fabfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float _tol</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smoother iterating tolerance. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00464">464</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

</div>
</div>
<a class="anchor" id="a572549db131723f1e5176e2cdd2a9200"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const COM::Window * _usr_window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The user's window. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00438">438</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="Rocmop_8h_source.html#l00240">agree_double()</a>, <a class="el" href="Rocmop_8h_source.html#l00226">agree_int()</a>, and <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>

</div>
</div>
<a class="anchor" id="acb97bace1cdea437d58881da5314ec0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _verb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verbose level. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00453">453</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00286">compute_medial_quadric()</a>, <a class="el" href="smooth__medial_8C_source.html#l00903">evaluate_face_normals()</a>, and <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bbdc2102dd12d88d22101f52ba8d214"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char _wght_scheme</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Weighting scheme. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00419">419</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00286">compute_medial_quadric()</a>.</p>

</div>
</div>
<a class="anchor" id="a13781481a1791cf8f47e669be5cbd4c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int _wrapper</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Choice of <a class="el" href="namespaceMesquite.html" title="Used to hold the error state and return it to the application. ">Mesquite</a> Smoothing Wrappers. </p>

<p>Definition at line <a class="el" href="Rocmop__2_8h_source.html#l00507">507</a> of file <a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8bfb863d0d6c0ca0aac56d669dde275f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">COM::Window* _wrk_window</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The working window. </p>

<p>Definition at line <a class="el" href="Rocmop_8h_source.html#l00439">439</a> of file <a class="el" href="Rocmop_8h_source.html">Rocmop.h</a>.</p>

<p>Referenced by <a class="el" href="smooth__medial_8C_source.html#l00286">compute_medial_quadric()</a>, <a class="el" href="smooth__medial_8C_source.html#l00903">evaluate_face_normals()</a>, <a class="el" href="smooth__medial_8C_source.html#l00825">get_redist_safe_factor()</a>, <a class="el" href="smooth__medial_8C_source.html#l00969">identify_ridge_edges()</a>, <a class="el" href="smooth__medial_8C_source.html#l00547">redistribute_vertices_ridge()</a>, <a class="el" href="smooth__medial_8C_source.html#l00682">redistribute_vertices_smooth()</a>, and <a class="el" href="smooth__medial_8C_source.html#l00230">smooth_surf_medial()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e83fe394d0394e50fec105cf1e465a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double disp_tally</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>originally a static in <a class="el" href="classRocmop.html#a4f438b3fbdef34029dda3ef9564f2272" title="Smooth the mesh in a Rocmop managed buffer. ">smooth()</a> </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00518">518</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7722c8ecbb62d99aee7ce68b1752f337"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int N</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Smooth every _smoothfreq'th call. </p>

<p>Definition at line <a class="el" href="Rocmop__1_8h_source.html#l00516">516</a> of file <a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Rocmop_8h_source.html">Rocmop.h</a></li>
<li><a class="el" href="Rocmop__1_8h_source.html">Rocmop_1.h</a></li>
<li><a class="el" href="Rocmop__2_8h_source.html">Rocmop_2.h</a></li>
<li><a class="el" href="Rocmop_8C_source.html">Rocmop.C</a></li>
<li><a class="el" href="smooth__medial_8C_source.html">smooth_medial.C</a></li>
<li><a class="el" href="smooth__mesquite_8C_source.html">smooth_mesquite.C</a></li>
<li><a class="el" href="smooth__mesquite__ng_8C_source.html">smooth_mesquite_ng.C</a></li>
<li><a class="el" href="Rocmop__1_8C_source.html">Rocmop_1.C</a></li>
<li><a class="el" href="Rocmop__2_8C_source.html">Rocmop_2.C</a></li>
<li><a class="el" href="smooth__medial__1_8C_source.html">smooth_medial_1.C</a></li>
<li><a class="el" href="smooth__medial__2_8C_source.html">smooth_medial_2.C</a></li>
<li><a class="el" href="smooth__mesquite__1_8C_source.html">smooth_mesquite_1.C</a></li>
<li><a class="el" href="smooth__mesquite__2_8C_source.html">smooth_mesquite_2.C</a></li>
<li><a class="el" href="smooth__mesquite__ng__1_8C_source.html">smooth_mesquite_ng_1.C</a></li>
<li><a class="el" href="smooth__mesquite__ng__2_8C_source.html">smooth_mesquite_ng_2.C</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classRocmop.html">Rocmop</a></li>
    <li class="footer">Generated on Wed Mar 2 2016 02:31:16 for Rocstar by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
