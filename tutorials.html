<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Rocstar: Tutorials</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="IRTriangles_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Rocstar
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Rocstar multiphysics simulation application</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tutorials.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Tutorials </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Example"></a>
Locating Examples</h1>
<p>The <a class="el" href="namespaceRocstar.html">Rocstar</a> source code comes with a set of examples and test problems in the main source directory under Examples.</p>
<h1><a class="anchor" id="use_cases"></a>
Use Cases for Rocstar</h1>
<h2><a class="anchor" id="control_rocflu"></a>
Attitude Control Motor with Rocflu and Rocflo</h2>
<p>This section is adapted from the <a href="Section_15_UseCase_2_ACMRocflu.pdf" target="_blank"><b>ACM Rocflu</b></a> and <a href="Section_13_UseCase_1_ACMRocflo.pdf" target="_blank"><b> ACM Rocflo</b></a> presentation.</p>
<p>For information on setting up and running the Attitude Control Motor example problem please see the <a href="RocstarQuickStart.pdf" target="_blank"><b>Rocstar Quickstart Guide</b></a>. Running the problem as described in the Quickstart Guide can take a while to complete. To shorten the problem to run in a more timely fashion, make the following changes after following the directions in the Guide.</p>
<dl class="section user"><dt>Problem Description</dt><dd></dd></dl>
<p>The goal of this example is to assemble and run a moving-boundary, fluid-combustion coupled problem using Rocflo and Rocflu. The problem consists of a small (2 inch) attitude control motor, which is represented using a block-structured hexahedral mesh. A key aspect of this simulation is the regressing buring surface.</p>
<p>The motor is two inches long and it features fluid-combustion coupling. The fluid model has unstructured tetrahedral grid. The goal of this example is to assemble and run moving-boundary fluid-combustion coupled run with Rocflo.</p>
<div class="image">
<img src="ACMflo.png" alt="ACMflo.png"/>
<div class="caption">
Attitude Control Motor (ACM)</div></div>
<dl class="section user"><dt>Preparing Rocflu Input</dt><dd></dd></dl>
<p>First, using CAD software such as Pro/Engineer you export IGES format. Then you should be able to make simple geometries in Gridgen. Particularily for Rocflu, it is set unstructured mixed meshes. Meshes can be tets, hexes, prisms, and pyramids.</p>
<p>Now you need to set up NDA with grids and input files. Choose a "casename"; in this case it should be set ACM. Grid and boundary condition map files. Basic input, boundary conditions, controls files.</p>
<p>After all this gets done, we can preprocess and partition using Rocprep on NDA.</p>
<dl class="section user"><dt>Rocflu Boundary Conditions</dt><dd></dd></dl>
<p>For Rocflu Boundary Conditions, following requirement should be met:</p><ul>
<li>Make sure Analysis Software is set to COBALT<ul>
<li>Can't fix after setting BCs.</li>
</ul>
</li>
<li>Make sure all external surfaces have a BC</li>
<li>BC labels not that important for COBALT - will map to patches through the &lt;casename&gt;.cgi file</li>
<li>Using all custom BC's is advisable for book keeping purpose</li>
<li>Seperate BC for each physical bc/motion constraint pair.</li>
</ul>
<dl class="section user"><dt>Export Rocflu Grid</dt><dd></dd></dl>
<p>You can export COBALT mesh and BC files for Rocflu Grid. They folloing this format.</p><ul>
<li>Export files :<ul>
<li>COBALT mesh : &lt;casename&gt;-COBALT.inp - example: ACM-COBALT.inp</li>
<li>BC file &lt;casename&gt;-COBALT.bc - example: ACM-COBALT.bc</li>
</ul>
</li>
<li>If working on Windows, run dos2unix on them once on Linux<ul>
<li>Fortran doesn't like cross-platform line endings.</li>
</ul>
</li>
</ul>
<div class="image">
<img src="exportrocflugrid.png" alt="exportrocflugrid.png"/>
</div>
<dl class="section user"><dt>Run Rocprep on NDA</dt><dd></dd></dl>
<p>This example can be run in the same manner as the other examples discussed elsewhere. Follow the procedure from the <a class="el" href="namespaceRocstar.html">Rocstar</a> Quickstart Guide but using the following commands specific to this example. Rocprep is <a class="el" href="namespaceRocstar.html">Rocstar</a>'s dataset preparation tool. It takes an initial dataset and pre-processes it accordingly for a given problem. Datasets that have not yet been preprocessed are referred to as Native Data Archives. Use the following command for rocprep:</p><div class="fragment"><div class="line">rocprep -<a class="code" href="vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a> -u 1 1 -b -d /IR/NDAs/ACM16 -n 16 [-p ~/build/bin/]</div>
</div><!-- fragment --><p> All directories and paths mentioned below are within the data directory generated by running the rocprep command.</p>
<ul>
<li>In RocstarControl.txt change the following variables:<ul>
<li>MaximumTime = 3.0e-5</li>
<li>OutputIntervalTime = 6.0e-7</li>
</ul>
</li>
<li>In Rocflu/Modin/ACM.inp in the PROBE section change the following variable :<ul>
<li>WRITIME 0.0000006</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>ACM.bc file</dt><dd></dd></dl>
<p>ACM.bc file resides at <b>NDAs/Rocflu/Modin</b> and "patch" defines Rocflu boundary condition. Patches correspond to Gridgen BC definitions on specific sections of the model. Following image is the example screen shot of ACM.bc file :</p>
<div class="image">
<img src="acmbc.png" alt="acmbc.png"/>
</div>
<dl class="section user"><dt>ACM.cgi</dt><dd></dd></dl>
<p>ACM.cgi file also resides at <b>NDAs/Rocflu/Modin</b> and it maps Gridgen BC numbers to Rocflu .bc boundary condition definitions. It is functionally same as Rocflo &lt;casename&gt;.bcmp file. Following image is the example screen shot of ACM.cgi file :</p>
<div class="image">
<img src="acmcgi.png" alt="acmcgi.png"/>
</div>
<dl class="section user"><dt>Examine RocfluControl.txt</dt><dd></dd></dl>
<p>Make sure that you have <b>casename</b> correct in RocfluControl.txt. It is used for Rocprep and Rocflu to know what other files are called. Make sure it is used consistently throughout the files. Normally the other lines will alwayes be the same. Following figure is to help you get the sense of what it should look like :</p>
<div class="image">
<img src="examinerocflucon.png" alt="examinerocflucon.png"/>
</div>
<dl class="section user"><dt>Physics Module Files (Rocflu)</dt><dd></dd></dl>
<p>ACM.inp, denoted as labscale.inp in this case, also resides at <b>NDAs/Rocflu/Modin</b>. It controls various parameters of the physcis module. Following images are the example state of ACM.inp.</p>
<div class="image">
<img src="phymodfile1.png" alt="phymodfile1.png"/>
</div>
 <div class="image">
<img src="phymodfile2.png" alt="phymodfile2.png"/>
</div>
<dl class="section user"><dt>Examine Rocstar Control Files for ACM</dt><dd></dd></dl>
<p>RocstarControl.txt resides at the top directory of the NDA. There should be a directory called Rocman, and in there you can also find RocmanControl.txt. Following images show the important parameters to be set in order to run the example. </p><div class="image">
<img src="examroccon.png" alt="examroccon.png"/>
</div>
<dl class="section user"><dt>RocburnAPN for ACM</dt><dd></dd></dl>
<p>Burn rate is one of the only places in <a class="el" href="namespaceRocstar.html">Rocstar</a> that is not strictly SI units (meters)</p>
<div class="image">
<img src="Rocburnapn.png" alt="Rocburnapn.png"/>
</div>
<dl class="section user"><dt>Run ACM problem</dt><dd></dd></dl>
<p>In order to run the problem, you will need to set up a batch-system specific job script for your system. Depends on your choice of the batch-system, the script can look different. Here we provide two examplary script for PBS and SBATCH.</p>
<div class="image">
<img src="runacm1.png" alt="runacm1.png"/>
</div>
 <div class="image">
<img src="runacm2.png" alt="runacm2.png"/>
</div>
<dl class="section user"><dt>Monitor Probe File(s)</dt><dd></dd></dl>
<p>Depending upon your setup, you can "watch" the probe files to monitor progress</p><div class="fragment"><div class="line">cd Rocflu/Modout; tail -f ACM.prb_0001 </div>
</div><!-- fragment --><p> The location of this probe is defined in ACM.inp</p>
<dl class="section user"><dt>Head End Pressure Proble</dt><dd></dd></dl>
<div class="image">
<img src="headendpressure.png" alt="headendpressure.png"/>
<div class="caption">
Head End Pressure Probe</div></div>
<dl class="section user"><dt>Visualize HDF Output</dt><dd></dd></dl>
<p>The output can be visualized by using Rocketeer. It can also translate to tecplot format. I need to learn to read the output file naming. Once a checkpoint has occurred, there will be one HDF file per processor per checkpoint.</p><ul>
<li>Example :<ul>
<li>fluid_06.100000_0000.hdf: processor 0, 0.10ms time</li>
<li>06.100000 means 0.10E06 nanoseconds, or 0.10 ms, or 0.0001 seconds</li>
</ul>
</li>
<li>fluid_xx.xxxxx_xxx.hdf are 3-D volume grid files</li>
<li>ifuid_Y_xx.xxxxx_xxxx.hdf are surface grid files<ul>
<li>Y : ni=non-interacting, b=burning</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>Pre-run Visualization Files</dt><dd></dd></dl>
<p>For Rocflu ACM, pre-run visualization file are available for 0ms, 5ms, 10ms, 14ms. You can load these into Rocketeer from VizData directory</p>
<dl class="section user"><dt>Preparing Rocflo Input </dt><dd></dd></dl>
<p>Similar to Rocflu, you export IGES format using CAD software such as Pro/Engineer/ Then you should be able to make some simple geometries in Gridgen. Particularity for Rocflo, it is set block-structured Hex meshes.</p>
<p>Now you should set up NDA with grids and input files. Choose a "casename"; in this case, it should be set ACM. Grid and boundary condition map files. Basic input, boundary conditions, control files.</p>
<p>After all this gets done, we can process and partition using Rocprep on NDA.</p>
<div class="image">
<img src="cutawayof.png" alt="cutawayof.png"/>
<div class="caption">
Cutaway of Block Model</div></div>
<dl class="section user"><dt>Database</dt><dd></dd></dl>
<p>Database is made with Pro-Engineer, exported as iges. It gets imported into Gridgen. It is almost always the case that significant clean-up is necessary; Spurious surfaces, lines that don't connect. DB below has many extraneous elements.</p>
<div class="image">
<img src="database.png" alt="database.png"/>
</div>
<dl class="section user"><dt>Assemble Block System</dt><dd></dd></dl>
<p>Once DB is clean, you can assemble, connectors, domains, and blocks. Some blocking restrictions:</p><ul>
<li>Core block with four quarters</li>
<li>Can't combine quarter "wrap" blocks</li>
</ul>
<div class="image">
<img src="assembleblocksys.png" alt="assembleblocksys.png"/>
</div>
<dl class="section user"><dt>Rocflo Boundary Conditions</dt><dd></dd></dl>
<p>Similar to Rocflu, following requirement should be met for Rocflo boundary conditions:</p><ul>
<li>Make sure Analysis Software is set to generic (plot3D)<ul>
<li>Can't fix after setting BCs!</li>
</ul>
</li>
<li>Make sure all external surfaces have a BC</li>
<li>Make sure no internal inter-block surfaces do (all Type - 1)</li>
<li>Make note of BC numbers, as they will be needed for the .bcmp file<ul>
<li>Custom BC numbers are accurate</li>
<li>Pre-set BC numbers are off by one (low)</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>Export Rocflo Grid</dt><dd></dd></dl>
<ul>
<li>Export files:<ul>
<li>Block volumes: &lt;casename&gt;-PLOT3D.grd - example: ACM-PLOT3D.grd</li>
<li>BC file &lt;casename&gt;-PLOT3D.inp - example: ACM-PLOT3D.inp</li>
</ul>
</li>
<li>If working on Windows, run dos2unix on them once on Linux<ul>
<li>Fortran does not like cross-platform line endings <div class="image">
<img src="exportrocflogrid.png" alt="exportrocflogrid.png"/>
</div>
</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>Boundary Condition Map</dt><dd></dd></dl>
<ul>
<li>Must map Gridgen BC numbers to Rocflo BC numbers<ul>
<li>Form text file &lt;casename&gt;-PLOT3D.bcmp <div class="image">
<img src="boundarycondmap.png" alt="boundarycondmap.png"/>
</div>
</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>Rocflo Boundary Condition Numbers</dt><dd></dd></dl>
<ul>
<li>10 - inflow</li>
<li>20 - outflow</li>
<li>30 - block boundary (continous grid)</li>
<li>60 - slip wall, grid freely moved on fixed surface by Rocflo</li>
<li>61 - slip wall, grid freely moved on fixed surface by <a class="el" href="classRocprop.html">Rocprop</a></li>
<li>62 - slip wall, grid and surface fixed</li>
<li>63 - slip wall, surface may slide or stretch in x-direction by <a class="el" href="classRocprop.html">Rocprop</a></li>
<li>64 - slip wall, surface may slide or stretch in y-direction by <a class="el" href="classRocprop.html">Rocprop</a></li>
<li>65 - slip wall, surface may slide or stretch in z-direction by <a class="el" href="classRocprop.html">Rocprop</a></li>
<li>66 - slip wall, surface may slide in plane by <a class="el" href="classRocprop.html">Rocprop</a></li>
<li>70 - noslip wall</li>
<li>80 - far field</li>
<li>90 - injection</li>
<li>100 - symmetry</li>
<li>110 - translational periodicity</li>
<li>120 - rotational periodicty</li>
</ul>
<dl class="section user"><dt>Run Rocprep on NDA</dt><dd></dd></dl>
<p>Running the ACM example problem with Rocflo is almost identical to the method for running with Rocflu. Following the diretions for running the Rocflu problem in the <a href="RocstarQuickStart.pdf" target="_blank"><b>Rocstar Quickstart Guide</b></a>, the only adjustments that need to be made for running with Rocflo are listed below.</p>
<ul>
<li>When running rocprep use 34 partitions instead of 4<ul>
<li>Use -n 34 flag instead of -n 4</li>
</ul>
</li>
<li>Do not make the changes to data files listed in the Quickstart Guide after running rocprep</li>
</ul>
<p>Finally, as in the Rocflu case, the example can be shortened to obtain results in a more timely fashion. Make the following changes to reduce the run time.</p>
<ul>
<li>In RocstarControl.txt change the following variables:<ul>
<li>MaximumTime = 3.0e-5</li>
<li>OutputIntervalTime = 6.0e-7</li>
</ul>
</li>
<li>In Rocflo/Modin/ACM.inp in the PROBE section change the following variable :<ul>
<li>WRITIME 0.0000006</li>
</ul>
</li>
</ul>
<p>The simulation time can be further shortened if desired. The results for running the simulation with the above changes are shown below for comparison. This graph is generated by plotting column one versus column six from the probe file Rocflo/Modout/ACM.prb_0001.</p>
<div class="image">
<img src="ACM_Rocflo_HeadEndPressure_Arial.png" alt="ACM_Rocflo_HeadEndPressure_Arial.png"/>
</div>
<h2><a class="anchor" id="seismic_shock"></a>
Super Seismic Shock</h2>
<dl class="section user"><dt>Problem Description</dt><dd></dd></dl>
<p>The goal of this example is to assemble and run a fully coupled fluid-solid interaction prblem with significant solid deformation. This problem deals with shock wave propagation causing solid deformation. Rocflo and Rocfrac are used to solve this problem, both using a block-structured, hexahedral grid.</p>
<div class="image">
<img src="superseis.png" alt="superseis.png"/>
<div class="caption">
Super Seismic Shock Model Showing Pressure </div></div>
<dl class="section user"><dt>File Checklist</dt><dd></dd></dl>
<p>Make sure following file structure is maintained throughout the process:</p><ul>
<li><a class="el" href="namespaceRocstar.html">Rocstar</a><ul>
<li>RocstarControl.txt</li>
</ul>
</li>
<li>Rocman<ul>
<li>RocmanControl.txt</li>
</ul>
</li>
<li>Rocfrac<ul>
<li>RocfracControl.txt</li>
<li>sss.out</li>
</ul>
</li>
<li>Rocflo<ul>
<li>RocfloControl.txt</li>
<li>sss-PLOT3D.bcmp</li>
<li>sss-PLOT3D.grd</li>
<li>sss-PLOT3D.inp</li>
<li>sss.bc</li>
<li>sss.inp</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>Super Seismic Shock</dt><dd></dd></dl>
<p>Shock in a compressible fluid travels at a speed that exceeds the dilational wave speed in a solid</p><ul>
<li>Dilational wave speed: <img class="formulaInl" alt="$c_{p} = \sqrt{(\gamma + 2\mu)/\rho}$" src="form_0.png"/></li>
<li>Distortional wave speed: <img class="formulaInl" alt="$c_{s} = \sqrt{\mu/\rho}$" src="form_1.png"/></li>
<li>Fluid sound speed: <img class="formulaInl" alt="$c = \sqrt{\gamma P / \rho}$" src="form_2.png"/></li>
</ul>
<p>Solid material properties similar to copper</p><ul>
<li><img class="formulaInl" alt="$E = 110 \times 10^9 Pa, \rho = 8970 kg/m^3, v = 0.33 $" src="form_3.png"/> Fluid material properties modified to get a sound speed similar to <img class="formulaInl" alt="$c_{p}$" src="form_4.png"/></li>
<li><img class="formulaInl" alt="$ \rho = 1000kg/m^3 $" src="form_5.png"/></li>
<li>Static pressure = <img class="formulaInl" alt="$ 2.584 \times 10^9 Pa $" src="form_6.png"/> Causes deformation of the solid due to high pressures behind the shock</li>
<li>Angle between the fluid shock and solid interface</li>
<li>Directly relevant to high explosive cylinder tests Analytical similarity solution exists</li>
</ul>
<div class="image">
<img src="SuperSeisShock.png" alt="SuperSeisShock.png"/>
<div class="caption">
width=10cm</div></div>
<dl class="section user"><dt>Run Rocprep on NDA </dt><dd></dd></dl>
<p>This example can be run in the same manner as the ACM example discussed above. Follow the procedure from the <a href="RocstarQuickStart.pdf" target="_blank"><b>Rocstar Quickstart Guide</b></a> but using the following commands specific to this example.</p>
<ul>
<li>Use the following command for rocprep: <div class="fragment"><div class="line">rocprep -<a class="code" href="vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a> -o 1 4 -f 4 5 -d ${ROCSTAR_EXAMPLES}/SuperSeismicShock -t ./SSS_4 -n 4 </div>
</div><!-- fragment --></li>
</ul>
<p>This command should generate a directory called SSS_4, which should be ready for running the example. In order to shorten the run time of the example change the following variables.</p>
<ul>
<li>In RocstarControl.txt change the following variables:<ul>
<li>MaximumTime = 5.0e-6</li>
<li>OutputIntervalTime = 5.0e-7</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>sss.bc</dt><dd></dd></dl>
<p>sss.bc is a file that controls the inflow boundary condition. It should be set like following sample image:</p>
<div class="image">
<img src="sss.png" alt="sss.png"/>
</div>
<dl class="section user"><dt>Run Super Seismic Shock Problem</dt><dd></dd></dl>
<p>Similar to previous examples, you need to set up a batch-system specific job script for your system. Below is the example batch script for SSS :</p>
<div class="image">
<img src="sssbatch.png" alt="sssbatch.png"/>
</div>
<dl class="section user"><dt>Output</dt><dd></dd></dl>
<p>You can visualize the output data with Rocketeer.</p><ul>
<li>3-D fluid volume, fluid_*.hdf</li>
<li>3-D solid volume, solid_*.hdf</li>
<li>plot pressure in the fluid and stress in the solid</li>
<li>Use solid displacement vector to deform the solid mesh</li>
<li>For more information about Rocketeer, see Visualization section</li>
</ul>
<p>The results for running the simulation with the above changes are shown below for comparison. This graph is generated by plotting column one versus column six from the probe file Rocflo/Modout/sss.prb_0001.</p>
<div class="image">
<img src="SSS_Probe_Pressure_Arial.png" alt="SSS_Probe_Pressure_Arial.png"/>
</div>
<h2><a class="anchor" id="elastic_piston"></a>
Elastic Piston</h2>
<dl class="section user"><dt>Problem Description</dt><dd></dd></dl>
<p>The goal of this example is to assemble and run a fully coupled fluid - solid interaction problem. It consists of an impulsive acceleration of a fluid - solid interface. This example uses the <a class="el" href="namespaceRocstar.html">Rocstar</a> packages Rocflo and Rocfrac are used to solve this problem, both using a block-structured, hexahedral grid.</p>
<p>There exists an impulsive acceleration of fluid-solid interface. Rocflo is a block-structured hexahedral grid, 1m cube, pressurized to 1.5*10^5 Pa. Rocfrac is a unstructured 10 node tetrahedral grid, that is 1m cube, initially stress free.</p>
<div class="image">
<img src="ElasProbDes.png" alt="ElasProbDes.png"/>
<div class="caption">
Elastic Piston Model with Pressure</div></div>
 <dl class="section user"><dt>File Checklist</dt><dd></dd></dl>
<p>Make sure following file structure is maintained throughout the process:</p><ul>
<li><a class="el" href="namespaceRocstar.html">Rocstar</a><ul>
<li>RocstarControl.txt</li>
</ul>
</li>
<li>Rocman<ul>
<li>RocmanControl.txt</li>
</ul>
</li>
<li>Rocfrac<ul>
<li>RocfracControl.txt</li>
<li>ep.out</li>
</ul>
</li>
<li>Rocflo<ul>
<li>RocfloControl.txt</li>
<li>ep-PLOT3D.inp</li>
<li>ep-PLOT3D.bcmp</li>
<li>ep.bc</li>
<li>ep.inp</li>
</ul>
</li>
</ul>
<dl class="section user"><dt>Create Rocfrac Mesh in Patran</dt><dd></dd></dl>
<p>Just like previous examples, DB should be imported into Patron and to create volume mesh. It has both linear and qudratic tetrahedrons and hexahedrons. There is no mixing. Rocfrac mesh should look following :</p>
<div class="image">
<img src="CreateRocfracMeshinPat.png" alt="CreateRocfracMeshinPat.png"/>
<div class="caption">
Rocfrac Mesh in Patran</div></div>
<dl class="section user"><dt>Rocfrac Boundary Conditions</dt><dd></dd></dl>
<p>For Rocflu boundary conditions, following requirement should be met:</p><ul>
<li>Loads/BCs - values are identifies only<ul>
<li>Translations</li>
<li>T1 - Displacement</li>
<li>T2 - Temperature</li>
<li>T3 - Velocity</li>
</ul>
</li>
<li>Pressure Settings - coupling mode<ul>
<li>0 - non-burning</li>
<li>1 - burning</li>
<li>2 - non-interacting</li>
</ul>
</li>
<li>Assign identifies to all physical boundaries</li>
<li>identifies map to "BC Cards" in Rocfrac's RocfracControl.txt</li>
</ul>
<dl class="section user"><dt>Rocfrac Boundary Conditions Priorities</dt><dd></dd></dl>
<p>Rocfrac boundary condition priorities must be set in order to determine which BC's take precedence in presence of two or more BC's on a geometrical entitiy.</p><ul>
<li>Ensure prioirities are set to Value, not "Add".</li>
<li>Default <a class="el" href="classIO.html">IO</a> :<ul>
<li>&lt;casename&gt;.db : Patran reference file</li>
<li>&lt;casename&gt;.out : Patron Neutral File required for Rocfrac preprocessing</li>
</ul>
</li>
</ul>
<div class="image">
<img src="RocfracBoundaryCondPri.png" alt="RocfracBoundaryCondPri.png"/>
</div>
<dl class="section user"><dt>Run Rocprep on NDA </dt><dd></dd></dl>
<p>This example can be run in the same manner as the ACM example discussed above. Follow the procedure from the <a href="RocstarQuickStart.pdf" target="_blank"><b>Rocstar Quickstart Guide</b></a> but using the following commands specific to this example.</p>
<ul>
<li>Use the following command for rocprep: <div class="fragment"><div class="line">rocprep -<a class="code" href="vinci__lass_8c.html#a573a329d328e50550c009804e3633dad">A</a> -o 1 6 -f 3 9 -d ${ROCSTAR_EXAMPLES}/ElasticPiston -t ./EP_4 -n 4 </div>
</div><!-- fragment --></li>
</ul>
<p>This command should generate a directory called EP_4, which should be ready for running the example. In order to shorten the run time of the example change the following variables.</p>
<ul>
<li>In RocstarControl.txt change the following variables:<ul>
<li>MaximumTime = 1.0e-4</li>
<li>OutputIntervalTime = 1.0e-5</li>
</ul>
</li>
<li>In Rocflo/Modin/ep.inp in the PROBE section change the following variable :<ul>
<li>WRITIME 1.0e-5</li>
</ul>
</li>
</ul>
<p>The results for running the simulation with the above changes are shown below for comparison. This graph is generated by plotting column one versus column six from the probe file Rocflo/Modout/ep.prb_0001.</p>
<dl class="section user"><dt>Run Elastic Piston Problem</dt><dd></dd></dl>
<p>Similar to previous examples, you need to set up a batch-system specific job script for your system. Below is the example batch script for elastic piston example for PBS batch system:</p>
<div class="image">
<img src="RunElasPis.png" alt="RunElasPis.png"/>
</div>
<dl class="section user"><dt>Output</dt><dd></dd></dl>
<p>You can visualize the output data with Rocketeer.</p><ul>
<li>3-D fluid volume, fluid_*.hdf</li>
<li>3-D solid volume, solid_*.hdf</li>
<li>plot pressure in the fluid and stress in the solid</li>
<li>Use solid displacement vector to deform the solid mesh</li>
<li>For more information about Rocketeer, see Visualization section</li>
</ul>
<dl class="section user"><dt>Pre-run Visualization Files</dt><dd></dd></dl>
<p>For elastic piston, pre-run visualization files are available for one time dump for both Rocflo and Rocfrac. In order to do that, just load one time dump for both into Rocketeer from the VizData directory.</p>
<h1><a class="anchor" id="select_simulations"></a>
Selected Major Simulations</h1>
<p>This section is adapted from the <a href="Section_02_SimulationExamples.pdf" target="_blank"><b>SimulationExamples</b></a> powerpoint.</p>
<h2><a class="anchor" id="rsrm"></a>
NASA RSRM</h2>
<p>NASA's reusuable solid rocket motor (RSRM) represents the largest solid rocket motor ever flown. Each motor provides approximately 3-million lb of thrust to lift from the launch pad where the motors burn out approximately two minutes later. The <a class="el" href="namespaceRocstar.html">Rocstar</a> suite provides a burnout simulation of this rocket. </p><div class="image">
<img src="rsrm_propellant.png" alt="rsrm_propellant.png"/>
<div class="caption">
The image shows the red as the burning propellant and the blue as the insulated surface. </div></div>
<p> The simulation provices unique viewing options such as a propellant/flud interface as well as inhibited surfaces. In terms capabilities, there is a high rate of "time zooming", case constraints, propellant walkback, inhibitor regression and a dynamically changing topology. <br />
<br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Mar 13 2016 03:29:05 for Rocstar by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
